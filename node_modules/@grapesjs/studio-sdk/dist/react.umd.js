(function($e,f){typeof exports=="object"&&typeof module<"u"?f(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],f):($e=typeof globalThis<"u"?globalThis:$e||self,f($e.GrapesJsStudioSDK={},$e.React,$e.ReactDOM))})(this,function($e,f,Pt){"use strict";function Pf(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const n in e)if(n!=="default"){const r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:()=>e[n]})}}return t.default=e,Object.freeze(t)}const ke=Pf(f),Vb=Pf(Pt);function ql(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Tf={exports:{}},ds={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Af;function Hb(){if(Af)return ds;Af=1;var e=f,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var d,p={},h=null,g=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:t,type:a,key:h,ref:g,props:p,_owner:o.current}}return ds.Fragment=n,ds.jsx=i,ds.jsxs=i,ds}Tf.exports=Hb();var l=Tf.exports;class Bb extends Error{constructor(t,n){super(t),this.error=t,this.errorData=n}}const Ni=async(e,{onError:t,onLoading:n,onResult:r,params:o,...s})=>{try{n==null||n(!0);const i=o?new URLSearchParams(o).toString():"",a=i?`?${i}`:"",c=await fetch(`${e}${a}`,s);if(!c.ok){const d=await c.json();throw new Bb(d.error||"Request failed!",d.errorData)}const u=await c.json();return r==null||r(u),u}catch(i){const a=i instanceof Error?i:new Error(i);return t==null||t(a),a}finally{n==null||n(!1)}};class Pn{static async get(t,n){return Ni(t,{...n,method:"GET"})}static async post(t,n){return Ni(t,{...n,method:"POST"})}static async put(t,n){return Ni(t,{...n,method:"PUT"})}static async delete(t,n){return Ni(t,{...n,method:"DELETE"})}}function Le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var zb={};function $i(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:zb}var Mf=Object.assign,Di=Object.getOwnPropertyDescriptor,Tn=Object.defineProperty,Ii=Object.prototype,Yl=[];Object.freeze(Yl);var Xl={};Object.freeze(Xl);var Fb=typeof Proxy<"u",Rb=Object.toString();function kf(){Fb||Le("Proxy not available")}function Lf(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var wo=function(){};function gn(e){return typeof e=="function"}function Rr(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function Vi(e){return e!==null&&typeof e=="object"}function Xn(e){if(!Vi(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===Rb}function Nf(e){var t=e==null?void 0:e.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function fs(e,t,n){Tn(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function $f(e,t,n){Tn(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Ur(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return Vi(r)&&r[n]===!0}}function So(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function Ub(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function Zn(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Df=typeof Object.getOwnPropertySymbols<"u";function Wb(e){var t=Object.keys(e);if(!Df)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return Ii.propertyIsEnumerable.call(e,r)})):t}var jo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Df?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function If(e){return e===null?null:typeof e=="object"?""+e:e}function Jn(e,t){return Ii.hasOwnProperty.call(e,t)}var Gb=Object.getOwnPropertyDescriptors||function(t){var n={};return jo(t).forEach(function(r){n[r]=Di(t,r)}),n};function Dt(e,t){return!!(e&t)}function It(e,t,n){return n?e|=t:e&=~t,e}function Vf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qb(r.key),r)}}function Co(e,t,n){return t&&Hf(e.prototype,t),n&&Hf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Yb(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(null,arguments)}function Bf(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Zl(e,t)}function Zl(e,t){return Zl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Zl(e,t)}function Kb(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qb(e){var t=Kb(e,"string");return typeof t=="symbol"?t:t+""}function Yb(e,t){if(e){if(typeof e=="string")return Vf(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(e,t):void 0}}var An=Symbol("mobx-stored-annotations");function Mn(e){function t(n,r){if(hs(r))return e.decorate_20223_(n,r);ps(n,r,e)}return Object.assign(t,e)}function ps(e,t,n){Jn(e,An)||fs(e,An,Wr({},e[An])),o0(n)||(e[An][t]=n)}function Xb(e){return Jn(e,An)||fs(e,An,Wr({},e[An])),e[An]}function hs(e){return typeof e=="object"&&typeof e.kind=="string"}var pe=Symbol("mobx administration"),yr=function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=De.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return sp(this)},t.reportChanged=function(){Yt(),ip(this),Xt()},t.toString=function(){return this.name_},Co(e,[{key:"isBeingObserved",get:function(){return Dt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=It(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Dt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=It(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Dt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=It(this.flags_,e.diffValueMask_,r===1)}}])}();yr.isBeingObservedMask_=1,yr.isPendingUnobservationMask_=2,yr.diffValueMask_=4;var Jl=Ur("Atom",yr);function zf(e,t,n){t===void 0&&(t=wo),n===void 0&&(n=wo);var r=new yr(e);return t!==wo&&cy(r,t),n!==wo&&pp(r,n),r}function Zb(e,t){return e===t}function Jb(e,t){return hc(e,t)}function Qb(e,t){return hc(e,t,1)}function e0(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var _o={identity:Zb,structural:Jb,default:e0,shallow:Qb};function Gr(e,t,n){return yp(e)?e:Array.isArray(e)?mt.array(e,{name:n}):Xn(e)?mt.object(e,void 0,{name:n}):So(e)?mt.map(e,{name:n}):Zn(e)?mt.set(e,{name:n}):typeof e=="function"&&!ys(e)&&!xs(e)?Nf(e)?Zr(e):bs(n,e):e}function t0(e,t,n){if(e==null||js(e)||na(e)||Jr(e)||Nn(e))return e;if(Array.isArray(e))return mt.array(e,{name:n,deep:!1});if(Xn(e))return mt.object(e,void 0,{name:n,deep:!1});if(So(e))return mt.map(e,{name:n,deep:!1});if(Zn(e))return mt.set(e,{name:n,deep:!1})}function Hi(e){return e}function n0(e,t){return hc(e,t)?t:e}var r0="override";function o0(e){return e.annotationType_===r0}function gs(e,t){return{annotationType_:e,options_:t,make_:s0,extend_:i0,decorate_20223_:a0}}function s0(e,t,n,r){var o;if((o=this.options_)!=null&&o.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(ys(n.value))return 1;var s=Ff(e,this,t,n,!1);return Tn(r,t,s),2}function i0(e,t,n,r){var o=Ff(e,this,t,n);return e.defineProperty_(t,o,r)}function a0(e,t){var n=t.kind,r=t.name,o=t.addInitializer,s=this,i=function(u){var d,p,h,g;return Kr((d=(p=s.options_)==null?void 0:p.name)!=null?d:r.toString(),u,(h=(g=s.options_)==null?void 0:g.autoAction)!=null?h:!1)};if(n=="field")return function(c){var u,d=c;return ys(d)||(d=i(d)),(u=s.options_)!=null&&u.bound&&(d=d.bind(this),d.isMobxAction=!0),d};if(n=="method"){var a;return ys(e)||(e=i(e)),(a=this.options_)!=null&&a.bound&&o(function(){var c=this,u=c[r].bind(c);u.isMobxAction=!0,c[r]=u}),e}Le("Cannot apply '"+s.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+s.annotationType_+"' can only be used on properties with a function value."))}function l0(e,t,n,r){t.annotationType_,r.value}function Ff(e,t,n,r,o){var s,i,a,c,u,d,p;o===void 0&&(o=oe.safeDescriptors),l0(e,t,n,r);var h=r.value;if((s=t.options_)!=null&&s.bound){var g;h=h.bind((g=e.proxy_)!=null?g:e.target_)}return{value:Kr((i=(a=t.options_)==null?void 0:a.name)!=null?i:n.toString(),h,(c=(u=t.options_)==null?void 0:u.autoAction)!=null?c:!1,(d=t.options_)!=null&&d.bound?(p=e.proxy_)!=null?p:e.target_:void 0),configurable:o?e.isPlainObject_:!0,enumerable:!1,writable:!o}}function Rf(e,t){return{annotationType_:e,options_:t,make_:c0,extend_:u0,decorate_20223_:d0}}function c0(e,t,n,r){var o;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((o=this.options_)!=null&&o.bound&&(!Jn(e.target_,t)||!xs(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(xs(n.value))return 1;var s=Uf(e,this,t,n,!1,!1);return Tn(r,t,s),2}function u0(e,t,n,r){var o,s=Uf(e,this,t,n,(o=this.options_)==null?void 0:o.bound);return e.defineProperty_(t,s,r)}function d0(e,t){var n,r=t.name,o=t.addInitializer;return xs(e)||(e=Zr(e)),(n=this.options_)!=null&&n.bound&&o(function(){var s=this,i=s[r].bind(s);i.isMobXFlow=!0,s[r]=i}),e}function f0(e,t,n,r){t.annotationType_,r.value}function Uf(e,t,n,r,o,s){s===void 0&&(s=oe.safeDescriptors),f0(e,t,n,r);var i=r.value;if(xs(i)||(i=Zr(i)),o){var a;i=i.bind((a=e.proxy_)!=null?a:e.target_),i.isMobXFlow=!0}return{value:i,configurable:s?e.isPlainObject_:!0,enumerable:!1,writable:!s}}function Ql(e,t){return{annotationType_:e,options_:t,make_:p0,extend_:h0,decorate_20223_:g0}}function p0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function h0(e,t,n,r){return m0(e,this,t,n),e.defineComputedProperty_(t,Wr({},this.options_,{get:n.get,set:n.set}),r)}function g0(e,t){var n=this,r=t.name,o=t.addInitializer;return o(function(){var s=Qr(this)[pe],i=Wr({},n.options_,{get:e,context:this});i.name||(i.name="ObservableObject."+r.toString()),s.values_.set(r,new mn(i))}),function(){return this[pe].getObservablePropValue_(r)}}function m0(e,t,n,r){t.annotationType_,r.get}function Bi(e,t){return{annotationType_:e,options_:t,make_:v0,extend_:b0,decorate_20223_:y0}}function v0(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function b0(e,t,n,r){var o,s;return x0(e,this),e.defineObservableProperty_(t,n.value,(o=(s=this.options_)==null?void 0:s.enhancer)!=null?o:Gr,r)}function y0(e,t){var n=this,r=t.kind,o=t.name,s=new WeakSet;function i(a,c){var u,d,p=Qr(a)[pe],h=new qr(c,(u=(d=n.options_)==null?void 0:d.enhancer)!=null?u:Gr,"ObservableObject."+o.toString(),!1);p.values_.set(o,h),s.add(a)}if(r=="accessor")return{get:function(){return s.has(this)||i(this,e.get.call(this)),this[pe].getObservablePropValue_(o)},set:function(c){return s.has(this)||i(this,c),this[pe].setObservablePropValue_(o,c)},init:function(c){return s.has(this)||i(this,c),c}}}function x0(e,t,n,r){t.annotationType_}var w0="true",S0=Wf();function Wf(e){return{annotationType_:w0,options_:e,make_:j0,extend_:C0,decorate_20223_:E0}}function j0(e,t,n,r){var o,s;if(n.get)return Ri.make_(e,t,n,r);if(n.set){var i=Kr(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:oe.safeDescriptors?e.isPlainObject_:!0,set:i})===null?0:2:(Tn(r,t,{configurable:!0,set:i}),2)}if(r!==e.target_&&typeof n.value=="function"){var a;if(Nf(n.value)){var c,u=(c=this.options_)!=null&&c.autoBind?Zr.bound:Zr;return u.make_(e,t,n,r)}var d=(a=this.options_)!=null&&a.autoBind?bs.bound:bs;return d.make_(e,t,n,r)}var p=((o=this.options_)==null?void 0:o.deep)===!1?mt.ref:mt;if(typeof n.value=="function"&&(s=this.options_)!=null&&s.autoBind){var h;n.value=n.value.bind((h=e.proxy_)!=null?h:e.target_)}return p.make_(e,t,n,r)}function C0(e,t,n,r){var o,s;if(n.get)return Ri.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:oe.safeDescriptors?e.isPlainObject_:!0,set:Kr(t.toString(),n.set)},r);if(typeof n.value=="function"&&(o=this.options_)!=null&&o.autoBind){var i;n.value=n.value.bind((i=e.proxy_)!=null?i:e.target_)}var a=((s=this.options_)==null?void 0:s.deep)===!1?mt.ref:mt;return a.extend_(e,t,n,r)}function E0(e,t){Le("'"+this.annotationType_+"' cannot be used as a decorator")}var _0="observable",O0="observable.ref",P0="observable.shallow",T0="observable.struct",Gf={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Gf);function zi(e){return e||Gf}var ec=Bi(_0),A0=Bi(O0,{enhancer:Hi}),M0=Bi(P0,{enhancer:t0}),k0=Bi(T0,{enhancer:n0}),Kf=Mn(ec);function Fi(e){return e.deep===!0?Gr:e.deep===!1?Hi:N0(e.defaultDecorator)}function L0(e){var t;return e?(t=e.defaultDecorator)!=null?t:Wf(e):void 0}function N0(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:Gr}function qf(e,t,n){if(hs(t))return ec.decorate_20223_(e,t);if(Rr(t)){ps(e,t,ec);return}return yp(e)?e:Xn(e)?mt.object(e,t,n):Array.isArray(e)?mt.array(e,t):So(e)?mt.map(e,t):Zn(e)?mt.set(e,t):typeof e=="object"&&e!==null?e:mt.box(e,t)}Mf(qf,Kf);var $0={box:function(t,n){var r=zi(n);return new qr(t,Fi(r),r.name,!0,r.equals)},array:function(t,n){var r=zi(n);return(oe.useProxies===!1||r.proxy===!1?Ly:jy)(t,Fi(r),r.name)},map:function(t,n){var r=zi(n);return new Sp(t,Fi(r),r.name)},set:function(t,n){var r=zi(n);return new Cp(t,Fi(r),r.name)},object:function(t,n,r){return wr(function(){return gp(oe.useProxies===!1||(r==null?void 0:r.proxy)===!1?Qr({},r):yy({},r),t,n)})},ref:Mn(A0),shallow:Mn(M0),deep:Kf,struct:Mn(k0)},mt=Mf(qf,$0),Yf="computed",D0="computed.struct",tc=Ql(Yf),I0=Ql(D0,{equals:_o.structural}),Ri=function(t,n){if(hs(n))return tc.decorate_20223_(t,n);if(Rr(n))return ps(t,n,tc);if(Xn(t))return Mn(Ql(Yf,t));var r=Xn(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new mn(r)};Object.assign(Ri,tc),Ri.struct=Mn(I0);var Xf,Zf,Ui=0,V0=1,H0=(Xf=(Zf=Di(function(){},"name"))==null?void 0:Zf.configurable)!=null?Xf:!1,Jf={value:"action",configurable:!0,writable:!1,enumerable:!1};function Kr(e,t,n,r){n===void 0&&(n=!1);function o(){return B0(e,n,t,r||this,arguments)}return o.isMobxAction=!0,o.toString=function(){return t.toString()},H0&&(Jf.value=e,Tn(o,"name",Jf)),o}function B0(e,t,n,r,o){var s=z0(e,t);try{return n.apply(r,o)}catch(i){throw s.error_=i,i}finally{F0(s)}}function z0(e,t,n,r){var o=!1,s=0,i=oe.trackingDerivation,a=!t||!i;Yt();var c=oe.allowStateChanges;a&&(Yr(),c=Wi(!0));var u=oc(!0),d={runAsAction_:a,prevDerivation_:i,prevAllowStateChanges_:c,prevAllowStateReads_:u,notifySpy_:o,startTime_:s,actionId_:V0++,parentActionId_:Ui};return Ui=d.actionId_,d}function F0(e){Ui!==e.actionId_&&Le(30),Ui=e.parentActionId_,e.error_!==void 0&&(oe.suppressReactionErrors=!0),Gi(e.prevAllowStateChanges_),ms(e.prevAllowStateReads_),Xt(),e.runAsAction_&&Qn(e.prevDerivation_),oe.suppressReactionErrors=!1}function R0(e,t){var n=Wi(e);try{return t()}finally{Gi(n)}}function Wi(e){var t=oe.allowStateChanges;return oe.allowStateChanges=e,t}function Gi(e){oe.allowStateChanges=e}var qr=function(e){function t(r,o,s,i,a){var c;return s===void 0&&(s="ObservableValue"),a===void 0&&(a=_o.default),c=e.call(this,s)||this,c.enhancer=void 0,c.name_=void 0,c.equals=void 0,c.hasUnreportedChange_=!1,c.interceptors_=void 0,c.changeListeners_=void 0,c.value_=void 0,c.dehancer=void 0,c.enhancer=o,c.name_=s,c.equals=a,c.value_=o(r,void 0,s),c}Bf(t,e);var n=t.prototype;return n.dehanceValue=function(o){return this.dehancer!==void 0?this.dehancer(o):o},n.set=function(o){this.value_,o=this.prepareNewValue_(o),o!==oe.UNCHANGED&&this.setNewValue_(o)},n.prepareNewValue_=function(o){if(Zt(this)){var s=Jt(this,{object:this,type:Ln,newValue:o});if(!s)return oe.UNCHANGED;o=s.newValue}return o=this.enhancer(o,this.value_,this.name_),this.equals(this.value_,o)?oe.UNCHANGED:o},n.setNewValue_=function(o){var s=this.value_;this.value_=o,this.reportChanged(),vn(this)&&bn(this,{type:Ln,object:this,newValue:o,oldValue:s})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(o){return ws(this,o)},n.observe_=function(o,s){return s&&o({observableKind:"value",debugObjectName:this.name_,object:this,type:Ln,newValue:this.value_,oldValue:void 0}),Ss(this,o)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return If(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(yr),mn=function(){function e(n){this.dependenciesState_=De.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=De.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Yi(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=qi.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Le(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=Kr("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?_o.structural:_o.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){q0(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Le(32,this.name_,this.derivation),oe.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)nc(this)&&(this.warnAboutUntrackedRead_(),Yt(),this.value_=this.computeValue_(!1),Xt());else if(sp(this),nc(this)){var r=oe.trackingContext;this.keepAlive_&&!r&&(oe.trackingContext=this),this.trackAndCompute()&&K0(this),oe.trackingContext=r}var o=this.value_;if(Xi(o))throw o.cause;return o},t.set=function(r){if(this.setter_){this.isRunningSetter&&Le(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Le(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,o=this.dependenciesState_===De.NOT_TRACKING_,s=this.computeValue_(!0),i=o||Xi(r)||Xi(s)||!this.equals_(r,s);return i&&(this.value_=s),i},t.computeValue_=function(r){this.isComputing=!0;var o=Wi(!1),s;if(r)s=Qf(this,this.derivation,this.scope_);else if(oe.disableErrorBoundaries===!0)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(i){s=new Yi(i)}return Gi(o),this.isComputing=!1,s},t.suspend_=function(){this.keepAlive_||(rc(this),this.value_=void 0)},t.observe_=function(r,o){var s=this,i=!0,a=void 0;return oy(function(){var c=s.get();if(!i||o){var u=Yr();r({observableKind:"computed",debugObjectName:s.name_,type:Ln,object:s,newValue:c,oldValue:a}),Qn(u)}i=!1,a=c})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return If(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Co(e,[{key:"isComputing",get:function(){return Dt(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=It(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Dt(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=It(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Dt(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=It(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Dt(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=It(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Dt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=It(this.flags_,e.diffValueMask_,r===1)}}])}();mn.isComputingMask_=1,mn.isRunningSetterMask_=2,mn.isBeingObservedMask_=4,mn.isPendingUnobservationMask_=8,mn.diffValueMask_=16;var Ki=Ur("ComputedValue",mn),De;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(De||(De={}));var qi;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(qi||(qi={}));var Yi=function(t){this.cause=void 0,this.cause=t};function Xi(e){return e instanceof Yi}function nc(e){switch(e.dependenciesState_){case De.UP_TO_DATE_:return!1;case De.NOT_TRACKING_:case De.STALE_:return!0;case De.POSSIBLY_STALE_:{for(var t=oc(!0),n=Yr(),r=e.observing_,o=r.length,s=0;s<o;s++){var i=r[s];if(Ki(i)){if(oe.disableErrorBoundaries)i.get();else try{i.get()}catch{return Qn(n),ms(t),!0}if(e.dependenciesState_===De.STALE_)return Qn(n),ms(t),!0}}return tp(e),Qn(n),ms(t),!1}}}function F4(e){}function Qf(e,t,n){var r=oc(!0);tp(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++oe.runId;var o=oe.trackingDerivation;oe.trackingDerivation=e,oe.inBatch++;var s;if(oe.disableErrorBoundaries===!0)s=t.call(n);else try{s=t.call(n)}catch(i){s=new Yi(i)}return oe.inBatch--,oe.trackingDerivation=o,U0(e),ms(r),s}function U0(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=De.UP_TO_DATE_,o=0,s=e.unboundDepsCount_,i=0;i<s;i++){var a=n[i];a.diffValue===0&&(a.diffValue=1,o!==i&&(n[o]=a),o++),a.dependenciesState_>r&&(r=a.dependenciesState_)}for(n.length=o,e.newObserving_=null,s=t.length;s--;){var c=t[s];c.diffValue===0&&rp(c,e),c.diffValue=0}for(;o--;){var u=n[o];u.diffValue===1&&(u.diffValue=0,G0(u,e))}r!==De.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function rc(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)rp(t[n],e);e.dependenciesState_=De.NOT_TRACKING_}function ep(e){var t=Yr();try{return e()}finally{Qn(t)}}function Yr(){var e=oe.trackingDerivation;return oe.trackingDerivation=null,e}function Qn(e){oe.trackingDerivation=e}function oc(e){var t=oe.allowStateReads;return oe.allowStateReads=e,t}function ms(e){oe.allowStateReads=e}function tp(e){if(e.dependenciesState_!==De.UP_TO_DATE_){e.dependenciesState_=De.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=De.UP_TO_DATE_}}var Zi=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Ji=!0,np=!1,oe=function(){var e=$i();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Ji=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new Zi().version&&(Ji=!1),Ji?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Zi):(setTimeout(function(){np||Le(35)},1),new Zi)}();function W0(){if((oe.pendingReactions.length||oe.inBatch||oe.isRunningReactions)&&Le(36),np=!0,Ji){var e=$i();--e.__mobxInstanceCount===0&&(e.__mobxGlobals=void 0),oe=new Zi}}function G0(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function rp(e,t){e.observers_.delete(t),e.observers_.size===0&&op(e)}function op(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,oe.pendingUnobservations.push(e))}function Yt(){oe.inBatch++}function Xt(){if(--oe.inBatch===0){ap();for(var e=oe.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof mn&&n.suspend_())}oe.pendingUnobservations=[]}}function sp(e){var t=oe.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&oe.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&oe.inBatch>0&&op(e),!1)}function ip(e){e.lowestObserverState_!==De.STALE_&&(e.lowestObserverState_=De.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===De.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=De.STALE_}))}function K0(e){e.lowestObserverState_!==De.STALE_&&(e.lowestObserverState_=De.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===De.POSSIBLY_STALE_?t.dependenciesState_=De.STALE_:t.dependenciesState_===De.UP_TO_DATE_&&(e.lowestObserverState_=De.UP_TO_DATE_)}))}function q0(e){e.lowestObserverState_===De.UP_TO_DATE_&&(e.lowestObserverState_=De.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===De.UP_TO_DATE_&&(t.dependenciesState_=De.POSSIBLY_STALE_,t.onBecomeStale_())}))}var kn=function(){function e(n,r,o,s){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=De.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=qi.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=o,this.requiresObservable_=s}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,oe.pendingReactions.push(this),ap())},t.runReaction_=function(){if(!this.isDisposed){Yt(),this.isScheduled=!1;var r=oe.trackingContext;if(oe.trackingContext=this,nc(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(o){this.reportExceptionInDerivation_(o)}}oe.trackingContext=r,Xt()}},t.track=function(r){if(!this.isDisposed){Yt(),this.isRunning=!0;var o=oe.trackingContext;oe.trackingContext=this;var s=Qf(this,r,void 0);oe.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&rc(this),Xi(s)&&this.reportExceptionInDerivation_(s.cause),Xt()}},t.reportExceptionInDerivation_=function(r){var o=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(oe.disableErrorBoundaries)throw r;var s="[mobx] uncaught error in '"+this+"'";oe.suppressReactionErrors||console.error(s,r),oe.globalReactionErrorHandlers.forEach(function(i){return i(r,o)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Yt(),rc(this),Xt()))},t.getDisposer_=function(r){var o=this,s=function i(){o.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",i)};return r==null||r.addEventListener==null||r.addEventListener("abort",s),s[pe]=this,s},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Co(e,[{key:"isDisposed",get:function(){return Dt(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=It(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Dt(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=It(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Dt(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=It(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Dt(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=It(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Dt(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=It(this.flags_,e.diffValueMask_,r===1)}}])}();kn.isDisposedMask_=1,kn.isScheduledMask_=2,kn.isTrackPendingMask_=4,kn.isRunningMask_=8,kn.diffValueMask_=16;var Y0=100,sc=function(t){return t()};function ap(){oe.inBatch>0||oe.isRunningReactions||sc(X0)}function X0(){oe.isRunningReactions=!0;for(var e=oe.pendingReactions,t=0;e.length>0;){++t===Y0&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}oe.isRunningReactions=!1}var Qi=Ur("Reaction",kn);function Z0(e){var t=sc;sc=function(r){return e(function(){return t(r)})}}function vs(){return!1}function R4(e){}function U4(e){}function W4(e){}function J0(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var lp="action",Q0="action.bound",cp="autoAction",ey="autoAction.bound",ty="<unnamed action>",ic=gs(lp),ny=gs(Q0,{bound:!0}),ac=gs(cp,{autoAction:!0}),ry=gs(ey,{autoAction:!0,bound:!0});function up(e){var t=function(r,o){if(gn(r))return Kr(r.name||ty,r,e);if(gn(o))return Kr(r,o,e);if(hs(o))return(e?ac:ic).decorate_20223_(r,o);if(Rr(o))return ps(r,o,e?ac:ic);if(Rr(r))return Mn(gs(e?cp:lp,{name:r,autoAction:e}))};return t}var Xr=up(!1);Object.assign(Xr,ic);var bs=up(!0);Object.assign(bs,ac),Xr.bound=Mn(ny),bs.bound=Mn(ry);function ys(e){return gn(e)&&e.isMobxAction===!0}function oy(e,t){var n,r,o,s;t===void 0&&(t=Xl);var i=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",a=!t.scheduler&&!t.delay,c;if(a)c=new kn(i,function(){this.track(p)},t.onError,t.requiresObservable);else{var u=dp(t),d=!1;c=new kn(i,function(){d||(d=!0,u(function(){d=!1,c.isDisposed||c.track(p)}))},t.onError,t.requiresObservable)}function p(){e(c)}return(o=t)!=null&&(o=o.signal)!=null&&o.aborted||c.schedule_(),c.getDisposer_((s=t)==null?void 0:s.signal)}var sy=function(t){return t()};function dp(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:sy}function fp(e,t,n){var r,o,s;n===void 0&&(n=Xl);var i=(r=n.name)!=null?r:"Reaction",a=Xr(i,n.onError?iy(n.onError,t):t),c=!n.scheduler&&!n.delay,u=dp(n),d=!0,p=!1,h,g=n.compareStructural?_o.structural:n.equals||_o.default,v=new kn(i,function(){d||c?b():p||(p=!0,u(b))},n.onError,n.requiresObservable);function b(){if(p=!1,!v.isDisposed){var y=!1,m=h;v.track(function(){var x=R0(!1,function(){return e(v)});y=d||!g(h,x),h=x}),(d&&n.fireImmediately||!d&&y)&&a(h,m,v),d=!1}}return(o=n)!=null&&(o=o.signal)!=null&&o.aborted||v.schedule_(),v.getDisposer_((s=n)==null?void 0:s.signal)}function iy(e,t){return function(){try{return t.apply(this,arguments)}catch(n){e.call(this,n)}}}var ay="onBO",ly="onBUO";function cy(e,t,n){return hp(ay,e,t,n)}function pp(e,t,n){return hp(ly,e,t,n)}function hp(e,t,n,r){var o=typeof r=="function"?Po(t,n):Po(t),s=gn(r)?r:n,i=e+"L";return o[i]?o[i].add(s):o[i]=new Set([s]),function(){var a=o[i];a&&(a.delete(s),a.size===0&&delete o[i])}}var uy="never",ea="always",dy="observed";function fy(e){e.isolateGlobalState===!0&&W0();var t=e.useProxies,n=e.enforceActions;if(t!==void 0&&(oe.useProxies=t===ea?!0:t===uy?!1:typeof Proxy<"u"),t==="ifavailable"&&(oe.verifyProxies=!0),n!==void 0){var r=n===ea?ea:n===dy;oe.enforceActions=r,oe.allowStateChanges=!(r===!0||r===ea)}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach(function(o){o in e&&(oe[o]=!!e[o])}),oe.allowStateReads=!oe.observableRequiresReaction,e.reactionScheduler&&Z0(e.reactionScheduler)}function gp(e,t,n,r){var o=Gb(t);return wr(function(){var s=Qr(e,r)[pe];jo(o).forEach(function(i){s.extend_(i,o[i],n&&i in n?n[i]:!0)})}),e}function py(e,t){return mp(Po(e,t))}function mp(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=hy(e.observing_).map(mp)),t}function hy(e){return Array.from(new Set(e))}var gy=0;function vp(){this.message="FLOW_CANCELLED"}vp.prototype=Object.create(Error.prototype);var lc=Rf("flow"),my=Rf("flow.bound",{bound:!0}),Zr=Object.assign(function(t,n){if(hs(n))return lc.decorate_20223_(t,n);if(Rr(n))return ps(t,n,lc);var r=t,o=r.name||"<unnamed flow>",s=function(){var a=this,c=arguments,u=++gy,d=Xr(o+" - runid: "+u+" - init",r).apply(a,c),p,h=void 0,g=new Promise(function(v,b){var y=0;p=b;function m(S){h=void 0;var C;try{C=Xr(o+" - runid: "+u+" - yield "+y++,d.next).call(d,S)}catch(j){return b(j)}w(C)}function x(S){h=void 0;var C;try{C=Xr(o+" - runid: "+u+" - yield "+y++,d.throw).call(d,S)}catch(j){return b(j)}w(C)}function w(S){if(gn(S==null?void 0:S.then)){S.then(w,b);return}return S.done?v(S.value):(h=Promise.resolve(S.value),h.then(m,x))}m(void 0)});return g.cancel=Xr(o+" - runid: "+u+" - cancel",function(){try{h&&bp(h);var v=d.return(void 0),b=Promise.resolve(v.value);b.then(wo,wo),bp(b),p(new vp)}catch(y){p(y)}}),g};return s.isMobXFlow=!0,s},lc);Zr.bound=Mn(my);function bp(e){gn(e.cancel)&&e.cancel()}function xs(e){return(e==null?void 0:e.isMobXFlow)===!0}function vy(e,t){return e?t!==void 0?js(e)?e[pe].values_.has(t):!1:js(e)||!!e[pe]||Jl(e)||Qi(e)||Ki(e):!1}function yp(e){return vy(e)}function er(e,t){t===void 0&&(t=void 0),Yt();try{return e.apply(t)}finally{Xt()}}function Oo(e){return e[pe]}var by={has:function(t,n){return Oo(t).has_(n)},get:function(t,n){return Oo(t).get_(n)},set:function(t,n,r){var o;return Rr(n)?(o=Oo(t).set_(n,r,!0))!=null?o:!0:!1},deleteProperty:function(t,n){var r;return Rr(n)?(r=Oo(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var o;return(o=Oo(t).defineProperty_(n,r))!=null?o:!0},ownKeys:function(t){return Oo(t).ownKeys_()},preventExtensions:function(t){Le(13)}};function yy(e,t){var n,r;return kf(),e=Qr(e,t),(r=(n=e[pe]).proxy_)!=null?r:n.proxy_=new Proxy(e,by)}function Zt(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function ws(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Lf(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Jt(e,t){var n=Yr();try{for(var r=[].concat(e.interceptors_||[]),o=0,s=r.length;o<s&&(t=r[o](t),t&&!t.type&&Le(14),!!t);o++);return t}finally{Qn(n)}}function vn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Ss(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Lf(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function bn(e,t){var n=Yr(),r=e.changeListeners_;if(r){r=r.slice();for(var o=0,s=r.length;o<s;o++)r[o](t);Qn(n)}}function xy(e,t,n){return wr(function(){var r,o=Qr(e,n)[pe];(r=t)!=null||(t=Xb(e)),jo(t).forEach(function(s){return o.make_(s,t[s])})}),e}var cc=Symbol("mobx-keys");function yn(e,t,n){return Xn(e)?gp(e,e,t,n):(wr(function(){var r=Qr(e,n)[pe];if(!e[cc]){var o=Object.getPrototypeOf(e),s=new Set([].concat(jo(e),jo(o)));s.delete("constructor"),s.delete(pe),fs(o,cc,s)}e[cc].forEach(function(i){return r.make_(i,t&&i in t?t[i]:!0)})}),e)}var xp="splice",Ln="update",wy=1e4,Sy={get:function(t,n){var r=t[pe];return n===pe?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Jn(ta,n)?ta[n]:t[n]},set:function(t,n,r){var o=t[pe];return n==="length"&&o.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function(){Le(15)}},uc=function(){function e(n,r,o,s){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=o,this.legacyMode_=s,this.atom_=new yr(n),this.enhancer_=function(i,a){return r(i,a,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return ws(this,r)},t.observe_=function(r,o){return o===void 0&&(o=!1),o&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ss(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Le("Out of range: "+r);var o=this.values_.length;if(r!==o)if(r>o){for(var s=new Array(r-o),i=0;i<r-o;i++)s[i]=void 0;this.spliceWithArray_(o,0,s)}else this.spliceWithArray_(r,o-r)},t.updateArrayLength_=function(r,o){r!==this.lastKnownLength_&&Le(16),this.lastKnownLength_+=o,this.legacyMode_&&o>0&&Lp(r+o+1)},t.spliceWithArray_=function(r,o,s){var i=this;this.atom_;var a=this.values_.length;if(r===void 0?r=0:r>a?r=a:r<0&&(r=Math.max(0,a+r)),arguments.length===1?o=a-r:o==null?o=0:o=Math.max(0,Math.min(o,a-r)),s===void 0&&(s=Yl),Zt(this)){var c=Jt(this,{object:this.proxy_,type:xp,index:r,removedCount:o,added:s});if(!c)return Yl;o=c.removedCount,s=c.added}if(s=s.length===0?s:s.map(function(p){return i.enhancer_(p,void 0)}),this.legacyMode_){var u=s.length-o;this.updateArrayLength_(a,u)}var d=this.spliceItemsIntoValues_(r,o,s);return(o!==0||s.length!==0)&&this.notifyArraySplice_(r,s,d),this.dehanceValues_(d)},t.spliceItemsIntoValues_=function(r,o,s){if(s.length<wy){var i;return(i=this.values_).splice.apply(i,[r,o].concat(s))}else{var a=this.values_.slice(r,r+o),c=this.values_.slice(r+o);this.values_.length+=s.length-o;for(var u=0;u<s.length;u++)this.values_[r+u]=s[u];for(var d=0;d<c.length;d++)this.values_[r+s.length+d]=c[d];return a}},t.notifyArrayChildUpdate_=function(r,o,s){var i=!this.owned_&&vs(),a=vn(this),c=a||i?{observableKind:"array",object:this.proxy_,type:Ln,debugObjectName:this.atom_.name_,index:r,newValue:o,oldValue:s}:null;this.atom_.reportChanged(),a&&bn(this,c)},t.notifyArraySplice_=function(r,o,s){var i=!this.owned_&&vs(),a=vn(this),c=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:xp,index:r,removed:s,added:o,removedCount:s.length,addedCount:o.length}:null;this.atom_.reportChanged(),a&&bn(this,c)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,o){var s=this.values_;if(this.legacyMode_&&r>s.length&&Le(17,r,s.length),r<s.length){this.atom_;var i=s[r];if(Zt(this)){var a=Jt(this,{type:Ln,object:this.proxy_,index:r,newValue:o});if(!a)return;o=a.newValue}o=this.enhancer_(o,i);var c=o!==i;c&&(s[r]=o,this.notifyArrayChildUpdate_(r,o,i))}else{for(var u=new Array(r+1-s.length),d=0;d<u.length-1;d++)u[d]=void 0;u[u.length-1]=o,this.spliceWithArray_(s.length,0,u)}},e}();function jy(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),kf(),wr(function(){var o=new uc(n,t,r,!1);$f(o.values_,pe,o);var s=new Proxy(o.values_,Sy);return o.proxy_=s,e&&e.length&&o.spliceWithArray_(0,0,e),s})}var ta={clear:function(){return this.splice(0)},replace:function(t){var n=this[pe];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];var i=this[pe];switch(arguments.length){case 0:return[];case 1:return i.spliceWithArray_(t);case 2:return i.spliceWithArray_(t,n)}return i.spliceWithArray_(t,n,o)},spliceWithArray:function(t,n,r){return this[pe].spliceWithArray_(t,n,r)},push:function(){for(var t=this[pe],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[pe].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[pe],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return oe.trackingDerivation&&Le(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){oe.trackingDerivation&&Le(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[pe],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};Ye("at",Vt),Ye("concat",Vt),Ye("flat",Vt),Ye("includes",Vt),Ye("indexOf",Vt),Ye("join",Vt),Ye("lastIndexOf",Vt),Ye("slice",Vt),Ye("toString",Vt),Ye("toLocaleString",Vt),Ye("toSorted",Vt),Ye("toSpliced",Vt),Ye("with",Vt),Ye("every",xn),Ye("filter",xn),Ye("find",xn),Ye("findIndex",xn),Ye("findLast",xn),Ye("findLastIndex",xn),Ye("flatMap",xn),Ye("forEach",xn),Ye("map",xn),Ye("some",xn),Ye("toReversed",xn),Ye("reduce",wp),Ye("reduceRight",wp);function Ye(e,t){typeof Array.prototype[e]=="function"&&(ta[e]=t(e))}function Vt(e){return function(){var t=this[pe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function xn(e){return function(t,n){var r=this,o=this[pe];o.atom_.reportObserved();var s=o.dehanceValues_(o.values_);return s[e](function(i,a){return t.call(n,i,a,r)})}}function wp(e){return function(){var t=this,n=this[pe];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(s,i,a){return o(s,i,a,t)},r[e].apply(r,arguments)}}var Cy=Ur("ObservableArrayAdministration",uc);function na(e){return Vi(e)&&Cy(e[pe])}var Ey={},xr="add",ra="delete",Sp=function(){function e(n,r,o){var s=this;r===void 0&&(r=Gr),o===void 0&&(o="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[pe]=Ey,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=o,gn(Map)||Le(18),wr(function(){s.keysAtom_=zf("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,n&&s.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var o=this;if(!oe.trackingDerivation)return this.has_(r);var s=this.hasMap_.get(r);if(!s){var i=s=new qr(this.has_(r),Hi,"ObservableMap.key?",!1);this.hasMap_.set(r,i),pp(i,function(){return o.hasMap_.delete(r)})}return s.get()},t.set=function(r,o){var s=this.has_(r);if(Zt(this)){var i=Jt(this,{type:s?Ln:xr,object:this,newValue:o,name:r});if(!i)return this;o=i.newValue}return s?this.updateValue_(r,o):this.addValue_(r,o),this},t.delete=function(r){var o=this;if(this.keysAtom_,Zt(this)){var s=Jt(this,{type:ra,object:this,name:r});if(!s)return!1}if(this.has_(r)){var i=vs(),a=vn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:ra,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return er(function(){var u;o.keysAtom_.reportChanged(),(u=o.hasMap_.get(r))==null||u.setNewValue_(!1);var d=o.data_.get(r);d.setNewValue_(void 0),o.data_.delete(r)}),a&&bn(this,c),!0}return!1},t.updateValue_=function(r,o){var s=this.data_.get(r);if(o=s.prepareNewValue_(o),o!==oe.UNCHANGED){var i=vs(),a=vn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:Ln,object:this,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&bn(this,c)}},t.addValue_=function(r,o){var s=this;this.keysAtom_,er(function(){var u,d=new qr(o,s.enhancer_,"ObservableMap.key",!1);s.data_.set(r,d),o=d.value_,(u=s.hasMap_.get(r))==null||u.setNewValue_(!0),s.keysAtom_.reportChanged()});var i=vs(),a=vn(this),c=a||i?{observableKind:"map",debugObjectName:this.name_,type:xr,object:this,name:r,newValue:o}:null;a&&bn(this,c)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,o=this.keys();return jp({next:function(){var i=o.next(),a=i.done,c=i.value;return{done:a,value:a?void 0:r.get(c)}}})},t.entries=function(){var r=this,o=this.keys();return jp({next:function(){var i=o.next(),a=i.done,c=i.value;return{done:a,value:a?void 0:[c,r.get(c)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,o){for(var s=Eo(this),i;!(i=s()).done;){var a=i.value,c=a[0],u=a[1];r.call(o,u,c,this)}},t.merge=function(r){var o=this;return Jr(r)&&(r=new Map(r)),er(function(){Xn(r)?Wb(r).forEach(function(s){return o.set(s,r[s])}):Array.isArray(r)?r.forEach(function(s){var i=s[0],a=s[1];return o.set(i,a)}):So(r)?(Ub(r)||Le(19,r),r.forEach(function(s,i){return o.set(i,s)})):r!=null&&Le(20,r)}),this},t.clear=function(){var r=this;er(function(){ep(function(){for(var o=Eo(r.keys()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.replace=function(r){var o=this;return er(function(){for(var s=_y(r),i=new Map,a=!1,c=Eo(o.data_.keys()),u;!(u=c()).done;){var d=u.value;if(!s.has(d)){var p=o.delete(d);if(p)a=!0;else{var h=o.data_.get(d);i.set(d,h)}}}for(var g=Eo(s.entries()),v;!(v=g()).done;){var b=v.value,y=b[0],m=b[1],x=o.data_.has(y);if(o.set(y,m),o.data_.has(y)){var w=o.data_.get(y);i.set(y,w),x||(a=!0)}}if(!a)if(o.data_.size!==i.size)o.keysAtom_.reportChanged();else for(var S=o.data_.keys(),C=i.keys(),j=S.next(),E=C.next();!j.done;){if(j.value!==E.value){o.keysAtom_.reportChanged();break}j=S.next(),E=C.next()}o.data_=i}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,o){return Ss(this,r)},t.intercept_=function(r){return ws(this,r)},Co(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Jr=Ur("ObservableMap",Sp);function jp(e){return e[Symbol.toStringTag]="MapIterator",mc(e)}function _y(e){if(So(e)||Jr(e))return e;if(Array.isArray(e))return new Map(e);if(Xn(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Le(21,e)}var Oy={},Cp=function(){function e(n,r,o){var s=this;r===void 0&&(r=Gr),o===void 0&&(o="ObservableSet"),this.name_=void 0,this[pe]=Oy,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=o,gn(Set)||Le(22),this.enhancer_=function(i,a){return r(i,a,o)},wr(function(){s.atom_=zf(s.name_),n&&s.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;er(function(){ep(function(){for(var o=Eo(r.data_.values()),s;!(s=o()).done;){var i=s.value;r.delete(i)}})})},t.forEach=function(r,o){for(var s=Eo(this),i;!(i=s()).done;){var a=i.value;r.call(o,a,a,this)}},t.add=function(r){var o=this;if(this.atom_,Zt(this)){var s=Jt(this,{type:xr,object:this,newValue:r});if(!s)return this}if(!this.has(r)){er(function(){o.data_.add(o.enhancer_(r,void 0)),o.atom_.reportChanged()});var i=!1,a=vn(this),c=a||i?{observableKind:"set",debugObjectName:this.name_,type:xr,object:this,newValue:r}:null;a&&bn(this,c)}return this},t.delete=function(r){var o=this;if(Zt(this)){var s=Jt(this,{type:ra,object:this,oldValue:r});if(!s)return!1}if(this.has(r)){var i=!1,a=vn(this),c=a||i?{observableKind:"set",debugObjectName:this.name_,type:ra,object:this,oldValue:r}:null;return er(function(){o.atom_.reportChanged(),o.data_.delete(r)}),a&&bn(this,c),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=0,o=Array.from(this.keys()),s=Array.from(this.values());return Ep({next:function(){var a=r;return r+=1,a<s.length?{value:[o[a],s[a]],done:!1}:{value:void 0,done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,o=0,s=Array.from(this.data_.values());return Ep({next:function(){return o<s.length?{value:r.dehanceValue_(s[o++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function(r){if(Zn(r)&&!Nn(r))return r.intersection(this);var o=new Set(this);return o.intersection(r)},t.union=function(r){if(Zn(r)&&!Nn(r))return r.union(this);var o=new Set(this);return o.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(Zn(r)&&!Nn(r))return r.symmetricDifference(this);var o=new Set(this);return o.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(Zn(r)&&!Nn(r))return r.isDisjointFrom(this);var o=new Set(this);return o.isDisjointFrom(r)},t.replace=function(r){var o=this;return Nn(r)&&(r=new Set(r)),er(function(){Array.isArray(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):Zn(r)?(o.clear(),r.forEach(function(s){return o.add(s)})):r!=null&&Le("Cannot initialize set from "+r)}),this},t.observe_=function(r,o){return Ss(this,r)},t.intercept_=function(r){return ws(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Co(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Nn=Ur("ObservableSet",Cp);function Ep(e){return e[Symbol.toStringTag]="SetIterator",mc(e)}var _p=Object.create(null),Op="remove",Pp=function(){function e(n,r,o,s){r===void 0&&(r=new Map),s===void 0&&(s=S0),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=o,this.defaultAnnotation_=s,this.keysAtom_=new yr("ObservableObject.keys"),this.isPlainObject_=Xn(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,o){var s=this.values_.get(r);if(s instanceof mn)return s.set(o),!0;if(Zt(this)){var i=Jt(this,{type:Ln,object:this.proxy_||this.target_,name:r,newValue:o});if(!i)return null;o=i.newValue}if(o=s.prepareNewValue_(o),o!==oe.UNCHANGED){var a=vn(this),c=!1,u=a||c?{type:Ln,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:r,newValue:o}:null;s.setNewValue_(o),a&&bn(this,u)}return!0},t.get_=function(r){return oe.trackingDerivation&&!Jn(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,o,s){return s===void 0&&(s=!1),Jn(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,o):s?Reflect.set(this.target_,r,o):(this.target_[r]=o,!0):this.extend_(r,{value:o,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},t.has_=function(r){if(!oe.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var o=this.pendingKeys_.get(r);return o||(o=new qr(r in this.target_,Hi,"ObservableObject.key?",!1),this.pendingKeys_.set(r,o)),o.get()},t.make_=function(r,o){if(o===!0&&(o=this.defaultAnnotation_),o!==!1){if(!(r in this.target_)){var s;if((s=this.target_[An])!=null&&s[r])return;Le(1,o.annotationType_,this.name_+"."+r.toString())}for(var i=this.target_;i&&i!==Ii;){var a=Di(i,r);if(a){var c=o.make_(this,r,a,i);if(c===0)return;if(c===1)break}i=Object.getPrototypeOf(i)}Ap(this,o,r)}},t.extend_=function(r,o,s,i){if(i===void 0&&(i=!1),s===!0&&(s=this.defaultAnnotation_),s===!1)return this.defineProperty_(r,o,i);var a=s.extend_(this,r,o,i);return a&&Ap(this,s,r),a},t.defineProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{Yt();var i=this.delete_(r);if(!i)return i;if(Zt(this)){var a=Jt(this,{object:this.proxy_||this.target_,name:r,type:xr,newValue:o.value});if(!a)return null;var c=a.newValue;o.value!==c&&(o=Wr({},o,{value:c}))}if(s){if(!Reflect.defineProperty(this.target_,r,o))return!1}else Tn(this.target_,r,o);this.notifyPropertyAddition_(r,o.value)}finally{Xt()}return!0},t.defineObservableProperty_=function(r,o,s,i){i===void 0&&(i=!1),this.keysAtom_;try{Yt();var a=this.delete_(r);if(!a)return a;if(Zt(this)){var c=Jt(this,{object:this.proxy_||this.target_,name:r,type:xr,newValue:o});if(!c)return null;o=c.newValue}var u=Tp(r),d={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:u.get,set:u.set};if(i){if(!Reflect.defineProperty(this.target_,r,d))return!1}else Tn(this.target_,r,d);var p=new qr(o,s,"ObservableObject.key",!1);this.values_.set(r,p),this.notifyPropertyAddition_(r,p.value_)}finally{Xt()}return!0},t.defineComputedProperty_=function(r,o,s){s===void 0&&(s=!1),this.keysAtom_;try{Yt();var i=this.delete_(r);if(!i)return i;if(Zt(this)){var a=Jt(this,{object:this.proxy_||this.target_,name:r,type:xr,newValue:void 0});if(!a)return null}o.name||(o.name="ObservableObject.key"),o.context=this.proxy_||this.target_;var c=Tp(r),u={configurable:oe.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:c.get,set:c.set};if(s){if(!Reflect.defineProperty(this.target_,r,u))return!1}else Tn(this.target_,r,u);this.values_.set(r,new mn(o)),this.notifyPropertyAddition_(r,void 0)}finally{Xt()}return!0},t.delete_=function(r,o){if(o===void 0&&(o=!1),this.keysAtom_,!Jn(this.target_,r))return!0;if(Zt(this)){var s=Jt(this,{object:this.proxy_||this.target_,name:r,type:Op});if(!s)return null}try{var i;Yt();var a=vn(this),c=!1,u=this.values_.get(r),d=void 0;if(!u&&(a||c)){var p;d=(p=Di(this.target_,r))==null?void 0:p.value}if(o){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(u&&(this.values_.delete(r),u instanceof qr&&(d=u.value_),ip(u)),this.keysAtom_.reportChanged(),(i=this.pendingKeys_)==null||(i=i.get(r))==null||i.set(r in this.target_),a||c){var h={type:Op,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:d,name:r};a&&bn(this,h)}}finally{Xt()}return!0},t.observe_=function(r,o){return Ss(this,r)},t.intercept_=function(r){return ws(this,r)},t.notifyPropertyAddition_=function(r,o){var s,i=vn(this),a=!1;if(i||a){var c=i||a?{type:xr,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:o}:null;i&&bn(this,c)}(s=this.pendingKeys_)==null||(s=s.get(r))==null||s.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),jo(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Qr(e,t){var n;if(Jn(e,pe))return e;var r=(n=t==null?void 0:t.name)!=null?n:"ObservableObject",o=new Pp(e,new Map,String(r),L0(t));return fs(e,pe,o),e}var Py=Ur("ObservableObjectAdministration",Pp);function Tp(e){return _p[e]||(_p[e]={get:function(){return this[pe].getObservablePropValue_(e)},set:function(n){return this[pe].setObservablePropValue_(e,n)}})}function js(e){return Vi(e)?Py(e[pe]):!1}function Ap(e,t,n){var r;(r=e.target_[An])==null||delete r[n]}var Ty=kp(0),Ay=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1}(),dc=0,Mp=function(){};function My(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}My(Mp,Array.prototype);var fc=function(e){function t(r,o,s,i){var a;return s===void 0&&(s="ObservableArray"),i===void 0&&(i=!1),a=e.call(this)||this,wr(function(){var c=new uc(s,o,i,!0);c.proxy_=a,$f(a,pe,c),r&&r.length&&a.spliceWithArray(0,0,r),Ay&&Object.defineProperty(a,"0",Ty)}),a}Bf(t,e);var n=t.prototype;return n.concat=function(){this[pe].atom_.reportObserved();for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),s.map(function(a){return na(a)?a.slice():a}))},n[Symbol.iterator]=function(){var r=this,o=0;return mc({next:function(){return o<r.length?{value:r[o++],done:!1}:{done:!0,value:void 0}}})},Co(t,[{key:"length",get:function(){return this[pe].getArrayLength_()},set:function(o){this[pe].setArrayLength_(o)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Mp);Object.entries(ta).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&fs(fc.prototype,t,n)});function kp(e){return{enumerable:!1,configurable:!0,get:function(){return this[pe].get_(e)},set:function(n){this[pe].set_(e,n)}}}function ky(e){Tn(fc.prototype,""+e,kp(e))}function Lp(e){if(e>dc){for(var t=dc;t<e+100;t++)ky(t);dc=e}}Lp(1e3);function Ly(e,t,n){return new fc(e,t,n)}function Po(e,t){if(typeof e=="object"&&e!==null){if(na(e))return t!==void 0&&Le(23),e[pe].atom_;if(Nn(e))return e.atom_;if(Jr(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Le(25,t,pc(e)),n}if(js(e)){if(!t)return Le(26);var r=e[pe].values_.get(t);return r||Le(27,t,pc(e)),r}if(Jl(e)||Ki(e)||Qi(e))return e}else if(gn(e)&&Qi(e[pe]))return e[pe];Le(28)}function Np(e,t){if(e||Le(29),t!==void 0)return Np(Po(e,t));if(Jl(e)||Ki(e)||Qi(e)||Jr(e)||Nn(e))return e;if(e[pe])return e[pe];Le(24,e)}function pc(e,t){var n;if(t!==void 0)n=Po(e,t);else{if(ys(e))return e.name;js(e)||Jr(e)||Nn(e)?n=Np(e):n=Po(e)}return n.name_}function wr(e){var t=Yr(),n=Wi(!0);Yt();try{return e()}finally{Xt(),Gi(n),Qn(t)}}var $p=Ii.toString;function hc(e,t,n){return n===void 0&&(n=-1),gc(e,t,n)}function gc(e,t,n,r,o){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var s=typeof e;if(s!=="function"&&s!=="object"&&typeof t!="object")return!1;var i=$p.call(e);if(i!==$p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=Dp(e),t=Dp(t);var a=i==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return!1;var c=e.constructor,u=t.constructor;if(c!==u&&!(gn(c)&&c instanceof c&&gn(u)&&u instanceof u)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],o=o||[];for(var d=r.length;d--;)if(r[d]===e)return o[d]===t;if(r.push(e),o.push(t),a){if(d=e.length,d!==t.length)return!1;for(;d--;)if(!gc(e[d],t[d],n-1,r,o))return!1}else{var p=Object.keys(e),h;if(d=p.length,Object.keys(t).length!==d)return!1;for(;d--;)if(h=p[d],!(Jn(t,h)&&gc(e[h],t[h],n-1,r,o)))return!1}return r.pop(),o.pop(),!0}function Dp(e){return na(e)?e.slice():So(e)||Jr(e)||Zn(e)||Nn(e)?Array.from(e.entries()):e}var Ip,Ny=((Ip=$i().Iterator)==null?void 0:Ip.prototype)||{};function mc(e){return e[Symbol.iterator]=$y,Object.assign(Object.create(Ny),e)}function $y(){return this}["Symbol","Map","Set"].forEach(function(e){var t=$i();typeof t[e]>"u"&&Le("MobX requires global '"+e+"' to be available or polyfilled")}),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:J0,extras:{getDebugName:pc},$mobx:pe});const Vp=new Set,Ht=new WeakMap,To=new WeakMap,eo=new WeakMap,vc=new WeakMap,Dy=new WeakMap,Ao=new WeakMap,oa=new WeakMap;let Sr;const to="__aa_tgt",bc="__aa_del",Iy=e=>{const t=Fy(e);t&&t.forEach(n=>Ry(n))},Vy=e=>{e.forEach(t=>{t.target===Sr&&By(),Ht.has(t.target)&&no(t.target)})};function Hy(e){const t=vc.get(e);t==null||t.disconnect();let n=Ht.get(e),r=0;const o=5;n||(n=ko(e),Ht.set(e,n));const{offsetWidth:s,offsetHeight:i}=Sr,c=[n.top-o,s-(n.left+o+n.width),i-(n.top+o+n.height),n.left-o].map(d=>`${-1*Math.floor(d)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&no(e)},{root:Sr,threshold:1,rootMargin:c});u.observe(e),vc.set(e,u)}function no(e){clearTimeout(oa.get(e));const t=sa(e),n=typeof t=="function"?500:t.duration;oa.set(e,setTimeout(()=>{const r=eo.get(e);(!r||r.finished)&&(Ht.set(e,ko(e)),Hy(e))},n))}function By(){clearTimeout(oa.get(Sr)),oa.set(Sr,setTimeout(()=>{Vp.forEach(e=>zp(e,t=>Hp(()=>no(t))))},100))}function zy(e){setTimeout(()=>{Dy.set(e,setInterval(()=>Hp(no.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function Hp(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let yc,Mo;typeof window<"u"&&(Sr=document.documentElement,yc=new MutationObserver(Iy),Mo=new ResizeObserver(Vy),Mo.observe(Sr));function Fy(e){return e.reduce((t,n)=>{if(t===!1)return!1;if(n.target instanceof Element){if(xc(n.target),!t.has(n.target)){t.add(n.target);for(let r=0;r<n.target.children.length;r++){const o=n.target.children.item(r);if(o){if(bc in o)return!1;xc(n.target,o),t.add(o)}}}if(n.removedNodes.length)for(let r=0;r<n.removedNodes.length;r++){const o=n.removedNodes[r];if(bc in o)return!1;o instanceof Element&&(t.add(o),xc(n.target,o),To.set(o,[n.previousSibling,n.nextSibling]))}}return t},new Set)}function xc(e,t){!t&&!(to in e)?Object.defineProperty(e,to,{value:e}):t&&!(to in t)&&Object.defineProperty(t,to,{value:e})}function Ry(e){var t;const n=Sr.contains(e),r=Ht.has(e);n&&To.has(e)&&To.delete(e),eo.has(e)&&((t=eo.get(e))===null||t===void 0||t.cancel()),r&&n?Uy(e):r&&!n?Gy(e):Wy(e)}function $n(e){return Number(e.replace(/[^0-9.\-]/g,""))}function ko(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function Bp(e,t,n){let r=t.width,o=t.height,s=n.width,i=n.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const u=$n(a.paddingTop)+$n(a.paddingBottom)+$n(a.borderTopWidth)+$n(a.borderBottomWidth),d=$n(a.paddingLeft)+$n(a.paddingRight)+$n(a.borderRightWidth)+$n(a.borderLeftWidth);r-=d,s-=d,o-=u,i-=u}return[r,s,o,i].map(Math.round)}function sa(e){return to in e&&Ao.has(e[to])?Ao.get(e[to]):{duration:250,easing:"ease-in-out"}}function zp(e,...t){t.forEach(n=>n(e,Ao.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(o=>o(r,Ao.has(r)))}}function Uy(e){const t=Ht.get(e),n=ko(e);let r;if(!t)return;const o=sa(e);if(typeof o!="function"){const s=t.left-n.left,i=t.top-n.top,[a,c,u,d]=Bp(e,t,n),p={transform:`translate(${s}px, ${i}px)`},h={transform:"translate(0, 0)"};a!==c&&(p.width=`${a}px`,h.width=`${c}px`),u!==d&&(p.height=`${u}px`,h.height=`${d}px`),r=e.animate([p,h],o)}else r=new Animation(o(e,"remain",t,n)),r.play();eo.set(e,r),Ht.set(e,n),r.addEventListener("finish",no.bind(null,e))}function Wy(e){const t=ko(e);Ht.set(e,t);const n=sa(e);let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),eo.set(e,r),r.addEventListener("finish",no.bind(null,e))}function Gy(e){if(!To.has(e)||!Ht.has(e))return;const[t,n]=To.get(e);Object.defineProperty(e,bc,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):t&&t.parentNode&&t.parentNode.appendChild(e);const[r,o,s,i]=Ky(e),a=sa(e),c=Ht.get(e);let u;Object.assign(e.style,{position:"absolute",top:`${r}px`,left:`${o}px`,width:`${s}px`,height:`${i}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof a!="function"?u=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:a.duration,easing:"ease-out"}):(u=new Animation(a(e,"remove",c)),u.play()),eo.set(e,u),u.addEventListener("finish",()=>{var d;e.remove(),Ht.delete(e),To.delete(e),eo.delete(e),(d=vc.get(e))===null||d===void 0||d.disconnect()})}function Ky(e){const t=Ht.get(e),[n,,r]=Bp(e,t,ko(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const s=getComputedStyle(o),i=Ht.get(o)||ko(o),a=Math.round(t.top-i.top)-$n(s.borderTopWidth),c=Math.round(t.left-i.left)-$n(s.borderLeftWidth);return[a,c,n,r]}function qy(e,t={}){yc&&Mo&&(getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),zp(e,no,zy,n=>Mo==null?void 0:Mo.observe(n)),typeof t=="function"?Ao.set(e,t):Ao.set(e,{duration:250,easing:"ease-in-out",...t}),yc.observe(e,{childList:!0}),Vp.add(e))}function Yy(e){const t=f.useRef(null);return f.useEffect(()=>{t.current instanceof HTMLElement&&qy(t.current,e)},[t]),t}if(!f.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!xy)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Xy(e){e()}function Zy(e){e||(e=Xy),fy({reactionScheduler:e})}function Jy(e){return py(e)}var Qy=1e4,ex=1e4,tx=function(){function e(t){var n=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(r){r===void 0&&(r=Qy),clearTimeout(n.sweepTimeout),n.sweepTimeout=void 0;var o=Date.now();n.registrations.forEach(function(s,i){o-s.registeredAt>=r&&(n.finalize(s.value),n.registrations.delete(i))}),n.registrations.size>0&&n.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){n.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(t,n,r){this.registrations.set(r,{value:n,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this.registrations.delete(t)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.sweepTimeout===void 0&&(this.sweepTimeout=setTimeout(this.sweep,ex))}}),e}(),nx=typeof FinalizationRegistry<"u"?FinalizationRegistry:tx,wc=new nx(function(e){var t;(t=e.reaction)===null||t===void 0||t.dispose(),e.reaction=null}),Fp={exports:{}},Sc={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function rx(){if(Rp)return Sc;Rp=1;var e=f;function t(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,o=e.useEffect,s=e.useLayoutEffect,i=e.useDebugValue;function a(p,h){var g=h(),v=r({inst:{value:g,getSnapshot:h}}),b=v[0].inst,y=v[1];return s(function(){b.value=g,b.getSnapshot=h,c(b)&&y({inst:b})},[p,g,h]),o(function(){return c(b)&&y({inst:b}),p(function(){c(b)&&y({inst:b})})},[p]),i(g),g}function c(p){var h=p.getSnapshot;p=p.value;try{var g=h();return!n(p,g)}catch{return!0}}function u(p,h){return h()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return Sc.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,Sc}Fp.exports=rx();var ox=Fp.exports;function Up(e){e.reaction=new kn("observer".concat(e.name),function(){var t;e.stateVersion=Symbol(),(t=e.onStoreChange)===null||t===void 0||t.call(e)})}function sx(e,t){t===void 0&&(t="observed");var n=f.useRef(null);if(!n.current){var r={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(a){return wc.unregister(r),r.onStoreChange=a,r.reaction||(Up(r),r.stateVersion=Symbol()),function(){var c;r.onStoreChange=null,(c=r.reaction)===null||c===void 0||c.dispose(),r.reaction=null}},getSnapshot:function(){return r.stateVersion}};n.current=r}var o=n.current;o.reaction||(Up(o),wc.register(n,o,o)),f.useDebugValue(o.reaction,Jy),ox.useSyncExternalStore(o.subscribe,o.getSnapshot,o.getSnapshot);var s,i;if(o.reaction.track(function(){try{s=e()}catch(a){i=a}}),i)throw i;return s}var jc,Cc,Wp=typeof Symbol=="function"&&Symbol.for,ix=(Cc=(jc=Object.getOwnPropertyDescriptor(function(){},"name"))===null||jc===void 0?void 0:jc.configurable)!==null&&Cc!==void 0?Cc:!1,Gp=Wp?Symbol.for("react.forward_ref"):typeof f.forwardRef=="function"&&f.forwardRef(function(e){return null}).$$typeof,Kp=Wp?Symbol.for("react.memo"):typeof f.memo=="function"&&f.memo(function(e){return null}).$$typeof;function le(e,t){var n;if(Kp&&e.$$typeof===Kp)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=(n=t==null?void 0:t.forwardRef)!==null&&n!==void 0?n:!1,o=e,s=e.displayName||e.name;if(Gp&&e.$$typeof===Gp&&(r=!0,o=e.render,typeof o!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var i=function(a,c){return sx(function(){return o(a,c)},s)};return i.displayName=e.displayName,ix&&Object.defineProperty(i,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(i.contextTypes=e.contextTypes),r&&(i=f.forwardRef(i)),i=f.memo(i),lx(e,i),i}var ax={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function lx(e,t){Object.keys(e).forEach(function(n){ax[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}var Ec;Zy(Pt.unstable_batchedUpdates),Ec=wc.finalizeAllImmediately;const H=P;function P(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).flatMap(o=>typeof o=="string"?o.split(" ").map(s=>{if(s=s.replace(/gjs-/g,"gs-utl-"),!s.includes("gs-utl-")&&!s.startsWith("gs-")){const i=s.split(":"),a=i.pop(),c=i.join(":"),u=a==null?void 0:a.startsWith("!"),p=`gs-utl-${u?a==null?void 0:a.slice(1):a}`,h=u?`!${p}`:p;return c?`${c}:${h}`:h}return s}):o).join(" ")}var cx="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M11 7H13V13H11V7M11 15H13V17H11V15Z",ux="M11 2H13V7H21V10H13V14H18V17H13V22H11V17H6V14H11V10H3V7H11V2Z",dx="M4 22H2V2H4V22M22 7H6V10H22V7M16 14H6V17H16V14Z",fx="M20 2H22V22H20V2M2 10H18V7H2V10M8 17H18V14H8V17Z",px="M9.5,8.5L11,10L8,13L11,16L9.5,17.5L5,13L9.5,8.5M14.5,17.5L13,16L16,13L13,10L14.5,8.5L19,13L14.5,17.5M21,2H3A2,2 0 0,0 1,4V20A2,2 0 0,0 3,22H21A2,2 0 0,0 23,20V4A2,2 0 0,0 21,2M21,20H3V6H21V20Z",hx="M11,4H13V16L18.5,10.5L19.92,11.92L12,19.84L4.08,11.92L5.5,10.5L11,16V4Z",gx="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z",mx="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z",vx="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z",bx="M3,21V3H21V21H3M5,5V19H19V5H5Z",yx="M3 16C3 18.8 5.2 21 8 21H10V19H8C6.3 19 5 17.7 5 16V14H3V16M21 8C21 5.2 18.8 3 16 3H14V5H16C17.7 5 19 6.3 19 8V10H21V8M16 21C18.8 21 21 18.8 21 16V14H19V16C19 17.7 17.7 19 16 19H14V21H16M8 3C5.2 3 3 5.2 3 8V10H5V8C5 6.3 6.3 5 8 5H10V3H8Z",xx="M15,21H17V19H15M19,21H21V19H19M7,21H9V19H7M11,21H13V19H11M19,17H21V15H19M19,13H21V11H19M3,3V21H5V5H21V3M19,9H21V7H19",wx="M22,17H18V10H22M23,8H17A1,1 0 0,0 16,9V19A1,1 0 0,0 17,20H23A1,1 0 0,0 24,19V9A1,1 0 0,0 23,8M4,6H22V4H4A2,2 0 0,0 2,6V17H0V20H14V17H4V6Z",Sx="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z",jx="M9,20.42L2.79,14.21L5.62,11.38L9,14.77L18.88,4.88L21.71,7.71L9,20.42Z",Cx="M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",Ex="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z",_x="M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z",Ox="M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z",Px="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z",Tx="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",Ax="M8,3A2,2 0 0,0 6,5V9A2,2 0 0,1 4,11H3V13H4A2,2 0 0,1 6,15V19A2,2 0 0,0 8,21H10V19H8V14A2,2 0 0,0 6,12A2,2 0 0,0 8,10V5H10V3M16,3A2,2 0 0,1 18,5V9A2,2 0 0,0 20,11H21V13H20A2,2 0 0,0 18,15V19A2,2 0 0,1 16,21H14V19H16V14A2,2 0 0,1 18,12A2,2 0 0,1 16,10V5H14V3H16Z",Mx="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",kx="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z",Lx="M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z",Nx="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",$x="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",Dx="M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z",Ix="M22 6C22 4.9 21.1 4 20 4H4C2.9 4 2 4.9 2 6V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6M20 6L12 11L4 6H20M20 18H4V8L12 13L20 8V18Z",Vx="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z",Hx="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z",Bx="M2,5.27L3.28,4L20,20.72L18.73,22L15.65,18.92C14.5,19.3 13.28,19.5 12,19.5C7,19.5 2.73,16.39 1,12C1.69,10.24 2.79,8.69 4.19,7.46L2,5.27M12,9A3,3 0 0,1 15,12C15,12.35 14.94,12.69 14.83,13L11,9.17C11.31,9.06 11.65,9 12,9M12,4.5C17,4.5 21.27,7.61 23,12C22.18,14.08 20.79,15.88 19,17.19L17.58,15.76C18.94,14.82 20.06,13.54 20.82,12C19.17,8.64 15.76,6.5 12,6.5C10.91,6.5 9.84,6.68 8.84,7L7.3,5.47C8.74,4.85 10.33,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C12.69,17.5 13.37,17.43 14,17.29L11.72,15C10.29,14.85 9.15,13.71 9,12.28L5.6,8.87C4.61,9.72 3.78,10.78 3.18,12Z",zx="M12,9A3,3 0 0,1 15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9M12,4.5C17,4.5 21.27,7.61 23,12C21.27,16.39 17,19.5 12,19.5C7,19.5 2.73,16.39 1,12C2.73,7.61 7,4.5 12,4.5M3.18,12C4.83,15.36 8.24,17.5 12,17.5C15.76,17.5 19.17,15.36 20.82,12C19.17,8.64 15.76,6.5 12,6.5C8.24,6.5 4.83,8.64 3.18,12Z",Fx="M6.92,19L5,17.08L13.06,9L15,10.94M20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L13.84,6.41L11.91,4.5L10.5,5.91L11.92,7.33L3,16.25V21H7.75L16.67,12.08L18.09,13.5L19.5,12.09L17.58,10.17L20.7,7.05C21.1,6.65 21.1,6 20.71,5.63Z",Rx="M17.66 11.2C17.43 10.9 17.15 10.64 16.89 10.38C16.22 9.78 15.46 9.35 14.82 8.72C13.33 7.26 13 4.85 13.95 3C13 3.23 12.17 3.75 11.46 4.32C8.87 6.4 7.85 10.07 9.07 13.22C9.11 13.32 9.15 13.42 9.15 13.55C9.15 13.77 9 13.97 8.8 14.05C8.57 14.15 8.33 14.09 8.14 13.93C8.08 13.88 8.04 13.83 8 13.76C6.87 12.33 6.69 10.28 7.45 8.64C5.78 10 4.87 12.3 5 14.47C5.06 14.97 5.12 15.47 5.29 15.97C5.43 16.57 5.7 17.17 6 17.7C7.08 19.43 8.95 20.67 10.96 20.92C13.1 21.19 15.39 20.8 17.03 19.32C18.86 17.66 19.5 15 18.56 12.72L18.43 12.46C18.22 12 17.66 11.2 17.66 11.2M14.5 17.5C14.22 17.74 13.76 18 13.4 18.1C12.28 18.5 11.16 17.94 10.5 17.28C11.69 17 12.4 16.12 12.61 15.23C12.78 14.43 12.46 13.77 12.33 13C12.21 12.26 12.23 11.63 12.5 10.94C12.69 11.32 12.89 11.7 13.13 12C13.9 13 15.11 13.44 15.37 14.8C15.41 14.94 15.43 15.08 15.43 15.23C15.46 16.05 15.1 16.95 14.5 17.5H14.5Z",Ux="M7,11H1V13H7V11M9.17,7.76L7.05,5.64L5.64,7.05L7.76,9.17L9.17,7.76M13,1H11V7H13V1M18.36,7.05L16.95,5.64L14.83,7.76L16.24,9.17L18.36,7.05M17,11V13H23V11H17M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M14.83,16.24L16.95,18.36L18.36,16.95L16.24,14.83L14.83,16.24M5.64,16.95L7.05,18.36L9.17,16.24L7.76,14.83L5.64,16.95M11,23H13V17H11V23Z",Wx="M5,3A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5.5L18.5,3H17V9A1,1 0 0,1 16,10H8A1,1 0 0,1 7,9V3H5M12,4V9H15V4H12M7,12H17A1,1 0 0,1 18,13V19H6V13A1,1 0 0,1 7,12Z",Gx="M10,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V8C22,6.89 21.1,6 20,6H12L10,4Z",Kx="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",qx="M11,9H13V11H11V9M9,11H11V13H9V11M13,11H15V13H13V11M15,9H17V11H15V9M7,9H9V11H7V9M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M9,18H7V16H9V18M13,18H11V16H13V18M17,18H15V16H17V18M19,11H17V13H19V15H17V13H15V15H13V13H11V15H9V13H7V15H5V13H7V11H5V5H19V11Z",Yx="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",Xx="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",Zx="M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Jx="M13.5,4A1.5,1.5 0 0,0 12,5.5A1.5,1.5 0 0,0 13.5,7A1.5,1.5 0 0,0 15,5.5A1.5,1.5 0 0,0 13.5,4M13.14,8.77C11.95,8.87 8.7,11.46 8.7,11.46C8.5,11.61 8.56,11.6 8.72,11.88C8.88,12.15 8.86,12.17 9.05,12.04C9.25,11.91 9.58,11.7 10.13,11.36C12.25,10 10.47,13.14 9.56,18.43C9.2,21.05 11.56,19.7 12.17,19.3C12.77,18.91 14.38,17.8 14.54,17.69C14.76,17.54 14.6,17.42 14.43,17.17C14.31,17 14.19,17.12 14.19,17.12C13.54,17.55 12.35,18.45 12.19,17.88C12,17.31 13.22,13.4 13.89,10.71C14,10.07 14.3,8.67 13.14,8.77Z",Qx="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z",ew="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z",tw="M12,4V2A10,10 0 0,0 2,12H4A8,8 0 0,1 12,4Z",nw="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z",rw="M18 1C15.24 1 13 3.24 13 6V8H4C2.9 8 2 8.89 2 10V20C2 21.11 2.9 22 4 22H16C17.11 22 18 21.11 18 20V10C18 8.9 17.11 8 16 8H15V6C15 4.34 16.34 3 18 3C19.66 3 21 4.34 21 6V8H23V6C23 3.24 20.76 1 18 1M10 13C11.1 13 12 13.89 12 15C12 16.11 11.11 17 10 17C8.9 17 8 16.11 8 15C8 13.9 8.9 13 10 13Z",ow="M7,10L12,15L17,10H7Z",sw="M20 5L20 19L4 19L4 5H20M20 3H4C2.89 3 2 3.89 2 5V19C2 20.11 2.89 21 4 21H20C21.11 21 22 20.11 22 19V5C22 3.89 21.11 3 20 3M18 15H6V17H18V15M10 7H6V13H10V7M12 9H18V7H12V9M18 11H12V13H18V11Z",iw="M2.53,19.65L3.87,20.21V11.18L1.44,17.04C1.03,18.06 1.5,19.23 2.53,19.65M22.03,15.95L17.07,4C16.76,3.23 16.03,2.77 15.26,2.75C15,2.75 14.73,2.79 14.47,2.9L7.1,5.95C6.35,6.26 5.89,7 5.87,7.75C5.86,8 5.91,8.29 6,8.55L11,20.5C11.29,21.28 12.03,21.74 12.81,21.75C13.07,21.75 13.33,21.7 13.58,21.6L20.94,18.55C21.96,18.13 22.45,16.96 22.03,15.95M7.88,8.75A1,1 0 0,1 6.88,7.75A1,1 0 0,1 7.88,6.75C8.43,6.75 8.88,7.2 8.88,7.75C8.88,8.3 8.43,8.75 7.88,8.75M5.88,19.75A2,2 0 0,0 7.88,21.75H9.33L5.88,13.41V19.75Z",aw="M12,2.5L8,7H16L12,2.5M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M8,17L12,21.5L16,17H8Z",lw="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5A1,1 0 0,1 21,16.5V20A1,1 0 0,1 20,21A17,17 0 0,1 3,4A1,1 0 0,1 4,3H7.5A1,1 0 0,1 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z",cw="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",uw="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z",dw="M16,7V3H14V7H10V3H8V7H8C7,7 6,8 6,9V14.5L9.5,18V21H14.5V18L18,14.5V9C18,8 17,7 16,7Z",fw="M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z",pw="M12 2C11.5 2 11 2.19 10.59 2.59L2.59 10.59C1.8 11.37 1.8 12.63 2.59 13.41L10.59 21.41C11.37 22.2 12.63 22.2 13.41 21.41L21.41 13.41C22.2 12.63 22.2 11.37 21.41 10.59L13.41 2.59C13 2.19 12.5 2 12 2M12 4L20 12L12 20L4 12Z",hw="M5.5,7A1.5,1.5 0 0,1 4,5.5A1.5,1.5 0 0,1 5.5,4A1.5,1.5 0 0,1 7,5.5A1.5,1.5 0 0,1 5.5,7M21.41,11.58L12.41,2.58C12.05,2.22 11.55,2 11,2H4C2.89,2 2,2.89 2,4V11C2,11.55 2.22,12.05 2.59,12.41L11.58,21.41C11.95,21.77 12.45,22 13,22C13.55,22 14.05,21.77 14.41,21.41L21.41,14.41C21.78,14.05 22,13.55 22,13C22,12.44 21.77,11.94 21.41,11.58Z",gw="M11,2V4.07C7.38,4.53 4.53,7.38 4.07,11H2V13H4.07C4.53,16.62 7.38,19.47 11,19.93V22H13V19.93C16.62,19.47 19.47,16.62 19.93,13H22V11H19.93C19.47,7.38 16.62,4.53 13,4.07V2M11,6.08V8H13V6.09C15.5,6.5 17.5,8.5 17.92,11H16V13H17.91C17.5,15.5 15.5,17.5 13,17.92V16H11V17.91C8.5,17.5 6.5,15.5 6.08,13H8V11H6.09C6.5,8.5 8.5,6.5 11,6.08M12,11A1,1 0 0,0 11,12A1,1 0 0,0 12,13A1,1 0 0,0 13,12A1,1 0 0,0 12,11Z",mw="M22.08,11.04H20.08V4H13.05V2H11.04V4H4V11.04H2V13.05H4V20.08H11.04V22.08H13.05V20.08H20.08V13.05H22.08V11.04M18.07,18.07H13.05V16.06H11.04V18.07H6V13.05H8.03V11.04H6V6H11.04V8.03H13.05V6H18.07V11.04H16.06V13.05H18.07V18.07M13.05,12.05A1,1 0 0,1 12.05,13.05C11.5,13.05 11.04,12.6 11.04,12.05C11.04,11.5 11.5,11.04 12.05,11.04C12.6,11.04 13.05,11.5 13.05,12.05Z",vw="M16,15H9V13H16M19,11H9V9H19M19,7H9V5H19M21,1H7C5.89,1 5,1.89 5,3V17C5,18.11 5.9,19 7,19H21C22.11,19 23,18.11 23,17V3C23,1.89 22.1,1 21,1M3,5V21H19V23H3A2,2 0 0,1 1,21V5H3Z",bw="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z",yw="M16.59,5.41L15.17,4L12,7.17L8.83,4L7.41,5.41L12,10M7.41,18.59L8.83,20L12,16.83L15.17,20L16.58,18.59L12,14L7.41,18.59Z",xw="M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z",ww="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z",Sw="M13 3V11H21V3H13M3 21H11V13H3V21M3 3V11H11V3H3M13 16H16V13H18V16H21V18H18V21H16V18H13V16Z",jw="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Cw="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z";const qp="app.grapesjs.com",Yp="app-stage.grapesjs.com",Xp=[qp,Yp,"localhost","127.0.0.1",".local-credentialless.webcontainer.io",".local.webcontainer.io","-sandpack.codesandbox.io"],Ew="license:check:start",Zp="license:check:end",tr=()=>typeof window<"u",Lo=e=>e&&e.stopPropagation(),_w=(e,t)=>{const n=r=>r.key===e&&t();return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},Ow=(e="")=>{const t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},Pw=e=>_w("Escape",e),Tw=(e,t={})=>{const n=Bt(e)?{id:e,src:e}:e;return new Promise((r,o)=>{var c,u;const s=document.querySelector(`script[src="${n.src}"]`),{id:i}=n;if(s)return(c=t.onScript)==null||c.call(t,s),r(i);const a=document.createElement("script");a.src=n.src,a.onload=()=>r(i),a.onerror=()=>o(i),document.head.appendChild(a),(u=t.onScript)==null||u.call(t,a)})},Aw=e=>{const t=e.map(n=>Tw(n));return Promise.allSettled(t)},Jp=e=>new DOMParser().parseFromString(e,"text/html"),Mw=(e="")=>Jp(`<body>${e}</body>`).body.innerHTML,kw=(e="")=>Jp(`<head>${e}</head>`).head.innerHTML,Lw=(e="",t)=>{const r=new DOMParser().parseFromString(e,"text/html");if(t){const s=r.querySelectorAll("svg")[0].style||{},i=Vw(t)?`${t}px`:t;s.width=i,s.height=i,s.fill="currentColor"}return new XMLSerializer().serializeToString(r)},Nw=({isDev:e,isStage:t})=>`${e?"":`https://${t?Yp:qp}`}/api`,Qp=(e={})=>{const{width:t=300,height:n,text:r="IMAGE",bg:o="777",fg:s="white"}=e,i=n?`x${n}`:"";return`https://placehold.co/${t}${i}/${o}/${s}.png?text=${r}`},$w=Qp(),_c=()=>{const e=tr()&&window.location.hostname;return!!e&&(Xp.includes(e)||Xp.some(t=>e.endsWith(t)))},nr=e=>e&&e.charAt(0).toUpperCase()+e.substring(1),Dw=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(t,n)=>(n?"-":"")+t.toLowerCase()),eh=()=>{},Iw=240,jr=e=>typeof e<"u",Bt=e=>typeof e=="string",Vw=e=>typeof e=="number";function xt(e){return typeof e=="function"}function Cs(e){return e&&!Array.isArray(e)&&typeof e=="object"}const Hw=e=>!e||Object.keys(e).length===0,Oc=(e,t)=>{const n={...e},r={...t};for(const o in r){const s=n[o],i=r[o];Cs(s)&&Cs(i)?n[o]=Oc(s,i):n[o]=i}return n},No=(e,t)=>{const n=(e||"").toLocaleLowerCase(),r=(t||"").toLocaleLowerCase();return n.includes(r)},Bw=(e="")=>{const t=e[0]==="?"?e.substring(1):e,n=new URLSearchParams(t);return Object.fromEntries(n)},zw=(e=16)=>{let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length;for(let o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*r));return t},Tt=(e,t)=>f.Children.map(e,n=>n&&n.type===t?n:null),Pc=e=>(e||"").toLowerCase().trim().replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-._]+/g,"").replace(/--+/g,"-").trim(),D=f.forwardRef(function({as:t,children:n,className:r,col:o,revert:s,full:i,nowrap:a,space:c,justify:u,items:d,...p},h){const g=t||"div";return l.jsx(g,{ref:h,className:P(["gs-utl-flex",r,o&&!s&&"gs-utl-flex-col",o&&s&&"gs-utl-flex-col-reverse",!o&&s&&"gs-utl-flex-row-reverse",i&&!o&&"gs-utl-w-full",i&&o&&"gs-utl-h-full",a?"gs-utl-flex-nowrap":"gs-utl-flex-wrap",c==="x2s"&&(o?"gs-utl-space-y-0.5":"gs-utl-space-x-0.5"),c==="xs"&&(o?"gs-utl-space-y-1":"gs-utl-space-x-1"),c==="s"&&(o?"gs-utl-space-y-2":"gs-utl-space-x-2"),c==="m"&&(o?"gs-utl-space-y-4":"gs-utl-space-x-4"),c==="l"&&(o?"gs-utl-space-y-6":"gs-utl-space-x-6"),c==="xl"&&(o?"gs-utl-space-y-8":"gs-utl-space-x-8"),d==="start"&&"gs-utl-items-start",d==="end"&&"gs-utl-items-end",d==="center"&&"gs-utl-items-center",u==="start"&&"gs-utl-justify-start",u==="end"&&"gs-utl-justify-end",u==="center"&&"gs-utl-justify-center",u==="between"&&"gs-utl-justify-between"]),...p,children:n})}),k=f.forwardRef(function({children:t,className:n,grow:r,...o},s){return l.jsx("div",{ref:s,className:P([n,r&&"flex-1"]),...o,children:t})});var Tc={exports:{}},Ac,th;function Fw(){if(th)return Ac;th=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ac=e,Ac}var Mc,nh;function Rw(){if(nh)return Mc;nh=1;var e=Fw();function t(){}function n(){}return n.resetWarningCache=t,Mc=function(){function r(i,a,c,u,d,p){if(p!==e){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}r.isRequired=r;function o(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},Mc}var rh;function Uw(){return rh||(rh=1,Tc.exports=Rw()()),Tc.exports}var Ww=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(r,o,s){n.o(r,o)||Object.defineProperty(r,o,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,o){if(1&o&&(r=n(r)),8&o||4&o&&typeof r=="object"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:r}),2&o&&typeof r!="string")for(var i in r)n.d(s,i,(function(a){return r[a]}).bind(null,i));return s},n.n=function(r){var o=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(o,"a",o),o},n.o=function(r,o){return Object.prototype.hasOwnProperty.call(r,o)},n.p="",n(n.s=2)}([function(e,t){e.exports=Uw()},function(e,t){e.exports=f},function(e,t,n){n.r(t);var r=n(1),o=n(0),s=function(){return(s=Object.assign||function(v){for(var b,y=1,m=arguments.length;y<m;y++)for(var x in b=arguments[y])Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x]);return v}).apply(this,arguments)},i=function(v,b){var y={};for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&b.indexOf(m)<0&&(y[m]=v[m]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(m=Object.getOwnPropertySymbols(v);x<m.length;x++)b.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(v,m[x])&&(y[m[x]]=v[m[x]])}return y},a=0,c=r.forwardRef(function(v,b){var y=v.title,m=y===void 0?null:y,x=v.description,w=x===void 0?null:x,S=v.size,C=S===void 0?null:S,j=v.color,E=j===void 0?"currentColor":j,O=v.horizontal,A=O===void 0?null:O,_=v.vertical,T=_===void 0?null:_,N=v.rotate,B=N===void 0?null:N,$=v.spin,M=$===void 0?null:$,L=v.style,F=L===void 0?{}:L,R=v.children,I=i(v,["title","description","size","color","horizontal","vertical","rotate","spin","style","children"]);a++;var z,U=M!==null&&M,K=r.Children.map(R,function(ce){var te=ce;U!==!0&&(U=(M===null?te.props.spin:M)===!0);var G=te.props.size;typeof C=="number"&&typeof te.props.size=="number"&&(G=te.props.size/C);var W={size:G,color:E===null?te.props.color:E,horizontal:A===null?te.props.horizontal:A,vertical:T===null?te.props.vertical:T,rotate:B===null?te.props.rotate:B,spin:M===null?te.props.spin:M,inStack:!0};return r.cloneElement(te,W)});C!==null&&(F.width=typeof C=="string"?C:1.5*C+"rem");var ee,X="stack_labelledby_"+a,Q="stack_describedby_"+a;if(m)z=w?X+" "+Q:X;else if(ee="presentation",w)throw new Error("title attribute required when description is set");return r.createElement("svg",s({ref:b,viewBox:"0 0 24 24",style:F,role:ee,"aria-labelledby":z},I),m&&r.createElement("title",{id:X},m),w&&r.createElement("desc",{id:Q},w),U&&r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }","@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"),K)});c.displayName="Stack",c.propTypes={size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),children:o.oneOfType([o.arrayOf(o.node),o.node]).isRequired,className:o.string,style:o.object},c.defaultProps={size:null,color:null,horizontal:null,vertical:null,rotate:null,spin:null};var u=c;n.d(t,"Icon",function(){return g}),n.d(t,"Stack",function(){return u});var d=function(){return(d=Object.assign||function(v){for(var b,y=1,m=arguments.length;y<m;y++)for(var x in b=arguments[y])Object.prototype.hasOwnProperty.call(b,x)&&(v[x]=b[x]);return v}).apply(this,arguments)},p=function(v,b){var y={};for(var m in v)Object.prototype.hasOwnProperty.call(v,m)&&b.indexOf(m)<0&&(y[m]=v[m]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(m=Object.getOwnPropertySymbols(v);x<m.length;x++)b.indexOf(m[x])<0&&Object.prototype.propertyIsEnumerable.call(v,m[x])&&(y[m[x]]=v[m[x]])}return y},h=0,g=r.forwardRef(function(v,b){var y=v.path,m=v.id,x=m===void 0?++h:m,w=v.title,S=w===void 0?null:w,C=v.description,j=C===void 0?null:C,E=v.size,O=E===void 0?null:E,A=v.color,_=A===void 0?"currentColor":A,T=v.horizontal,N=T!==void 0&&T,B=v.vertical,$=B!==void 0&&B,M=v.rotate,L=M===void 0?0:M,F=v.spin,R=F!==void 0&&F,I=v.style,z=I===void 0?{}:I,U=v.inStack,K=U!==void 0&&U,ee=p(v,["path","id","title","description","size","color","horizontal","vertical","rotate","spin","style","inStack"]),X={},Q=[];O!==null&&(K?Q.push("scale("+O+")"):(z.width=typeof O=="string"?O:1.5*O+"rem",z.height=z.width)),N&&Q.push("scaleX(-1)"),$&&Q.push("scaleY(-1)"),L!==0&&Q.push("rotate("+L+"deg)"),_!==null&&(X.fill=_);var ce=r.createElement("path",d({d:y,style:X},K?ee:{})),te=ce;Q.length>0&&(z.transform=Q.join(" "),z.transformOrigin="center",K&&(te=r.createElement("g",{style:z},ce,r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))));var G,W=te,se=R===!0||typeof R!="number"?2:R,ne=!K&&(N||$);if(se<0&&(ne=!ne),R&&(W=r.createElement("g",{style:{animation:"spin"+(ne?"-inverse":"")+" linear "+Math.abs(se)+"s infinite",transformOrigin:"center"}},te,!(N||$||L!==0)&&r.createElement("rect",{width:"24",height:"24",fill:"transparent"}))),K)return W;var be,ye="icon_labelledby_"+x,Oe="icon_describedby_"+x;if(S)G=j?ye+" "+Oe:ye;else if(be="presentation",j)throw new Error("title attribute required when description is set");return r.createElement("svg",d({ref:b,viewBox:"0 0 24 24",style:z,role:be,"aria-labelledby":G},ee),S&&r.createElement("title",{id:ye},S),j&&r.createElement("desc",{id:Oe},j),!K&&R&&(ne?r.createElement("style",null,"@keyframes spin-inverse { from { transform: rotate(0deg) } to { transform: rotate(-360deg) } }"):r.createElement("style",null,"@keyframes spin { from { transform: rotate(0deg) } to { transform: rotate(360deg) } }")),W)});g.displayName="Icon",g.propTypes={path:o.string.isRequired,size:o.oneOfType([o.number,o.string]),color:o.string,horizontal:o.bool,vertical:o.bool,rotate:o.number,spin:o.oneOfType([o.bool,o.number]),style:o.object,inStack:o.bool,className:o.string},g.defaultProps={size:null,color:"currentColor",horizontal:!1,vertical:!1,rotate:0,spin:!1},t.default=g}]);const Gw=ql(Ww);var oh={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(s=o(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var i="";for(var a in s)t.call(s,a)&&s[a]&&(i=o(i,a));return i}function o(s,i){return i?s?s+" "+i:s+i:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(oh);var Kw=oh.exports;const re=ql(Kw),sh=new Map,kc=f.forwardRef(function({svg:t,iconSize:n,...r},o){let s=sh.get(t);return s||(s=Lw(t,n),sh.set(t,s)),l.jsx("div",{...r,ref:o,dangerouslySetInnerHTML:{__html:s}})});var Y=(e=>(e.alertRhombus="alertRhombus",e.alignHorizontalCenter="alignHorizontalCenter",e.alignHorizontalLeft="alignHorizontalLeft",e.alignHorizontalRight="alignHorizontalRight",e.applicationBracketsOutline="applicationBracketsOutline",e.arrowDown="arrowDown",e.arrowRight="arrowRight",e.arrowULeftTop="arrowULeftTop",e.arrowURightTop="arrowURightTop",e.borderAllVariant="borderAllVariant",e.borderRadius="borderRadius",e.borderStyle="borderStyle",e.cellphoneLink="cellphoneLink",e.check="check",e.checkBold="checkBold",e.checkboxBlank="checkboxBlank",e.chevronUp="chevronUp",e.chevronDown="chevronDown",e.chevronLeft="chevronLeft",e.chevronRight="chevronRight",e.close="close",e.codeBraces="codeBraces",e.cog="cog",e.contentCopy="contentCopy",e.contentSave="contentSave",e.delete="delete",e.dotsVertical="dotsVertical",e.email="email",e.emailOutline="emailOutline",e.eye="eye",e.eyedropperVariant="eyedropperVariant",e.eyeOff="eyeOff",e.eyeOffOutline="eyeOffOutline",e.eyeOutline="eyeOutline",e.fire="fire",e.flare="flare",e.floppy="floppy",e.folder="folder",e.fullscreen="fullscreen",e.gradientVertical="gradientVertical",e.helpCircle="helpCircle",e.image="image",e.information="information",e.informationVariant="informationVariant",e.layers="layers",e.link="link",e.lock="lock",e.lockOpenVariant="lockOpenVariant",e.menuDown="menuDown",e.newspaperVariantOutline="newspaperVariantOutline",e.paletteSwatch="paletteSwatch",e.panVertical="panVertical",e.phone="phone",e.plus="plus",e.plusBox="plusBox",e.powerPlug="powerPlug",e.refresh="refresh",e.rhombusOutline="rhombusOutline",e.tag="tag",e.target="target",e.targetVariant="targetVariant",e.textBoxMultiple="textBoxMultiple",e.trayArrowDown="trayArrowDown",e.unfoldLessHorizontal="unfoldLessHorizontal",e.unfoldMoreHorizontal="unfoldMoreHorizontal",e.viewDayOutline="viewDayOutline",e.viewGridPlus="viewGridPlus",e.web="web",e.xml="xml",e))(Y||{});const Lc={alertRhombus:cx,alignHorizontalCenter:ux,alignHorizontalLeft:dx,alignHorizontalRight:fx,applicationBracketsOutline:px,arrowDown:hx,arrowRight:gx,arrowULeftTop:mx,arrowURightTop:vx,borderAllVariant:bx,borderRadius:yx,borderStyle:xx,cellphoneLink:wx,check:Sx,checkBold:jx,checkboxBlank:Cx,chevronUp:Px,chevronDown:Ex,chevronLeft:_x,chevronRight:Ox,close:Tx,codeBraces:Ax,cog:Mx,contentCopy:kx,contentSave:Lx,delete:Nx,dotsVertical:$x,email:Dx,emailOutline:Ix,eye:Vx,eyedropperVariant:Fx,eyeOff:Hx,eyeOffOutline:Bx,eyeOutline:zx,fire:Rx,flare:Ux,floppy:Wx,folder:Gx,fullscreen:Kx,gradientVertical:qx,helpCircle:Yx,image:Xx,information:Zx,informationVariant:Jx,layers:Qx,link:ew,lock:nw,lockOpenVariant:rw,menuDown:ow,newspaperVariantOutline:sw,paletteSwatch:iw,panVertical:aw,phone:lw,plus:cw,plusBox:uw,powerPlug:dw,refresh:fw,rhombusOutline:pw,tag:hw,target:gw,targetVariant:mw,textBoxMultiple:vw,trayArrowDown:bw,unfoldLessHorizontal:yw,unfoldMoreHorizontal:xw,viewDayOutline:ww,viewGridPlus:Sw,web:jw,xml:Cw},qw="gs-cmp-icon",Z=le(function({className:t,icon:n,size:r,rotate:o,horizontal:s,vertical:i}){var p;const a=(p=NM())==null?void 0:p.sdkCustomIcons,c=(a==null?void 0:a[n])||(Lc==null?void 0:Lc[n])||n,u=[s&&"scaleX(-1)",i&&"scaleY(-1)",o&&`rotate(${o}deg)`].filter(h=>!!h).join(" ");if(!c)return null;const d=re(qw,t);return c.startsWith("<svg")||c.startsWith("<?xml")?l.jsx(kc,{className:d,style:{transform:u||void 0},svg:c,iconSize:r}):l.jsx(Gw,{className:d,path:c,size:r,rotate:o,horizontal:s,vertical:i})}),ih=150;var Pe=(e=>(e.txt="gs-theme-cl-txt",e.bg="gs-theme-cl-bg",e.br="gs-theme-cl-br",e.bgA="gs-theme-cl-bgA",e.bgA2="gs-theme-cl-bgA2",e.hBgAct="gs-theme-cl-hBgAct",e.hBgA2="gs-theme-cl-hBgA2",e.tA="gs-theme-cl-tA",e.tAo="gs-theme-cl-tAo",e.hTAo="gs-theme-cl-hTAo",e.grouphTAo="gs-theme-cl-grouphTAo",e.bA="gs-theme-cl-bA",e.bg0="gs-theme-cl-bg0",e.bgH="gs-theme-cl-bgH",e.hBgH="gs-theme-cl-hBgH",e.bgH2="gs-theme-cl-bgH2",e.hBgH2="gs-theme-cl-hBgH2",e.sel="gs-theme-cl-sel",e.selBr="gs-theme-cl-selBr",e.cmp="gs-theme-cl-cmp",e.cmpBgSoft="gs-theme-cl-cmpBgSoft",e.cmpBgSoftX="gs-theme-cl-cmpBgSoftX",e.cmpBr="gs-theme-cl-cmpBr",e.cmpSymbol="gs-theme-cl-cmpSymbol",e.cmpBgSymbolSoft="gs-theme-cl-cmpBgSymbolSoft",e.cmpBgSymbolSoftX="gs-theme-cl-cmpBgSymbolSoftX",e.cmpSymbolBr="gs-theme-cl-cmpSymbolBr",e.cmpTxtActive="gs-theme-cl-cmpTxtActive",e.focus="gs-theme-ring-focus",e.inputText="gs-theme-elStyles-inputText",e))(Pe||{});const V={bgTr:"gs-utl-bg-transparent",txt:"gs-theme-cl-txt gs-utl-text-gray-900 dark:gs-utl-text-gray-400",txtLowEmphasis:"gs-utl-text-neutral-500 dark:gs-utl-text-neutral-500",txtHighEmphasis:"gs-utl-text-black dark:gs-utl-text-gray-200",txtHighEmphasisH:"hover:gs-utl-text-black hover:dark:gs-utl-text-gray-200",tA:"gs-theme-cl-tA gs-utl-text-violet-400",tAo:"gs-theme-cl-tAo gs-utl-text-violet-800 dark:gs-utl-text-violet-400",hTAo:"gs-theme-cl-hTAo hover:gs-utl-text-violet-800 hover:dark:gs-utl-text-violet-400",grouphTAo:"gs-theme-cl-grouphTAo group-hover:gs-utl-text-violet-800 group-hover:dark:gs-utl-text-violet-400",bA:"gs-theme-cl-bA gs-utl-border-violet-400",bgA:"gs-theme-cl-bgA gs-utl-bg-violet-400 gs-utl-text-white dark:gs-utl-bg-violet-500",bgA2:"gs-theme-cl-bgA2 gs-utl-bg-violet-500 gs-utl-text-white",bgO:"gs-theme-cl-bg0 gs-utl-bg-violet-50 gs-utl-text-violet-900 dark:gs-utl-bg-zinc-800 dark:gs-utl-text-violet-400",bg:"gs-theme-cl-bg gs-utl-bg-white dark:gs-utl-bg-zinc-900",bgBlur:"gs-utl-bg-white/50 dark:gs-utl-bg-zinc-900/50 gs-utl-backdrop-blur-sm",bgH:"gs-theme-cl-bgH gs-utl-bg-gray-100 dark:gs-utl-bg-zinc-700",bgH75:"gs-utl-bg-gray-100/75 dark:gs-utl-bg-zinc-700/75",hBgH:"gs-theme-cl-hBgH hover:gs-utl-bg-gray-50 hover:dark:gs-utl-bg-zinc-800",bgH2:"gs-theme-cl-bgH2 gs-utl-bg-gray-25 dark:gs-utl-bg-zinc-800",hBgH2:"gs-theme-cl-hBgH2 hover:gs-utl-bg-gray-25 hover:dark:gs-utl-bg-zinc-800",hBgAct:"gs-theme-cl-hBgAct hover:gs-utl-bg-violet-800 hover:dark:gs-utl-bg-violet-400",hBgA2:"gs-theme-cl-hBgA2 hover:gs-utl-bg-violet-500 hover:dark:gs-utl-bg-violet-600",hBgDark:"hover:gs-utl-bg-black/10",sel:"gs-theme-cl-sel gs-utl-bg-pink-200 gs-utl-text-pink-900",selBr:"gs-theme-cl-selBr gs-utl-border-pink-900",cmp:"gs-theme-cl-cmp gs-utl-bg-blue-450 gs-utl-text-white",cmpSymbol:"gs-theme-cl-cmpSymbol gs-utl-bg-[#7b61ff] gs-utl-text-white",cmpBgSoft:"gs-theme-cl-cmpBgSoft gs-utl-bg-blue-100 dark:gs-utl-bg-sky-800",cmpBgSymbolSoft:"gs-theme-cl-cmpBgSymbolSoft gs-utl-bg-violet-200 dark:gs-utl-bg-violet-800",cmpBgSoftX:"gs-theme-cl-cmpBgSoftX gs-utl-bg-blue-50 dark:gs-utl-bg-gray-800",cmpBgSymbolSoftX:"gs-theme-cl-cmpBgSymbolSoftX gs-utl-bg-[#edebff] dark:gs-utl-bg-[#2d1b4b]",cmpTxtActive:"gs-theme-cl-cmpTxtActive dark:gs-utl-text-gray-300",cmpBr:"gs-theme-cl-cmpBr gs-utl-border-blue-450",cmpSymbolBr:"gs-theme-cl-cmpSymbolBr gs-utl-border-[#7b61ff]",cmpTargetBg:"gs-utl-bg-amber-500 gs-utl-text-white",cmpTargetBgOpac:"gs-utl-bg-amber-500/5",cmpTargetBr:"gs-utl-border-amber-500",tW:"gs-utl-text-amber-500",bgW:"gs-utl-bg-amber-500",bgRed:"gs-utl-bg-red-500",hBgRed:"hover:gs-utl-bg-red-600",hBgW:"hover:gs-utl-bg-amber-600",br:"gs-theme-cl-br gs-utl-border-gray-300 dark:gs-utl-border-zinc-700",brLight:"gs-utl-border-white/25"},Nc={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-scale-95 gs-utl-opacity-0",enterTo:"gs-utl-opacity-100",leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-scale-100 gs-utl-opacity-100",leaveTo:"gs-utl-scale-95 gs-utl-opacity-0"},ah={enter:"gs-utl-transition gs-utl-duration-100 gs-utl-ease-out",enterFrom:"gs-utl-opacity-0",enterTo:"gs-utl-opacity-100"},Es={...ah,...{leave:"gs-utl-transition gs-utl-ease-in gs-utl-duration-100",leaveFrom:"gs-utl-opacity-100",leaveTo:"gs-utl-opacity-0"}},_e={xy:"gs-utl-px-4 gs-utl-py-2",xyS:"gs-utl-px-2 gs-utl-py-1",xyS2:"gs-utl-px-2 gs-utl-py-0.5",x:"gs-utl-px-4",xS:"gs-utl-px-2",y:"gs-utl-py-2",s:"gs-utl-p-2"},$c={bg:V.bg,bgH:V.bgH},lh={bg:"gs-utl-bg-zinc-700",txt:"gs-utl-text-white",block:"gs-utl-text-xs gs-utl-mt-1 gs-utl-bg-white/10 gs-utl-rounded gs-utl-px-2 gs-utl-py-1"},J={rnd:"gs-utl-rounded",pill:"gs-utl-rounded-full",b:"gs-utl-border",bT:"gs-utl-border-transparent",bS:"gs-utl-border-2",bt:"gs-utl-border-t",bb:"gs-utl-border-b",br:"gs-utl-border-r",bl:"gs-utl-border-l",bA:"gs-theme-cl-bA gs-utl-border-violet-400 dark:gs-utl-border-violet-500"},_s={focus:"gs-theme-ring-focus focus:gs-utl-outline-none focus-visible:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80",deepFocus:"focus:gs-utl-outline-none [&:has(:focus-visible)]:gs-utl-ring-2 gs-utl-ring-violet-300 gs-utl-ring-opacity-80"},ie={s3x:"13px",s2x:"14px",sx:"16px",s:"18px"},We={click:"gs-utl-cursor-pointer gs-utl-transition-opacity gs-utl-opacity-75 hover:gs-utl-opacity-100",hover:"gs-utl-transition-opacity gs-utl-opacity-50 hover:gs-utl-opacity-100",hoverGroup:"group-hover:gs-utl-opacity-100 gs-utl-opacity-0 gs-utl-transition-opacity",dot:"gs-utl-w-[6px] gs-utl-h-[6px] gs-utl-rounded-full",scrollY:"gs-utl-overflow-y-auto gs-utl-overflow-x-hidden",txtEllips:"gs-utl-text-ellipsis gs-utl-overflow-hidden gs-utl-whitespace-nowrap",coverAbs:"gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-w-full gs-utl-h-full",disabled:"gs-utl-opacity-50 gs-utl-pointer-events-none",noFocusOut:"focus:gs-utl-outline-none",spin:"gs-utl-animate-spin-fast"},ro={link:P(V.tAo),inputText:"gs-theme-elStyles-inputText focus:gs-utl-outline-none gs-utl-placeholder:text-neutral-400 placeholder:dark:gs-utl-text-neutral-500"},ch={itemList:({index:e=0,open:t=!1,length:n=0}={})=>P(V.bgH2,_e.xyS,V.br,e&&J.bt,(t||e===n-1)&&J.bb)},uh=e=>({bg:e?"#18181b":"#f9f9f9",text:e?"#9ca3af":"#111827",link:e?"#a78bfa":"#5b21b6"}),ia=e=>{let t={isSymbol:!1,bg:V.cmp,bgSoft:`${V.cmpBgSoft} ${V.cmpTxtActive}`,bgSoftX:V.cmpBgSoftX,border:V.cmpBr,txt:""};if(!(e!=null&&e.em))return t;const{isSymbol:n}=e.em.Components.getSymbolInfo(e);return n&&(t={isSymbol:n,bg:V.cmpSymbol,bgSoft:`${V.cmpBgSymbolSoft} ${V.cmpTxtActive}`,bgSoftX:V.cmpBgSymbolSoftX,border:V.cmpSymbolBr,txt:""}),t},dh=({variant:e,size:t="m",className:n,active:r,border:o=!0,rounded:s=!0,disabled:i=!1,withBg:a,block:c,full:u})=>{const d=e==="pr",p=e==="out",h=e==="out-clear",g=e==="warn",v=e==="danger",b=o&&(p||h||!e);return["transition-colors",c&&"block",t==="s"&&"gjs-p-1 text-sm",t==="m"&&"gjs-p-1 gjs-px-2",t==="m2"&&"gjs-p-1 gjs-px-3",t==="lg"&&"gjs-p-2 gjs-px-4 text-lg",n,s&&J.rnd,b&&`${J.b} ${V.br}`,a&&V.bg,b&&P(J.b,p&&V.bA,p&&V.tAo,!i&&V.hBgH),g&&P(V.bgW,V.hBgW,!i&&V.hBgW,"text-white"),v&&P(V.bgRed,!i&&V.hBgRed,"text-white"),d&&P(V.bgA2,!i&&V.hBgAct),r&&V.bgA,i&&"disabled:gs-utl-opacity-80 cursor-not-allowed",u&&"w-full",_s.focus]};function ze({children:e,...t}){const{variant:n,size:r,active:o,border:s,rounded:i,block:a,full:c,className:u,icon:d,loading:p,withBg:h,...g}=t,v=p?{icon:tw,size:"18px",className:P("animate-spin-fast")}:Bt(d)?{icon:d,size:"18px"}:d;return l.jsx("button",{className:P(dh(t)),disabled:t.disabled,...g,children:v?l.jsxs(D,{className:P("gap-2"),items:"center",nowrap:!0,children:[l.jsx(k,{children:l.jsx(Z,{...v})}),e&&l.jsx(k,{children:e})]}):e})}function $o(e,t,n){let r=n.initialDeps??[],o;return()=>{var s,i,a,c;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((g,v)=>r[v]!==g)))return o;r=d;let h;if(n.key&&((i=n.debug)!=null&&i.call(n))&&(h=Date.now()),o=t(...d),n.key&&((a=n.debug)!=null&&a.call(n))){const g=Math.round((Date.now()-u)*100)/100,v=Math.round((Date.now()-h)*100)/100,b=v/16,y=(m,x)=>{for(m=String(m);m.length<x;)m=" "+m;return m};console.info(`%c⏱ ${y(v,5)} /${y(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*b,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,o),o}}function Dc(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const Yw=(e,t)=>Math.abs(e-t)<1,Xw=(e,t,n)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,o),n)}},Zw=e=>e,Jw=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=t;o<=n;o++)r.push(o);return r},Qw=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const o=i=>{const{width:a,height:c}=i;t({width:Math.round(a),height:Math.round(c)})};if(o(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(i=>{const a=i[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},fh={passive:!0},eS=typeof window>"u"?!0:"onscrollend"in window,tS=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let o=0;const s=eS?()=>{}:Xw(r,()=>{t(o,!1)},e.options.isScrollingResetDelay),i=u=>()=>{const{horizontal:d,isRtl:p}=e.options;o=d?n.scrollLeft*(p&&-1||1):n.scrollTop,s(),t(o,u)},a=i(!0),c=i(!1);return c(),n.addEventListener("scroll",a,fh),n.addEventListener("scrollend",c,fh),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",c)}},nS=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},rS=(e,{adjustments:t=0,behavior:n},r)=>{var o,s;const i=e+t;(s=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||s.call(o,{[r.options.horizontal?"left":"top"]:i,behavior:n})};class oS{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(o=>{o.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var o;(o=r())==null||o.disconnect(),n=null},observe:o=>{var s;return(s=r())==null?void 0:s.observe(o,{box:"border-box"})},unobserve:o=>{var s;return(s=r())==null?void 0:s.unobserve(o)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,o])=>{typeof o>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Zw,rangeExtractor:Jw,onChange:()=>{},measureElement:nS,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...n}},this.notify=n=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,n)},this.maybeNotify=$o(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const o=new Map,s=new Map;for(let i=r-1;i>=0;i--){const a=n[i];if(o.has(a.lane))continue;const c=s.get(a.lane);if(c==null||a.end>c.end?s.set(a.lane,a):a.end<c.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((i,a)=>i.end===a.end?i.index-a.index:i.end-a.end)[0]:void 0},this.getMeasurementOptions=$o(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,o,s,i)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:i}),{key:!1}),this.getMeasurements=$o(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:o,getItemKey:s,enabled:i},a)=>{if(!i)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const p=s(d),h=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),g=h?h.end+this.options.gap:r+o,v=a.get(p),b=typeof v=="number"?v:this.options.estimateSize(d),y=g+b,m=h?h.lane:d%this.options.lanes;u[d]={index:d,start:g,size:b,end:y,key:p,lane:m}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=$o(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,o)=>this.range=n.length>0&&r>0?sS({measurements:n,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=$o(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,o,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,o=n.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const o=this.indexFromElement(n),s=this.measurementsCache[o];if(!s)return;const i=s.key,a=this.elementsCache.get(i);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(i,n)),n.isConnected&&this.resizeItem(o,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const o=this.measurementsCache[n];if(!o)return;const s=this.itemSizeCache.get(o.key)??o.size,i=r-s;i!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,i,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=i,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(n,void 0)},this.getVirtualItems=$o(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const o=[];for(let s=0,i=n.length;s<i;s++){const a=n[s],c=r[a];o.push(c)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return Dc(r[ph(0,r.length-1,o=>Dc(r[o]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(n<=s?r="start":n>=s+o?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-o:r==="center"&&(n=n-o/2);const i=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[i]:this.scrollElement[i]:0)-o;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const o=this.measurementsCache[n];if(!o)return;const s=this.getSize(),i=this.getScrollOffset();if(r==="auto")if(o.end>=i+s-this.options.scrollPaddingEnd)r="end";else if(o.start<=i+this.options.scrollPaddingStart)r="start";else return[i,r];const a=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(n,{align:r="auto",behavior:o}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[i,a]=s;this._scrollToOffset(i,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=Dc(this.getOffsetForIndex(n,a));Yw(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:o})}else this.scrollToIndex(n,{align:a,behavior:o})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),Math.max(o-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:o})=>{this.options.scrollToFn(n,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const ph=(e,t,n,r)=>{for(;e<=t;){const o=(e+t)/2|0,s=n(o);if(s<r)e=o+1;else if(s>r)t=o-1;else return o}return e>0?e-1:0};function sS({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=ph(0,r,a=>e[a].start,n);let i=s;for(;i<r&&e[i].end<n+t;)i++;return{startIndex:s,endIndex:i}}const iS=typeof document<"u"?ke.useLayoutEffect:ke.useEffect;function aS(e){const t=ke.useReducer(()=>({}),{})[1],n={...e,onChange:(o,s)=>{var i;s?Pt.flushSync(t):t(),(i=e.onChange)==null||i.call(e,o,s)}},[r]=ke.useState(()=>new oS(n));return r.setOptions(n),ke.useEffect(()=>r._didMount(),[]),iS(()=>r._willUpdate()),r}function lS(e){return aS({observeElementRect:Qw,observeElementOffset:tS,scrollToFn:rS,...e})}var cS=Object.defineProperty,uS=(e,t,n)=>t in e?cS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ic=(e,t,n)=>(uS(e,typeof t!="symbol"?t+"":t,n),n);let dS=class{constructor(){Ic(this,"current",this.detect()),Ic(this,"handoffState","pending"),Ic(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},rr=new dS,Ce=(e,t)=>{rr.isServer?f.useEffect(e,t):f.useLayoutEffect(e,t)};function it(e){let t=f.useRef(e);return Ce(()=>{t.current=e},[e]),t}function Os(e,t){let[n,r]=f.useState(e),o=it(e);return Ce(()=>r(o.current),[o,r,...t]),n}let q=function(e){let t=it(e);return f.useCallback((...n)=>t.current(...n),[t])};function aa(e,t,n){let[r,o]=f.useState(n),s=e!==void 0,i=f.useRef(s),a=f.useRef(!1),c=f.useRef(!1);return s&&!i.current&&!a.current?(a.current=!0,i.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!s&&i.current&&!c.current&&(c.current=!0,i.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[s?e:r,q(u=>(s||o(u),t==null?void 0:t(u)))]}function Ps(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Qt(){let e=[],t={addEventListener(n,r,o,s){return n.addEventListener(r,o,s),t.add(()=>n.removeEventListener(r,o,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Ps(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=Qt();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function en(){let[e]=f.useState(Qt);return f.useEffect(()=>()=>e.dispose(),[e]),e}function fS(){let e=typeof document>"u";return"useSyncExternalStore"in ke?(t=>t.useSyncExternalStore)(ke)(()=>()=>{},()=>!1,()=>!e):!1}function Do(){let e=fS(),[t,n]=ke.useState(rr.isHandoffComplete);return t&&rr.isHandoffComplete===!1&&n(!1),ke.useEffect(()=>{t!==!0&&n(!0)},[t]),ke.useEffect(()=>rr.handoff(),[]),e?!1:t}var hh;let Fe=(hh=f.useId)!=null?hh:function(){let e=Do(),[t,n]=f.useState(e?()=>rr.nextId():null);return Ce(()=>{t===null&&n(rr.nextId())},[t]),t!=null?""+t:void 0};function ge(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ge),r}function Cr(e){return rr.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let Vc=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Re=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Re||{}),wn=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(wn||{}),pS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(pS||{});function la(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Vc)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var ca=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(ca||{});function Hc(e,t=0){var n;return e===((n=Cr(e))==null?void 0:n.body)?!1:ge(t,{0(){return e.matches(Vc)},1(){let r=e;for(;r!==null;){if(r.matches(Vc))return!0;r=r.parentElement}return!1}})}var hS=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(hS||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function oo(e){e==null||e.focus({preventScroll:!0})}let gS=["textarea","input"].join(",");function mS(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,gS))!=null?n:!1}function or(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),s=t(r);if(o===null||s===null)return 0;let i=o.compareDocumentPosition(s);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function at(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?or(e):e:la(e);o.length>0&&i.length>1&&(i=i.filter(g=>!o.includes(g))),r=r??s.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,p=i.length,h;do{if(d>=p||d+p<=0)return 0;let g=c+d;if(t&16)g=(g+p)%p;else{if(g<0)return 3;if(g>=p)return 1}h=i[g],h==null||h.focus(u),d+=a}while(h!==s.activeElement);return t&6&&mS(h)&&h.select(),2}function gh(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function vS(){return/Android/gi.test(window.navigator.userAgent)}function mh(){return gh()||vS()}function ua(e,t,n){let r=it(t);f.useEffect(()=>{function o(s){r.current(s)}return document.addEventListener(e,o,n),()=>document.removeEventListener(e,o,n)},[e,n])}function vh(e,t,n){let r=it(t);f.useEffect(()=>{function o(s){r.current(s)}return window.addEventListener(e,o,n),()=>window.removeEventListener(e,o,n)},[e,n])}function da(e,t,n=!0){let r=f.useRef(!1);f.useEffect(()=>{requestAnimationFrame(()=>{r.current=n})},[n]);function o(i,a){if(!r.current||i.defaultPrevented)return;let c=a(i);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(p){return typeof p=="function"?d(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let d of u){if(d===null)continue;let p=d instanceof HTMLElement?d:d.current;if(p!=null&&p.contains(c)||i.composed&&i.composedPath().includes(p))return}return!Hc(c,ca.Loose)&&c.tabIndex!==-1&&i.preventDefault(),t(i,c)}let s=f.useRef(null);ua("pointerdown",i=>{var a,c;r.current&&(s.current=((c=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:c[0])||i.target)},!0),ua("mousedown",i=>{var a,c;r.current&&(s.current=((c=(a=i.composedPath)==null?void 0:a.call(i))==null?void 0:c[0])||i.target)},!0),ua("click",i=>{mh()||s.current&&(o(i,()=>s.current),s.current=null)},!0),ua("touchend",i=>o(i,()=>i.target instanceof HTMLElement?i.target:null),!0),vh("blur",i=>o(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function sr(...e){return f.useMemo(()=>Cr(...e),[...e])}function bh(e){var t;if(e.type)return e.type;let n=(t=e.as)!=null?t:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function Io(e,t){let[n,r]=f.useState(()=>bh(e));return Ce(()=>{r(bh(e))},[e.type,e.as]),Ce(()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")},[n,t]),n}let yh=Symbol();function Bc(e,t=!0){return Object.assign(e,{[yh]:t})}function Se(...e){let t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);let n=q(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[yh]))?void 0:n}function xh(e){return[e.screenX,e.screenY]}function wh(){let e=f.useRef([-1,-1]);return{wasMoved(t){let n=xh(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=xh(t)}}}function Sh({container:e,accept:t,walk:n,enabled:r=!0}){let o=f.useRef(t),s=f.useRef(n);f.useEffect(()=>{o.current=t,s.current=n},[t,n]),Ce(()=>{if(!e||!r)return;let i=Cr(e);if(!i)return;let a=o.current,c=s.current,u=Object.assign(p=>a(p),{acceptNode:a}),d=i.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[e,r,o,s])}function Ts(e,t){let n=f.useRef([]),r=q(e);f.useEffect(()=>{let o=[...n.current];for(let[s,i]of t.entries())if(n.current[s]!==i){let a=r(t,o);return n.current=t,a}},[r,...t])}function fa(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var wt=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(wt||{}),Er=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Er||{});function xe({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:s=!0,name:i,mergeRefs:a}){a=a??bS;let c=jh(t,e);if(s)return pa(c,n,r,i,a);let u=o??0;if(u&2){let{static:d=!1,...p}=c;if(d)return pa(p,n,r,i,a)}if(u&1){let{unmount:d=!0,...p}=c;return ge(d?0:1,{0(){return null},1(){return pa({...p,hidden:!0,style:{display:"none"}},n,r,i,a)}})}return pa(c,n,r,i,a)}function pa(e,t={},n,r,o){let{as:s=n,children:i,refName:a="ref",...c}=Fc(e,["unmount","static"]),u=e.ref!==void 0?{[a]:e.ref}:{},d=typeof i=="function"?i(t):i;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let h=!1,g=[];for(let[v,b]of Object.entries(t))typeof b=="boolean"&&(h=!0),b===!0&&g.push(v);h&&(p["data-headlessui-state"]=g.join(" "))}if(s===f.Fragment&&Object.keys(Vo(c)).length>0){if(!f.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let h=d.props,g=typeof(h==null?void 0:h.className)=="function"?(...b)=>fa(h==null?void 0:h.className(...b),c.className):fa(h==null?void 0:h.className,c.className),v=g?{className:g}:{};return f.cloneElement(d,Object.assign({},jh(d.props,Vo(Fc(c,["ref"]))),p,u,{ref:o(d.ref,u.ref)},v))}return f.createElement(s,Object.assign({},Fc(c,["ref"]),s!==f.Fragment&&u,s!==f.Fragment&&p),d)}function zc(){let e=f.useRef([]),t=f.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function bS(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function jh(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](o,...s){let i=n[r];for(let a of i){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...s)}}});return t}function we(e){var t;return Object.assign(f.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Vo(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Fc(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let yS="div";var zt=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(zt||{});function xS(e,t){var n;let{features:r=1,...o}=e,s={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return xe({ourProps:s,theirProps:o,slot:{},defaultTag:yS,name:"Hidden"})}let Ft=we(xS),Rc=f.createContext(null);Rc.displayName="OpenClosedContext";var Be=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Be||{});function _r(){return f.useContext(Rc)}function As({value:e,children:t}){return f.createElement(Rc.Provider,{value:e},t)}function wS(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Dn=[];wS(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Dn[0]!==t.target&&(Dn.unshift(t.target),Dn=Dn.filter(n=>n!=null&&n.isConnected),Dn.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ir(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&SS(n)?!1:r}function SS(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}function jS(e){throw new Error("Unexpected object: "+e)}var Ie=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(Ie||{});function Uc(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let s=0;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 1:{for(let s=o-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 2:{for(let s=o+1;s<n.length;++s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 3:{for(let s=n.length-1;s>=0;--s)if(!t.resolveDisabled(n[s],s,n))return s;return r}case 4:{for(let s=0;s<n.length;++s)if(t.resolveId(n[s],s,n)===e.id)return s;return r}case 5:return null;default:jS(e)}}function ha(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))Eh(n,Ch(t,r),o);return n}function Ch(e,t){return e?e+"["+t+"]":t}function Eh(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())Eh(e,Ch(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):ha(n,t,e)}function _h(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let o of r.elements)if(o!==e&&(o.tagName==="INPUT"&&o.type==="submit"||o.tagName==="BUTTON"&&o.type==="submit"||o.nodeName==="INPUT"&&o.type==="image")){o.click();return}(n=r.requestSubmit)==null||n.call(r)}}var ue=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ue||{}),CS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(CS||{}),ES=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ES||{}),_S=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(_S||{}),OS=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.RegisterOption=3]="RegisterOption",e[e.UnregisterOption=4]="UnregisterOption",e[e.RegisterLabel=5]="RegisterLabel",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualOptions=7]="UpdateVirtualOptions",e))(OS||{});function Wc(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),o=r.length>0&&r[0].dataRef.current.order!==null?r.sort((i,a)=>i.dataRef.current.order-a.dataRef.current.order):or(r,i=>i.dataRef.current.domRef.current),s=n?o.indexOf(n):null;return s===-1&&(s=null),{options:o,activeOptionIndex:s}}let PS={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0}}return{...e,comboboxState:0}},2(e,t){var n,r,o,s,i;if((n=e.dataRef.current)!=null&&n.disabled||(r=e.dataRef.current)!=null&&r.optionsRef.current&&!((o=e.dataRef.current)!=null&&o.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let d=t.focus===Ie.Specific?t.idx:Uc(t,{resolveItems:()=>e.virtual.options,resolveActiveIndex:()=>{var h,g;return(g=(h=e.activeOptionIndex)!=null?h:e.virtual.options.findIndex(v=>!e.virtual.disabled(v)))!=null?g:null},resolveDisabled:e.virtual.disabled,resolveId(){throw new Error("Function not implemented.")}}),p=(s=t.trigger)!=null?s:2;return e.activeOptionIndex===d&&e.activationTrigger===p?e:{...e,activeOptionIndex:d,activationTrigger:p}}let a=Wc(e);if(a.activeOptionIndex===null){let d=a.options.findIndex(p=>!p.dataRef.current.disabled);d!==-1&&(a.activeOptionIndex=d)}let c=t.focus===Ie.Specific?t.idx:Uc(t,{resolveItems:()=>a.options,resolveActiveIndex:()=>a.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled}),u=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===c&&e.activationTrigger===u?e:{...e,...a,activeOptionIndex:c,activationTrigger:u}},3:(e,t)=>{var n,r,o;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let s=t.payload,i=Wc(e,c=>(c.push(s),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(i.activeOptionIndex=i.options.indexOf(s));let a={...e,...i,activationTrigger:2};return(o=e.dataRef.current)!=null&&o.__demoMode&&e.dataRef.current.value===void 0&&(a.activeOptionIndex=0),a},4:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(o=>o.id!==t.id)};let r=Wc(e,o=>{let s=o.findIndex(i=>i.id===t.id);return s!==-1&&o.splice(s,1),o});return{...e,...r,activationTrigger:2}},5:(e,t)=>e.labelId===t.id?e:{...e,labelId:t.id},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n;if(((n=e.virtual)==null?void 0:n.options)===t.options)return e;let r=e.activeOptionIndex;if(e.activeOptionIndex!==null){let o=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);o!==-1?r=o:r=null}return{...e,activeOptionIndex:r,virtual:Object.assign({},e.virtual,{options:t.options})}}},Gc=f.createContext(null);Gc.displayName="ComboboxActionsContext";function Ms(e){let t=f.useContext(Gc);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ms),n}return t}let Oh=f.createContext(null);function TS(e){var t;let n=so("VirtualProvider"),[r,o]=f.useMemo(()=>{let c=n.optionsRef.current;if(!c)return[0,0];let u=window.getComputedStyle(c);return[parseFloat(u.paddingBlockStart||u.paddingTop),parseFloat(u.paddingBlockEnd||u.paddingBottom)]},[n.optionsRef.current]),s=lS({scrollPaddingStart:r,scrollPaddingEnd:o,count:n.virtual.options.length,estimateSize(){return 40},getScrollElement(){var c;return(c=n.optionsRef.current)!=null?c:null},overscan:12}),[i,a]=f.useState(0);return Ce(()=>{a(c=>c+1)},[(t=n.virtual)==null?void 0:t.options]),f.createElement(Oh.Provider,{value:s},f.createElement("div",{style:{position:"relative",width:"100%",height:`${s.getTotalSize()}px`},ref:c=>{if(c){if(typeof process<"u"&&{NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.23"}.JEST_WORKER_ID!==void 0||n.activationTrigger===0)return;n.activeOptionIndex!==null&&n.virtual.options.length>n.activeOptionIndex&&s.scrollToIndex(n.activeOptionIndex)}}},s.getVirtualItems().map(c=>{var u;return f.createElement(f.Fragment,{key:c.key},f.cloneElement((u=e.children)==null?void 0:u.call(e,{option:n.virtual.options[c.index],open:n.comboboxState===0}),{key:`${i}-${c.key}`,"data-index":c.index,"aria-setsize":n.virtual.options.length,"aria-posinset":c.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${c.start}px)`,overflowAnchor:"none"}}))})))}let Kc=f.createContext(null);Kc.displayName="ComboboxDataContext";function so(e){let t=f.useContext(Kc);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,so),n}return t}function AS(e,t){return ge(t.type,PS,e,t)}let MS=f.Fragment;function kS(e,t){let{value:n,defaultValue:r,onChange:o,form:s,name:i,by:a=null,disabled:c=!1,__demoMode:u=!1,nullable:d=!1,multiple:p=!1,immediate:h=!1,virtual:g=null,...v}=e,b=!1,y=null,[m=p?[]:void 0,x]=aa(n,o,r),[w,S]=f.useReducer(AS,{dataRef:f.createRef(),comboboxState:u?0:1,options:[],virtual:null,activeOptionIndex:null,activationTrigger:2,labelId:null}),C=f.useRef(!1),j=f.useRef({static:!1,hold:!1}),E=f.useRef(null),O=f.useRef(null),A=f.useRef(null),_=f.useRef(null),T=q(typeof a=="string"?(W,se)=>{let ne=a;return(W==null?void 0:W[ne])===(se==null?void 0:se[ne])}:a??((W,se)=>W===se)),N=q(W=>w.options.findIndex(se=>T(se.dataRef.current.value,W))),B=f.useCallback(W=>ge(M.mode,{1:()=>m.some(se=>T(se,W)),0:()=>T(m,W)}),[m]),$=q(W=>w.activeOptionIndex===N(W)),M=f.useMemo(()=>({...w,immediate:b,optionsPropsRef:j,labelRef:E,inputRef:O,buttonRef:A,optionsRef:_,value:m,defaultValue:r,disabled:c,mode:p?1:0,virtual:w.virtual,get activeOptionIndex(){if(C.current&&w.activeOptionIndex===null&&w.options.length>0){let W=w.options.findIndex(se=>!se.dataRef.current.disabled);if(W!==-1)return W}return w.activeOptionIndex},calculateIndex:N,compare:T,isSelected:B,isActive:$,nullable:d,__demoMode:u}),[m,r,c,p,d,u,w,y]);Ce(()=>{},[y,void 0]),Ce(()=>{w.dataRef.current=M},[M]),da([M.buttonRef,M.inputRef,M.optionsRef],()=>Q.closeCombobox(),M.comboboxState===0);let L=f.useMemo(()=>{var W,se,ne;return{open:M.comboboxState===0,disabled:c,activeIndex:M.activeOptionIndex,activeOption:M.activeOptionIndex===null?null:M.virtual?M.virtual.options[(W=M.activeOptionIndex)!=null?W:0]:(ne=(se=M.options[M.activeOptionIndex])==null?void 0:se.dataRef.current.value)!=null?ne:null,value:m}},[M,c,m]),F=q(()=>{if(M.activeOptionIndex!==null){if(M.virtual)ee(M.virtual.options[M.activeOptionIndex]);else{let{dataRef:W}=M.options[M.activeOptionIndex];ee(W.current.value)}Q.goToOption(Ie.Specific,M.activeOptionIndex)}}),R=q(()=>{S({type:0}),C.current=!0}),I=q(()=>{S({type:1}),C.current=!1}),z=q((W,se,ne)=>(C.current=!1,W===Ie.Specific?S({type:2,focus:Ie.Specific,idx:se,trigger:ne}):S({type:2,focus:W,trigger:ne}))),U=q((W,se)=>(S({type:3,payload:{id:W,dataRef:se}}),()=>{M.isActive(se.current.value)&&(C.current=!0),S({type:4,id:W})})),K=q(W=>(S({type:5,id:W}),()=>S({type:5,id:null}))),ee=q(W=>ge(M.mode,{0(){return x==null?void 0:x(W)},1(){let se=M.value.slice(),ne=se.findIndex(be=>T(be,W));return ne===-1?se.push(W):se.splice(ne,1),x==null?void 0:x(se)}})),X=q(W=>{S({type:6,trigger:W})}),Q=f.useMemo(()=>({onChange:ee,registerOption:U,registerLabel:K,goToOption:z,closeCombobox:I,openCombobox:R,setActivationTrigger:X,selectActiveOption:F}),[]),ce=t===null?{}:{ref:t},te=f.useRef(null),G=en();return f.useEffect(()=>{te.current&&r!==void 0&&G.addEventListener(te.current,"reset",()=>{x==null||x(r)})},[te,x]),f.createElement(Gc.Provider,{value:Q},f.createElement(Kc.Provider,{value:M},f.createElement(As,{value:ge(M.comboboxState,{0:Be.Open,1:Be.Closed})},i!=null&&m!=null&&ha({[i]:m}).map(([W,se],ne)=>f.createElement(Ft,{features:zt.Hidden,ref:ne===0?be=>{var ye;te.current=(ye=be==null?void 0:be.closest("form"))!=null?ye:null}:void 0,...Vo({key:W,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:s,disabled:c,name:W,value:se})})),xe({ourProps:ce,theirProps:v,slot:L,defaultTag:MS,name:"Combobox"}))))}let LS="input";function NS(e,t){var n,r,o,s,i;let a=Fe(),{id:c=`headlessui-combobox-input-${a}`,onChange:u,displayValue:d,type:p="text",...h}=e,g=so("Combobox.Input"),v=Ms("Combobox.Input"),b=Se(g.inputRef,t),y=sr(g.inputRef),m=f.useRef(!1),x=en(),w=q(()=>{v.onChange(null),g.optionsRef.current&&(g.optionsRef.current.scrollTop=0),v.goToOption(Ie.Nothing)}),S=function(){var M;return typeof d=="function"&&g.value!==void 0?(M=d(g.value))!=null?M:"":typeof g.value=="string"?g.value:""}();Ts(([M,L],[F,R])=>{if(m.current)return;let I=g.inputRef.current;I&&((R===0&&L===1||M!==F)&&(I.value=M),requestAnimationFrame(()=>{if(m.current||!I||(y==null?void 0:y.activeElement)!==I)return;let{selectionStart:z,selectionEnd:U}=I;Math.abs((U??0)-(z??0))===0&&z===0&&I.setSelectionRange(I.value.length,I.value.length)}))},[S,g.comboboxState,y]),Ts(([M],[L])=>{if(M===0&&L===1){if(m.current)return;let F=g.inputRef.current;if(!F)return;let R=F.value,{selectionStart:I,selectionEnd:z,selectionDirection:U}=F;F.value="",F.value=R,U!==null?F.setSelectionRange(I,z,U):F.setSelectionRange(I,z)}},[g.comboboxState]);let C=f.useRef(!1),j=q(()=>{C.current=!0}),E=q(()=>{x.nextFrame(()=>{C.current=!1})}),O=q(M=>{switch(m.current=!0,M.key){case ue.Enter:if(m.current=!1,g.comboboxState!==0||C.current)return;if(M.preventDefault(),M.stopPropagation(),g.activeOptionIndex===null){v.closeCombobox();return}v.selectActiveOption(),g.mode===0&&v.closeCombobox();break;case ue.ArrowDown:return m.current=!1,M.preventDefault(),M.stopPropagation(),ge(g.comboboxState,{0:()=>v.goToOption(Ie.Next),1:()=>v.openCombobox()});case ue.ArrowUp:return m.current=!1,M.preventDefault(),M.stopPropagation(),ge(g.comboboxState,{0:()=>v.goToOption(Ie.Previous),1:()=>{v.openCombobox(),x.nextFrame(()=>{g.value||v.goToOption(Ie.Last)})}});case ue.Home:if(M.shiftKey)break;return m.current=!1,M.preventDefault(),M.stopPropagation(),v.goToOption(Ie.First);case ue.PageUp:return m.current=!1,M.preventDefault(),M.stopPropagation(),v.goToOption(Ie.First);case ue.End:if(M.shiftKey)break;return m.current=!1,M.preventDefault(),M.stopPropagation(),v.goToOption(Ie.Last);case ue.PageDown:return m.current=!1,M.preventDefault(),M.stopPropagation(),v.goToOption(Ie.Last);case ue.Escape:return m.current=!1,g.comboboxState!==0?void 0:(M.preventDefault(),g.optionsRef.current&&!g.optionsPropsRef.current.static&&M.stopPropagation(),g.nullable&&g.mode===0&&g.value===null&&w(),v.closeCombobox());case ue.Tab:if(m.current=!1,g.comboboxState!==0)return;g.mode===0&&g.activationTrigger!==1&&v.selectActiveOption(),v.closeCombobox();break}}),A=q(M=>{u==null||u(M),g.nullable&&g.mode===0&&M.target.value===""&&w(),v.openCombobox()}),_=q(M=>{var L,F,R;let I=(L=M.relatedTarget)!=null?L:Dn.find(z=>z!==M.currentTarget);if(m.current=!1,!((F=g.optionsRef.current)!=null&&F.contains(I))&&!((R=g.buttonRef.current)!=null&&R.contains(I))&&g.comboboxState===0)return M.preventDefault(),g.mode===0&&(g.nullable&&g.value===null?w():g.activationTrigger!==1&&v.selectActiveOption()),v.closeCombobox()}),T=q(M=>{var L,F,R;let I=(L=M.relatedTarget)!=null?L:Dn.find(z=>z!==M.currentTarget);(F=g.buttonRef.current)!=null&&F.contains(I)||(R=g.optionsRef.current)!=null&&R.contains(I)||g.disabled||g.immediate&&g.comboboxState!==0&&(v.openCombobox(),x.nextFrame(()=>{v.setActivationTrigger(1)}))}),N=Os(()=>{if(g.labelId)return[g.labelId].join(" ")},[g.labelId]),B=f.useMemo(()=>({open:g.comboboxState===0,disabled:g.disabled}),[g]),$={ref:b,id:c,role:"combobox",type:p,"aria-controls":(n=g.optionsRef.current)==null?void 0:n.id,"aria-expanded":g.comboboxState===0,"aria-activedescendant":g.activeOptionIndex===null?void 0:g.virtual?(r=g.options.find(M=>{var L;return!((L=g.virtual)!=null&&L.disabled(M.dataRef.current.value))&&g.compare(M.dataRef.current.value,g.virtual.options[g.activeOptionIndex])}))==null?void 0:r.id:(o=g.options[g.activeOptionIndex])==null?void 0:o.id,"aria-labelledby":N,"aria-autocomplete":"list",defaultValue:(i=(s=e.defaultValue)!=null?s:g.defaultValue!==void 0?d==null?void 0:d(g.defaultValue):null)!=null?i:g.defaultValue,disabled:g.disabled,onCompositionStart:j,onCompositionEnd:E,onKeyDown:O,onChange:A,onFocus:T,onBlur:_};return xe({ourProps:$,theirProps:h,slot:B,defaultTag:LS,name:"Combobox.Input"})}let $S="button";function DS(e,t){var n;let r=so("Combobox.Button"),o=Ms("Combobox.Button"),s=Se(r.buttonRef,t),i=Fe(),{id:a=`headlessui-combobox-button-${i}`,...c}=e,u=en(),d=q(b=>{switch(b.key){case ue.ArrowDown:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&o.openCombobox(),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case ue.ArrowUp:return b.preventDefault(),b.stopPropagation(),r.comboboxState===1&&(o.openCombobox(),u.nextFrame(()=>{r.value||o.goToOption(Ie.Last)})),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})});case ue.Escape:return r.comboboxState!==0?void 0:(b.preventDefault(),r.optionsRef.current&&!r.optionsPropsRef.current.static&&b.stopPropagation(),o.closeCombobox(),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})}));default:return}}),p=q(b=>{if(ir(b.currentTarget))return b.preventDefault();r.comboboxState===0?o.closeCombobox():(b.preventDefault(),o.openCombobox()),u.nextFrame(()=>{var y;return(y=r.inputRef.current)==null?void 0:y.focus({preventScroll:!0})})}),h=Os(()=>{if(r.labelId)return[r.labelId,a].join(" ")},[r.labelId,a]),g=f.useMemo(()=>({open:r.comboboxState===0,disabled:r.disabled,value:r.value}),[r]),v={ref:s,id:a,type:Io(e,r.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsRef.current)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":h,disabled:r.disabled,onClick:p,onKeyDown:d};return xe({ourProps:v,theirProps:c,slot:g,defaultTag:$S,name:"Combobox.Button"})}let IS="label";function VS(e,t){let n=Fe(),{id:r=`headlessui-combobox-label-${n}`,...o}=e,s=so("Combobox.Label"),i=Ms("Combobox.Label"),a=Se(s.labelRef,t);Ce(()=>i.registerLabel(r),[r]);let c=q(()=>{var d;return(d=s.inputRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:s.comboboxState===0,disabled:s.disabled}),[s]);return xe({ourProps:{ref:a,id:r,onClick:c},theirProps:o,slot:u,defaultTag:IS,name:"Combobox.Label"})}let HS="ul",BS=wt.RenderStrategy|wt.Static;function zS(e,t){let n=Fe(),{id:r=`headlessui-combobox-options-${n}`,hold:o=!1,...s}=e,i=so("Combobox.Options"),a=Se(i.optionsRef,t),c=_r(),u=(()=>c!==null?(c&Be.Open)===Be.Open:i.comboboxState===0)();Ce(()=>{var g;i.optionsPropsRef.current.static=(g=e.static)!=null?g:!1},[i.optionsPropsRef,e.static]),Ce(()=>{i.optionsPropsRef.current.hold=o},[i.optionsPropsRef,o]),Sh({container:i.optionsRef.current,enabled:i.comboboxState===0,accept(g){return g.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:g.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(g){g.setAttribute("role","none")}});let d=Os(()=>{var g,v;return(v=i.labelId)!=null?v:(g=i.buttonRef.current)==null?void 0:g.id},[i.labelId,i.buttonRef.current]),p=f.useMemo(()=>({open:i.comboboxState===0,option:void 0}),[i]),h={"aria-labelledby":d,role:"listbox","aria-multiselectable":i.mode===1?!0:void 0,id:r,ref:a};return i.virtual&&i.comboboxState===0&&Object.assign(s,{children:f.createElement(TS,null,s.children)}),xe({ourProps:h,theirProps:s,slot:p,defaultTag:HS,features:BS,visible:u,name:"Combobox.Options"})}let FS="li";function RS(e,t){var n;let r=Fe(),{id:o=`headlessui-combobox-option-${r}`,disabled:s=!1,value:i,order:a=null,...c}=e,u=so("Combobox.Option"),d=Ms("Combobox.Option"),p=u.virtual?u.activeOptionIndex===u.calculateIndex(i):u.activeOptionIndex===null?!1:((n=u.options[u.activeOptionIndex])==null?void 0:n.id)===o,h=u.isSelected(i),g=f.useRef(null),v=it({disabled:s,value:i,domRef:g,order:a}),b=f.useContext(Oh),y=Se(t,g,b?b.measureElement:null),m=q(()=>d.onChange(i));Ce(()=>d.registerOption(o,v),[v,o]);let x=f.useRef(!(u.virtual||u.__demoMode));Ce(()=>{if(!u.virtual||!u.__demoMode)return;let _=Qt();return _.requestAnimationFrame(()=>{x.current=!0}),_.dispose},[u.virtual,u.__demoMode]),Ce(()=>{if(!x.current||u.comboboxState!==0||!p||u.activationTrigger===0)return;let _=Qt();return _.requestAnimationFrame(()=>{var T,N;(N=(T=g.current)==null?void 0:T.scrollIntoView)==null||N.call(T,{block:"nearest"})}),_.dispose},[g,p,u.comboboxState,u.activationTrigger,u.activeOptionIndex]);let w=q(_=>{var T;if(s||(T=u.virtual)!=null&&T.disabled(i))return _.preventDefault();m(),mh()||requestAnimationFrame(()=>{var N;return(N=u.inputRef.current)==null?void 0:N.focus({preventScroll:!0})}),u.mode===0&&requestAnimationFrame(()=>d.closeCombobox())}),S=q(()=>{var _;if(s||(_=u.virtual)!=null&&_.disabled(i))return d.goToOption(Ie.Nothing);let T=u.calculateIndex(i);d.goToOption(Ie.Specific,T)}),C=wh(),j=q(_=>C.update(_)),E=q(_=>{var T;if(!C.wasMoved(_)||s||(T=u.virtual)!=null&&T.disabled(i)||p)return;let N=u.calculateIndex(i);d.goToOption(Ie.Specific,N,0)}),O=q(_=>{var T;C.wasMoved(_)&&(s||(T=u.virtual)!=null&&T.disabled(i)||p&&(u.optionsPropsRef.current.hold||d.goToOption(Ie.Nothing)))}),A=f.useMemo(()=>({active:p,selected:h,disabled:s}),[p,h,s]);return xe({ourProps:{id:o,ref:y,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":h,disabled:void 0,onClick:w,onFocus:S,onPointerEnter:j,onMouseEnter:j,onPointerMove:E,onMouseMove:E,onPointerLeave:O,onMouseLeave:O},theirProps:c,slot:A,defaultTag:FS,name:"Combobox.Option"})}let US=we(kS),WS=we(DS),GS=we(NS),KS=we(VS),qS=we(zS),YS=we(RS),Ho=Object.assign(US,{Input:GS,Button:WS,Label:KS,Options:qS,Option:YS});function qc(e,t,n,r){let o=it(n);f.useEffect(()=>{e=e??window;function s(i){o.current(i)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function Bo(){let e=f.useRef(!1);return Ce(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function Ph(e){let t=q(e),n=f.useRef(!1);f.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ps(()=>{n.current&&t()})}),[t])}var Rt=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Rt||{});function Yc(){let e=f.useRef(0);return vh("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Th(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let XS="div";var Ah=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(Ah||{});function ZS(e,t){let n=f.useRef(null),r=Se(n,t),{initialFocus:o,containers:s,features:i=30,...a}=e;Do()||(i=1);let c=sr(n);ej({ownerDocument:c},!!(i&16));let u=tj({ownerDocument:c,container:n,initialFocus:o},!!(i&2));nj({ownerDocument:c,container:n,containers:s,previousActiveElement:u},!!(i&8));let d=Yc(),p=q(b=>{let y=n.current;y&&(m=>m())(()=>{ge(d.current,{[Rt.Forwards]:()=>{at(y,Re.First,{skipElements:[b.relatedTarget]})},[Rt.Backwards]:()=>{at(y,Re.Last,{skipElements:[b.relatedTarget]})}})})}),h=en(),g=f.useRef(!1),v={ref:r,onKeyDown(b){b.key=="Tab"&&(g.current=!0,h.requestAnimationFrame(()=>{g.current=!1}))},onBlur(b){let y=Th(s);n.current instanceof HTMLElement&&y.add(n.current);let m=b.relatedTarget;m instanceof HTMLElement&&m.dataset.headlessuiFocusGuard!=="true"&&(Mh(y,m)||(g.current?at(n.current,ge(d.current,{[Rt.Forwards]:()=>Re.Next,[Rt.Backwards]:()=>Re.Previous})|Re.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&oo(b.target)))}};return f.createElement(f.Fragment,null,!!(i&4)&&f.createElement(Ft,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zt.Focusable}),xe({ourProps:v,theirProps:a,defaultTag:XS,name:"FocusTrap"}),!!(i&4)&&f.createElement(Ft,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:zt.Focusable}))}let JS=we(ZS),ks=Object.assign(JS,{features:Ah});function QS(e=!0){let t=f.useRef(Dn.slice());return Ts(([n],[r])=>{r===!0&&n===!1&&Ps(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Dn.slice())},[e,Dn,t]),q(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function ej({ownerDocument:e},t){let n=QS(t);Ts(()=>{t||(e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&oo(n())},[t]),Ph(()=>{t&&oo(n())})}function tj({ownerDocument:e,container:t,initialFocus:n},r){let o=f.useRef(null),s=Bo();return Ts(()=>{if(!r)return;let i=t.current;i&&Ps(()=>{if(!s.current)return;let a=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===a){o.current=a;return}}else if(i.contains(a)){o.current=a;return}n!=null&&n.current?oo(n.current):at(i,Re.First)===wn.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),o.current=e==null?void 0:e.activeElement})},[r]),o}function nj({ownerDocument:e,container:t,containers:n,previousActiveElement:r},o){let s=Bo();qc(e==null?void 0:e.defaultView,"focus",i=>{if(!o||!s.current)return;let a=Th(n);t.current instanceof HTMLElement&&a.add(t.current);let c=r.current;if(!c)return;let u=i.target;u&&u instanceof HTMLElement?Mh(a,u)?(r.current=u,oo(u)):(i.preventDefault(),i.stopPropagation(),oo(c)):oo(r.current)},!0)}function Mh(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let kh=f.createContext(!1);function rj(){return f.useContext(kh)}function Xc(e){return f.createElement(kh.Provider,{value:e.force},e.children)}function oj(e){let t=rj(),n=f.useContext(Lh),r=sr(e),[o,s]=f.useState(()=>{if(!t&&n!==null||rr.isServer)return null;let i=r==null?void 0:r.getElementById("headlessui-portal-root");if(i)return i;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return f.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),f.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),o}let sj=f.Fragment;function ij(e,t){let n=e,r=f.useRef(null),o=Se(Bc(d=>{r.current=d}),t),s=sr(r),i=oj(r),[a]=f.useState(()=>{var d;return rr.isServer?null:(d=s==null?void 0:s.createElement("div"))!=null?d:null}),c=f.useContext(Zc),u=Do();return Ce(()=>{!i||!a||i.contains(a)||(a.setAttribute("data-headlessui-portal",""),i.appendChild(a))},[i,a]),Ce(()=>{if(a&&c)return c.register(a)},[c,a]),Ph(()=>{var d;!i||!a||(a instanceof Node&&i.contains(a)&&i.removeChild(a),i.childNodes.length<=0&&((d=i.parentElement)==null||d.removeChild(i)))}),u?!i||!a?null:Pt.createPortal(xe({ourProps:{ref:o},theirProps:n,defaultTag:sj,name:"Portal"}),a):null}let aj=f.Fragment,Lh=f.createContext(null);function lj(e,t){let{target:n,...r}=e,o={ref:Se(t)};return f.createElement(Lh.Provider,{value:n},xe({ourProps:o,theirProps:r,defaultTag:aj,name:"Popover.Group"}))}let Zc=f.createContext(null);function Nh(){let e=f.useContext(Zc),t=f.useRef([]),n=q(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=q(s=>{let i=t.current.indexOf(s);i!==-1&&t.current.splice(i,1),e&&e.unregister(s)}),o=f.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,f.useMemo(()=>function({children:s}){return f.createElement(Zc.Provider,{value:o},s)},[o])]}let cj=we(ij),uj=we(lj),Jc=Object.assign(cj,{Group:uj});function dj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const fj=typeof Object.is=="function"?Object.is:dj,{useState:pj,useEffect:hj,useLayoutEffect:gj,useDebugValue:mj}=ke;function vj(e,t,n){const r=t(),[{inst:o},s]=pj({inst:{value:r,getSnapshot:t}});return gj(()=>{o.value=r,o.getSnapshot=t,Qc(o)&&s({inst:o})},[e,r,t]),hj(()=>(Qc(o)&&s({inst:o}),e(()=>{Qc(o)&&s({inst:o})})),[e]),mj(r),r}function Qc(e){const t=e.getSnapshot,n=e.value;try{const r=t();return!fj(n,r)}catch{return!0}}function bj(e,t,n){return t()}const yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",xj=!yj,wj=xj?bj:vj,Sj="useSyncExternalStore"in ke?(e=>e.useSyncExternalStore)(ke):wj;function jj(e){return Sj(e.subscribe,e.getSnapshot,e.getSnapshot)}function Cj(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...s){let i=t[o].call(n,...s);i&&(n=i,r.forEach(a=>a()))}}}function Ej(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,o=r.clientWidth-r.offsetWidth,s=e-o;n.style(r,"paddingRight",`${s}px`)}}}function _j(){return gh()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(s=>s()).some(s=>s.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=Qt();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let s=(o=window.scrollY)!=null?o:window.pageYOffset,i=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let c=a.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(i=d)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let c=a.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()},{passive:!1}),t.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;s!==c&&window.scrollTo(0,s),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Oj(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Pj(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let io=Cj(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:Qt(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Pj(n)},o=[_j(),Ej(),Oj()];o.forEach(({before:s})=>s==null?void 0:s(r)),o.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});io.subscribe(()=>{let e=io.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&io.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&io.dispatch("TEARDOWN",n)}});function Tj(e,t,n){let r=jj(io),o=e?r.get(e):void 0,s=o?o.count>0:!1;return Ce(()=>{if(!(!e||!t))return io.dispatch("PUSH",e,n),()=>io.dispatch("POP",e,n)},[t,e]),s}let eu=new Map,Ls=new Map;function $h(e,t=!0){Ce(()=>{var n;if(!t)return;let r=typeof e=="function"?e():e.current;if(!r)return;function o(){var i;if(!r)return;let a=(i=Ls.get(r))!=null?i:1;if(a===1?Ls.delete(r):Ls.set(r,a-1),a!==1)return;let c=eu.get(r);c&&(c["aria-hidden"]===null?r.removeAttribute("aria-hidden"):r.setAttribute("aria-hidden",c["aria-hidden"]),r.inert=c.inert,eu.delete(r))}let s=(n=Ls.get(r))!=null?n:0;return Ls.set(r,s+1),s!==0||(eu.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),r.setAttribute("aria-hidden","true"),r.inert=!0),o},[e,t])}function Dh({defaultContainers:e=[],portals:t,mainTreeNodeRef:n}={}){var r;let o=f.useRef((r=n==null?void 0:n.current)!=null?r:null),s=sr(o),i=q(()=>{var a,c,u;let d=[];for(let p of e)p!==null&&(p instanceof HTMLElement?d.push(p):"current"in p&&p.current instanceof HTMLElement&&d.push(p.current));if(t!=null&&t.current)for(let p of t.current)d.push(p);for(let p of(a=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(o.current)||p.contains((u=(c=o.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(h=>p.contains(h))||d.push(p));return d});return{resolveContainers:i,contains:q(a=>i().some(c=>c.contains(a))),mainTreeNodeRef:o,MainTreeNode:f.useMemo(()=>function(){return n!=null?null:f.createElement(Ft,{features:zt.Hidden,ref:o})},[o,n])}}function Aj(){let e=f.useRef(null);return{mainTreeNodeRef:e,MainTreeNode:f.useMemo(()=>function(){return f.createElement(Ft,{features:zt.Hidden,ref:e})},[e])}}let tu=f.createContext(()=>{});tu.displayName="StackContext";var nu=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(nu||{});function Mj(){return f.useContext(tu)}function kj({children:e,onUpdate:t,type:n,element:r,enabled:o}){let s=Mj(),i=q((...a)=>{t==null||t(...a),s(...a)});return Ce(()=>{let a=o===void 0||o===!0;return a&&i(0,n,r),()=>{a&&i(1,n,r)}},[i,n,r,o]),f.createElement(tu.Provider,{value:i},e)}let Ih=f.createContext(null);function Vh(){let e=f.useContext(Ih);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Vh),t}return e}function ga(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let r=q(s=>(t(i=>[...i,s]),()=>t(i=>{let a=i.slice(),c=a.indexOf(s);return c!==-1&&a.splice(c,1),a}))),o=f.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return f.createElement(Ih.Provider,{value:o},n.children)},[t])]}let Lj="p";function Nj(e,t){let n=Fe(),{id:r=`headlessui-description-${n}`,...o}=e,s=Vh(),i=Se(t);Ce(()=>s.register(r),[r,s.register]);let a={ref:i,...s.props,id:r};return xe({ourProps:a,theirProps:o,slot:s.slot||{},defaultTag:Lj,name:s.name||"Description"})}let $j=we(Nj),ru=Object.assign($j,{});var Dj=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Dj||{}),Ij=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Ij||{});let Vj={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},ma=f.createContext(null);ma.displayName="DialogContext";function Ns(e){let t=f.useContext(ma);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ns),n}return t}function Hj(e,t,n=()=>[document.body]){Tj(e,t,r=>{var o;return{containers:[...(o=r.containers)!=null?o:[],n]}})}function Bj(e,t){return ge(t.type,Vj,e,t)}let zj="div",Fj=wt.RenderStrategy|wt.Static;function Rj(e,t){let n=Fe(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:s,initialFocus:i,role:a="dialog",__demoMode:c=!1,...u}=e,[d,p]=f.useState(0),h=f.useRef(!1);a=function(){return a==="dialog"||a==="alertdialog"?a:(h.current||(h.current=!0,console.warn(`Invalid role [${a}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let g=_r();o===void 0&&g!==null&&(o=(g&Be.Open)===Be.Open);let v=f.useRef(null),b=Se(v,t),y=sr(v),m=e.hasOwnProperty("open")||g!==null,x=e.hasOwnProperty("onClose");if(!m&&!x)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!m)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!x)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof o!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${o}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let w=o?0:1,[S,C]=f.useReducer(Bj,{titleId:null,descriptionId:null,panelRef:f.createRef()}),j=q(()=>s(!1)),E=q(ne=>C({type:0,id:ne})),O=Do()?c?!1:w===0:!1,A=d>1,_=f.useContext(ma)!==null,[T,N]=Nh(),B={get current(){var ne;return(ne=S.panelRef.current)!=null?ne:v.current}},{resolveContainers:$,mainTreeNodeRef:M,MainTreeNode:L}=Dh({portals:T,defaultContainers:[B]}),F=A?"parent":"leaf",R=g!==null?(g&Be.Closing)===Be.Closing:!1,I=(()=>_||R?!1:O)(),z=f.useCallback(()=>{var ne,be;return(be=Array.from((ne=y==null?void 0:y.querySelectorAll("body > *"))!=null?ne:[]).find(ye=>ye.id==="headlessui-portal-root"?!1:ye.contains(M.current)&&ye instanceof HTMLElement))!=null?be:null},[M]);$h(z,I);let U=(()=>A?!0:O)(),K=f.useCallback(()=>{var ne,be;return(be=Array.from((ne=y==null?void 0:y.querySelectorAll("[data-headlessui-portal]"))!=null?ne:[]).find(ye=>ye.contains(M.current)&&ye instanceof HTMLElement))!=null?be:null},[M]);$h(K,U);let ee=(()=>!(!O||A))();da($,ne=>{ne.preventDefault(),j()},ee);let X=(()=>!(A||w!==0))();qc(y==null?void 0:y.defaultView,"keydown",ne=>{X&&(ne.defaultPrevented||ne.key===ue.Escape&&(ne.preventDefault(),ne.stopPropagation(),j()))});let Q=(()=>!(R||w!==0||_))();Hj(y,Q,$),f.useEffect(()=>{if(w!==0||!v.current)return;let ne=new ResizeObserver(be=>{for(let ye of be){let Oe=ye.target.getBoundingClientRect();Oe.x===0&&Oe.y===0&&Oe.width===0&&Oe.height===0&&j()}});return ne.observe(v.current),()=>ne.disconnect()},[w,v,j]);let[ce,te]=ga(),G=f.useMemo(()=>[{dialogState:w,close:j,setTitleId:E},S],[w,S,j,E]),W=f.useMemo(()=>({open:w===0}),[w]),se={ref:b,id:r,role:a,"aria-modal":w===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":ce};return f.createElement(kj,{type:"Dialog",enabled:w===0,element:v,onUpdate:q((ne,be)=>{be==="Dialog"&&ge(ne,{[nu.Add]:()=>p(ye=>ye+1),[nu.Remove]:()=>p(ye=>ye-1)})})},f.createElement(Xc,{force:!0},f.createElement(Jc,null,f.createElement(ma.Provider,{value:G},f.createElement(Jc.Group,{target:v},f.createElement(Xc,{force:!1},f.createElement(te,{slot:W,name:"Dialog.Description"},f.createElement(ks,{initialFocus:i,containers:$,features:O?ge(F,{parent:ks.features.RestoreFocus,leaf:ks.features.All&~ks.features.FocusLock}):ks.features.None},f.createElement(N,null,xe({ourProps:se,theirProps:u,slot:W,defaultTag:zj,features:Fj,visible:w===0,name:"Dialog"}))))))))),f.createElement(L,null))}let Uj="div";function Wj(e,t){let n=Fe(),{id:r=`headlessui-dialog-overlay-${n}`,...o}=e,[{dialogState:s,close:i}]=Ns("Dialog.Overlay"),a=Se(t),c=q(d=>{if(d.target===d.currentTarget){if(ir(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),i()}}),u=f.useMemo(()=>({open:s===0}),[s]);return xe({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:c},theirProps:o,slot:u,defaultTag:Uj,name:"Dialog.Overlay"})}let Gj="div";function Kj(e,t){let n=Fe(),{id:r=`headlessui-dialog-backdrop-${n}`,...o}=e,[{dialogState:s},i]=Ns("Dialog.Backdrop"),a=Se(t);f.useEffect(()=>{if(i.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[i.panelRef]);let c=f.useMemo(()=>({open:s===0}),[s]);return f.createElement(Xc,{force:!0},f.createElement(Jc,null,xe({ourProps:{ref:a,id:r,"aria-hidden":!0},theirProps:o,slot:c,defaultTag:Gj,name:"Dialog.Backdrop"})))}let qj="div";function Yj(e,t){let n=Fe(),{id:r=`headlessui-dialog-panel-${n}`,...o}=e,[{dialogState:s},i]=Ns("Dialog.Panel"),a=Se(t,i.panelRef),c=f.useMemo(()=>({open:s===0}),[s]),u=q(d=>{d.stopPropagation()});return xe({ourProps:{ref:a,id:r,onClick:u},theirProps:o,slot:c,defaultTag:qj,name:"Dialog.Panel"})}let Xj="h2";function Zj(e,t){let n=Fe(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:s,setTitleId:i}]=Ns("Dialog.Title"),a=Se(t);f.useEffect(()=>(i(r),()=>i(null)),[r,i]);let c=f.useMemo(()=>({open:s===0}),[s]);return xe({ourProps:{ref:a,id:r},theirProps:o,slot:c,defaultTag:Xj,name:"Dialog.Title"})}let Jj=we(Rj),Qj=we(Kj),e2=we(Yj),t2=we(Wj),n2=we(Zj),$s=Object.assign(Jj,{Backdrop:Qj,Panel:e2,Overlay:t2,Title:n2,Description:ru});var Hh;let r2=(Hh=f.startTransition)!=null?Hh:function(e){e()};var o2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(o2||{}),s2=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(s2||{});let i2={0:e=>({...e,disclosureState:ge(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},4(e){return e.linkedPanel===!0?e:{...e,linkedPanel:!0}},5(e){return e.linkedPanel===!1?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},ou=f.createContext(null);ou.displayName="DisclosureContext";function su(e){let t=f.useContext(ou);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,su),n}return t}let iu=f.createContext(null);iu.displayName="DisclosureAPIContext";function Bh(e){let t=f.useContext(iu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Bh),n}return t}let au=f.createContext(null);au.displayName="DisclosurePanelContext";function a2(){return f.useContext(au)}function l2(e,t){return ge(t.type,i2,e,t)}let c2=f.Fragment;function u2(e,t){let{defaultOpen:n=!1,...r}=e,o=f.useRef(null),s=Se(t,Bc(y=>{o.current=y},e.as===void 0||e.as===f.Fragment)),i=f.useRef(null),a=f.useRef(null),c=f.useReducer(l2,{disclosureState:n?0:1,linkedPanel:!1,buttonRef:a,panelRef:i,buttonId:null,panelId:null}),[{disclosureState:u,buttonId:d},p]=c,h=q(y=>{p({type:1});let m=Cr(o);if(!m||!d)return;let x=(()=>y?y instanceof HTMLElement?y:y.current instanceof HTMLElement?y.current:m.getElementById(d):m.getElementById(d))();x==null||x.focus()}),g=f.useMemo(()=>({close:h}),[h]),v=f.useMemo(()=>({open:u===0,close:h}),[u,h]),b={ref:s};return f.createElement(ou.Provider,{value:c},f.createElement(iu.Provider,{value:g},f.createElement(As,{value:ge(u,{0:Be.Open,1:Be.Closed})},xe({ourProps:b,theirProps:r,slot:v,defaultTag:c2,name:"Disclosure"}))))}let d2="button";function f2(e,t){let n=Fe(),{id:r=`headlessui-disclosure-button-${n}`,...o}=e,[s,i]=su("Disclosure.Button"),a=a2(),c=a===null?!1:a===s.panelId,u=f.useRef(null),d=Se(u,t,c?null:s.buttonRef),p=zc();f.useEffect(()=>{if(!c)return i({type:2,buttonId:r}),()=>{i({type:2,buttonId:null})}},[r,i,c]);let h=q(x=>{var w;if(c){if(s.disclosureState===1)return;switch(x.key){case ue.Space:case ue.Enter:x.preventDefault(),x.stopPropagation(),i({type:0}),(w=s.buttonRef.current)==null||w.focus();break}}else switch(x.key){case ue.Space:case ue.Enter:x.preventDefault(),x.stopPropagation(),i({type:0});break}}),g=q(x=>{switch(x.key){case ue.Space:x.preventDefault();break}}),v=q(x=>{var w;ir(x.currentTarget)||e.disabled||(c?(i({type:0}),(w=s.buttonRef.current)==null||w.focus()):i({type:0}))}),b=f.useMemo(()=>({open:s.disclosureState===0}),[s]),y=Io(e,u),m=c?{ref:d,type:y,onKeyDown:h,onClick:v}:{ref:d,id:r,type:y,"aria-expanded":s.disclosureState===0,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:h,onKeyUp:g,onClick:v};return xe({mergeRefs:p,ourProps:m,theirProps:o,slot:b,defaultTag:d2,name:"Disclosure.Button"})}let p2="div",h2=wt.RenderStrategy|wt.Static;function g2(e,t){let n=Fe(),{id:r=`headlessui-disclosure-panel-${n}`,...o}=e,[s,i]=su("Disclosure.Panel"),{close:a}=Bh("Disclosure.Panel"),c=zc(),u=Se(t,s.panelRef,v=>{r2(()=>i({type:v?4:5}))});f.useEffect(()=>(i({type:3,panelId:r}),()=>{i({type:3,panelId:null})}),[r,i]);let d=_r(),p=(()=>d!==null?(d&Be.Open)===Be.Open:s.disclosureState===0)(),h=f.useMemo(()=>({open:s.disclosureState===0,close:a}),[s,a]),g={ref:u,id:r};return f.createElement(au.Provider,{value:s.panelId},xe({mergeRefs:c,ourProps:g,theirProps:o,slot:h,defaultTag:p2,features:h2,visible:p,name:"Disclosure.Panel"}))}let m2=we(u2),v2=we(f2),b2=we(g2),lu=Object.assign(m2,{Button:v2,Panel:b2}),zh=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Fh(e){var t,n;let r=(t=e.innerText)!=null?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let s=!1;for(let a of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let i=s?(n=o.innerText)!=null?n:"":r;return zh.test(i)&&(i=i.replace(zh,"")),i}function y2(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(o=>{let s=document.getElementById(o);if(s){let i=s.getAttribute("aria-label");return typeof i=="string"?i.trim():Fh(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return Fh(e).trim()}function x2(e){let t=f.useRef(""),n=f.useRef("");return q(()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let s=y2(r).trim().toLowerCase();return t.current=o,n.current=s,s})}var w2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(w2||{}),S2=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(S2||{}),j2=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(j2||{}),C2=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(C2||{});function cu(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=or(t(e.options.slice()),s=>s.dataRef.current.domRef.current),o=n?r.indexOf(n):null;return o===-1&&(o=null),{options:r,activeOptionIndex:o}}let E2={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(o=>n(o.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||e.listboxState===1)return e;let r=cu(e),o=Uc(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:s=>s.id,resolveDisabled:s=>s.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:(n=t.trigger)!=null?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(i=>{var a;return!i.dataRef.current.disabled&&((a=i.dataRef.current.textValue)==null?void 0:a.startsWith(r))}),s=o?e.options.indexOf(o):-1;return s===-1||s===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:s,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=cu(e,o=>[...o,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=cu(e,r=>{let o=r.findIndex(s=>s.id===t.id);return o!==-1&&r.splice(o,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},uu=f.createContext(null);uu.displayName="ListboxActionsContext";function Ds(e){let t=f.useContext(uu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ds),n}return t}let du=f.createContext(null);du.displayName="ListboxDataContext";function Is(e){let t=f.useContext(du);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Is),n}return t}function _2(e,t){return ge(t.type,E2,e,t)}let O2=f.Fragment;function P2(e,t){let{value:n,defaultValue:r,form:o,name:s,onChange:i,by:a=(X,Q)=>X===Q,disabled:c=!1,horizontal:u=!1,multiple:d=!1,...p}=e;const h=u?"horizontal":"vertical";let g=Se(t),[v=d?[]:void 0,b]=aa(n,i,r),[y,m]=f.useReducer(_2,{dataRef:f.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),x=f.useRef({static:!1,hold:!1}),w=f.useRef(null),S=f.useRef(null),C=f.useRef(null),j=q(typeof a=="string"?(X,Q)=>{let ce=a;return(X==null?void 0:X[ce])===(Q==null?void 0:Q[ce])}:a),E=f.useCallback(X=>ge(O.mode,{1:()=>v.some(Q=>j(Q,X)),0:()=>j(v,X)}),[v]),O=f.useMemo(()=>({...y,value:v,disabled:c,mode:d?1:0,orientation:h,compare:j,isSelected:E,optionsPropsRef:x,labelRef:w,buttonRef:S,optionsRef:C}),[v,c,d,y]);Ce(()=>{y.dataRef.current=O},[O]),da([O.buttonRef,O.optionsRef],(X,Q)=>{var ce;m({type:1}),Hc(Q,ca.Loose)||(X.preventDefault(),(ce=O.buttonRef.current)==null||ce.focus())},O.listboxState===0);let A=f.useMemo(()=>({open:O.listboxState===0,disabled:c,value:v}),[O,c,v]),_=q(X=>{let Q=O.options.find(ce=>ce.id===X);Q&&F(Q.dataRef.current.value)}),T=q(()=>{if(O.activeOptionIndex!==null){let{dataRef:X,id:Q}=O.options[O.activeOptionIndex];F(X.current.value),m({type:2,focus:Ie.Specific,id:Q})}}),N=q(()=>m({type:0})),B=q(()=>m({type:1})),$=q((X,Q,ce)=>X===Ie.Specific?m({type:2,focus:Ie.Specific,id:Q,trigger:ce}):m({type:2,focus:X,trigger:ce})),M=q((X,Q)=>(m({type:5,id:X,dataRef:Q}),()=>m({type:6,id:X}))),L=q(X=>(m({type:7,id:X}),()=>m({type:7,id:null}))),F=q(X=>ge(O.mode,{0(){return b==null?void 0:b(X)},1(){let Q=O.value.slice(),ce=Q.findIndex(te=>j(te,X));return ce===-1?Q.push(X):Q.splice(ce,1),b==null?void 0:b(Q)}})),R=q(X=>m({type:3,value:X})),I=q(()=>m({type:4})),z=f.useMemo(()=>({onChange:F,registerOption:M,registerLabel:L,goToOption:$,closeListbox:B,openListbox:N,selectActiveOption:T,selectOption:_,search:R,clearSearch:I}),[]),U={ref:g},K=f.useRef(null),ee=en();return f.useEffect(()=>{K.current&&r!==void 0&&ee.addEventListener(K.current,"reset",()=>{b==null||b(r)})},[K,b]),f.createElement(uu.Provider,{value:z},f.createElement(du.Provider,{value:O},f.createElement(As,{value:ge(O.listboxState,{0:Be.Open,1:Be.Closed})},s!=null&&v!=null&&ha({[s]:v}).map(([X,Q],ce)=>f.createElement(Ft,{features:zt.Hidden,ref:ce===0?te=>{var G;K.current=(G=te==null?void 0:te.closest("form"))!=null?G:null}:void 0,...Vo({key:X,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:o,disabled:c,name:X,value:Q})})),xe({ourProps:U,theirProps:p,slot:A,defaultTag:O2,name:"Listbox"}))))}let T2="button";function A2(e,t){var n;let r=Fe(),{id:o=`headlessui-listbox-button-${r}`,...s}=e,i=Is("Listbox.Button"),a=Ds("Listbox.Button"),c=Se(i.buttonRef,t),u=en(),d=q(y=>{switch(y.key){case ue.Space:case ue.Enter:case ue.ArrowDown:y.preventDefault(),a.openListbox(),u.nextFrame(()=>{i.value||a.goToOption(Ie.First)});break;case ue.ArrowUp:y.preventDefault(),a.openListbox(),u.nextFrame(()=>{i.value||a.goToOption(Ie.Last)});break}}),p=q(y=>{switch(y.key){case ue.Space:y.preventDefault();break}}),h=q(y=>{if(ir(y.currentTarget))return y.preventDefault();i.listboxState===0?(a.closeListbox(),u.nextFrame(()=>{var m;return(m=i.buttonRef.current)==null?void 0:m.focus({preventScroll:!0})})):(y.preventDefault(),a.openListbox())}),g=Os(()=>{if(i.labelId)return[i.labelId,o].join(" ")},[i.labelId,o]),v=f.useMemo(()=>({open:i.listboxState===0,disabled:i.disabled,value:i.value}),[i]),b={ref:c,id:o,type:Io(e,i.buttonRef),"aria-haspopup":"listbox","aria-controls":(n=i.optionsRef.current)==null?void 0:n.id,"aria-expanded":i.listboxState===0,"aria-labelledby":g,disabled:i.disabled,onKeyDown:d,onKeyUp:p,onClick:h};return xe({ourProps:b,theirProps:s,slot:v,defaultTag:T2,name:"Listbox.Button"})}let M2="label";function k2(e,t){let n=Fe(),{id:r=`headlessui-listbox-label-${n}`,...o}=e,s=Is("Listbox.Label"),i=Ds("Listbox.Label"),a=Se(s.labelRef,t);Ce(()=>i.registerLabel(r),[r]);let c=q(()=>{var d;return(d=s.buttonRef.current)==null?void 0:d.focus({preventScroll:!0})}),u=f.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled}),[s]);return xe({ourProps:{ref:a,id:r,onClick:c},theirProps:o,slot:u,defaultTag:M2,name:"Listbox.Label"})}let L2="ul",N2=wt.RenderStrategy|wt.Static;function $2(e,t){var n;let r=Fe(),{id:o=`headlessui-listbox-options-${r}`,...s}=e,i=Is("Listbox.Options"),a=Ds("Listbox.Options"),c=Se(i.optionsRef,t),u=en(),d=en(),p=_r(),h=(()=>p!==null?(p&Be.Open)===Be.Open:i.listboxState===0)();f.useEffect(()=>{var m;let x=i.optionsRef.current;x&&i.listboxState===0&&x!==((m=Cr(x))==null?void 0:m.activeElement)&&x.focus({preventScroll:!0})},[i.listboxState,i.optionsRef]);let g=q(m=>{switch(d.dispose(),m.key){case ue.Space:if(i.searchQuery!=="")return m.preventDefault(),m.stopPropagation(),a.search(m.key);case ue.Enter:if(m.preventDefault(),m.stopPropagation(),i.activeOptionIndex!==null){let{dataRef:x}=i.options[i.activeOptionIndex];a.onChange(x.current.value)}i.mode===0&&(a.closeListbox(),Qt().nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})}));break;case ge(i.orientation,{vertical:ue.ArrowDown,horizontal:ue.ArrowRight}):return m.preventDefault(),m.stopPropagation(),a.goToOption(Ie.Next);case ge(i.orientation,{vertical:ue.ArrowUp,horizontal:ue.ArrowLeft}):return m.preventDefault(),m.stopPropagation(),a.goToOption(Ie.Previous);case ue.Home:case ue.PageUp:return m.preventDefault(),m.stopPropagation(),a.goToOption(Ie.First);case ue.End:case ue.PageDown:return m.preventDefault(),m.stopPropagation(),a.goToOption(Ie.Last);case ue.Escape:return m.preventDefault(),m.stopPropagation(),a.closeListbox(),u.nextFrame(()=>{var x;return(x=i.buttonRef.current)==null?void 0:x.focus({preventScroll:!0})});case ue.Tab:m.preventDefault(),m.stopPropagation();break;default:m.key.length===1&&(a.search(m.key),d.setTimeout(()=>a.clearSearch(),350));break}}),v=Os(()=>{var m;return(m=i.buttonRef.current)==null?void 0:m.id},[i.buttonRef.current]),b=f.useMemo(()=>({open:i.listboxState===0}),[i]),y={"aria-activedescendant":i.activeOptionIndex===null||(n=i.options[i.activeOptionIndex])==null?void 0:n.id,"aria-multiselectable":i.mode===1?!0:void 0,"aria-labelledby":v,"aria-orientation":i.orientation,id:o,onKeyDown:g,role:"listbox",tabIndex:0,ref:c};return xe({ourProps:y,theirProps:s,slot:b,defaultTag:L2,features:N2,visible:h,name:"Listbox.Options"})}let D2="li";function I2(e,t){let n=Fe(),{id:r=`headlessui-listbox-option-${n}`,disabled:o=!1,value:s,...i}=e,a=Is("Listbox.Option"),c=Ds("Listbox.Option"),u=a.activeOptionIndex!==null?a.options[a.activeOptionIndex].id===r:!1,d=a.isSelected(s),p=f.useRef(null),h=x2(p),g=it({disabled:o,value:s,domRef:p,get textValue(){return h()}}),v=Se(t,p);Ce(()=>{if(a.listboxState!==0||!u||a.activationTrigger===0)return;let j=Qt();return j.requestAnimationFrame(()=>{var E,O;(O=(E=p.current)==null?void 0:E.scrollIntoView)==null||O.call(E,{block:"nearest"})}),j.dispose},[p,u,a.listboxState,a.activationTrigger,a.activeOptionIndex]),Ce(()=>c.registerOption(r,g),[g,r]);let b=q(j=>{if(o)return j.preventDefault();c.onChange(s),a.mode===0&&(c.closeListbox(),Qt().nextFrame(()=>{var E;return(E=a.buttonRef.current)==null?void 0:E.focus({preventScroll:!0})}))}),y=q(()=>{if(o)return c.goToOption(Ie.Nothing);c.goToOption(Ie.Specific,r)}),m=wh(),x=q(j=>m.update(j)),w=q(j=>{m.wasMoved(j)&&(o||u||c.goToOption(Ie.Specific,r,0))}),S=q(j=>{m.wasMoved(j)&&(o||u&&c.goToOption(Ie.Nothing))}),C=f.useMemo(()=>({active:u,selected:d,disabled:o}),[u,d,o]);return xe({ourProps:{id:r,ref:v,role:"option",tabIndex:o===!0?void 0:-1,"aria-disabled":o===!0?!0:void 0,"aria-selected":d,disabled:void 0,onClick:b,onFocus:y,onPointerEnter:x,onMouseEnter:x,onPointerMove:w,onMouseMove:w,onPointerLeave:S,onMouseLeave:S},theirProps:i,slot:C,defaultTag:D2,name:"Listbox.Option"})}let V2=we(P2),H2=we(A2),B2=we(k2),z2=we($2),F2=we(I2),Vs=Object.assign(V2,{Button:H2,Label:B2,Options:z2,Option:F2});var R2=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(R2||{}),U2=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(U2||{});let W2={0:e=>{let t={...e,popoverState:ge(e.popoverState,{0:1,1:0})};return t.popoverState===0&&(t.__demoMode=!1),t},1(e){return e.popoverState===1?e:{...e,popoverState:1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},fu=f.createContext(null);fu.displayName="PopoverContext";function va(e){let t=f.useContext(fu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,va),n}return t}let pu=f.createContext(null);pu.displayName="PopoverAPIContext";function hu(e){let t=f.useContext(pu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hu),n}return t}let gu=f.createContext(null);gu.displayName="PopoverGroupContext";function Rh(){return f.useContext(gu)}let ba=f.createContext(null);ba.displayName="PopoverPanelContext";function G2(){return f.useContext(ba)}function K2(e,t){return ge(t.type,W2,e,t)}let q2="div";function Y2(e,t){var n;let{__demoMode:r=!1,...o}=e,s=f.useRef(null),i=Se(t,Bc(L=>{s.current=L})),a=f.useRef([]),c=f.useReducer(K2,{__demoMode:r,popoverState:r?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:f.createRef(),afterPanelSentinel:f.createRef()}),[{popoverState:u,button:d,buttonId:p,panel:h,panelId:g,beforePanelSentinel:v,afterPanelSentinel:b},y]=c,m=sr((n=s.current)!=null?n:d),x=f.useMemo(()=>{if(!d||!h)return!1;for(let K of document.querySelectorAll("body > *"))if(Number(K==null?void 0:K.contains(d))^Number(K==null?void 0:K.contains(h)))return!0;let L=la(),F=L.indexOf(d),R=(F+L.length-1)%L.length,I=(F+1)%L.length,z=L[R],U=L[I];return!h.contains(z)&&!h.contains(U)},[d,h]),w=it(p),S=it(g),C=f.useMemo(()=>({buttonId:w,panelId:S,close:()=>y({type:1})}),[w,S,y]),j=Rh(),E=j==null?void 0:j.registerPopover,O=q(()=>{var L;return(L=j==null?void 0:j.isFocusWithinPopoverGroup())!=null?L:(m==null?void 0:m.activeElement)&&((d==null?void 0:d.contains(m.activeElement))||(h==null?void 0:h.contains(m.activeElement)))});f.useEffect(()=>E==null?void 0:E(C),[E,C]);let[A,_]=Nh(),T=Dh({mainTreeNodeRef:j==null?void 0:j.mainTreeNodeRef,portals:A,defaultContainers:[d,h]});qc(m==null?void 0:m.defaultView,"focus",L=>{var F,R,I,z;L.target!==window&&L.target instanceof HTMLElement&&u===0&&(O()||d&&h&&(T.contains(L.target)||(R=(F=v.current)==null?void 0:F.contains)!=null&&R.call(F,L.target)||(z=(I=b.current)==null?void 0:I.contains)!=null&&z.call(I,L.target)||y({type:1})))},!0),da(T.resolveContainers,(L,F)=>{y({type:1}),Hc(F,ca.Loose)||(L.preventDefault(),d==null||d.focus())},u===0);let N=q(L=>{y({type:1});let F=(()=>L?L instanceof HTMLElement?L:"current"in L&&L.current instanceof HTMLElement?L.current:d:d)();F==null||F.focus()}),B=f.useMemo(()=>({close:N,isPortalled:x}),[N,x]),$=f.useMemo(()=>({open:u===0,close:N}),[u,N]),M={ref:i};return f.createElement(ba.Provider,{value:null},f.createElement(fu.Provider,{value:c},f.createElement(pu.Provider,{value:B},f.createElement(As,{value:ge(u,{0:Be.Open,1:Be.Closed})},f.createElement(_,null,xe({ourProps:M,theirProps:o,slot:$,defaultTag:q2,name:"Popover"}),f.createElement(T.MainTreeNode,null))))))}let X2="button";function Z2(e,t){let n=Fe(),{id:r=`headlessui-popover-button-${n}`,...o}=e,[s,i]=va("Popover.Button"),{isPortalled:a}=hu("Popover.Button"),c=f.useRef(null),u=`headlessui-focus-sentinel-${Fe()}`,d=Rh(),p=d==null?void 0:d.closeOthers,h=G2()!==null;f.useEffect(()=>{if(!h)return i({type:3,buttonId:r}),()=>{i({type:3,buttonId:null})}},[h,r,i]);let[g]=f.useState(()=>Symbol()),v=Se(c,t,h?null:T=>{if(T)s.buttons.current.push(g);else{let N=s.buttons.current.indexOf(g);N!==-1&&s.buttons.current.splice(N,1)}s.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),T&&i({type:2,button:T})}),b=Se(c,t),y=sr(c),m=q(T=>{var N,B,$;if(h){if(s.popoverState===1)return;switch(T.key){case ue.Space:case ue.Enter:T.preventDefault(),(B=(N=T.target).click)==null||B.call(N),i({type:1}),($=s.button)==null||$.focus();break}}else switch(T.key){case ue.Space:case ue.Enter:T.preventDefault(),T.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),i({type:0});break;case ue.Escape:if(s.popoverState!==0)return p==null?void 0:p(s.buttonId);if(!c.current||y!=null&&y.activeElement&&!c.current.contains(y.activeElement))return;T.preventDefault(),T.stopPropagation(),i({type:1});break}}),x=q(T=>{h||T.key===ue.Space&&T.preventDefault()}),w=q(T=>{var N,B;ir(T.currentTarget)||e.disabled||(h?(i({type:1}),(N=s.button)==null||N.focus()):(T.preventDefault(),T.stopPropagation(),s.popoverState===1&&(p==null||p(s.buttonId)),i({type:0}),(B=s.button)==null||B.focus()))}),S=q(T=>{T.preventDefault(),T.stopPropagation()}),C=s.popoverState===0,j=f.useMemo(()=>({open:C}),[C]),E=Io(e,c),O=h?{ref:b,type:E,onKeyDown:m,onClick:w}:{ref:v,id:s.buttonId,type:E,"aria-expanded":s.popoverState===0,"aria-controls":s.panel?s.panelId:void 0,onKeyDown:m,onKeyUp:x,onClick:w,onMouseDown:S},A=Yc(),_=q(()=>{let T=s.panel;if(!T)return;function N(){ge(A.current,{[Rt.Forwards]:()=>at(T,Re.First),[Rt.Backwards]:()=>at(T,Re.Last)})===wn.Error&&at(la().filter(B=>B.dataset.headlessuiFocusGuard!=="true"),ge(A.current,{[Rt.Forwards]:Re.Next,[Rt.Backwards]:Re.Previous}),{relativeTo:s.button})}N()});return f.createElement(f.Fragment,null,xe({ourProps:O,theirProps:o,slot:j,defaultTag:X2,name:"Popover.Button"}),C&&!h&&a&&f.createElement(Ft,{id:u,features:zt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:_}))}let J2="div",Q2=wt.RenderStrategy|wt.Static;function eC(e,t){let n=Fe(),{id:r=`headlessui-popover-overlay-${n}`,...o}=e,[{popoverState:s},i]=va("Popover.Overlay"),a=Se(t),c=_r(),u=(()=>c!==null?(c&Be.Open)===Be.Open:s===0)(),d=q(h=>{if(ir(h.currentTarget))return h.preventDefault();i({type:1})}),p=f.useMemo(()=>({open:s===0}),[s]);return xe({ourProps:{ref:a,id:r,"aria-hidden":!0,onClick:d},theirProps:o,slot:p,defaultTag:J2,features:Q2,visible:u,name:"Popover.Overlay"})}let tC="div",nC=wt.RenderStrategy|wt.Static;function rC(e,t){let n=Fe(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,...s}=e,[i,a]=va("Popover.Panel"),{close:c,isPortalled:u}=hu("Popover.Panel"),d=`headlessui-focus-sentinel-before-${Fe()}`,p=`headlessui-focus-sentinel-after-${Fe()}`,h=f.useRef(null),g=Se(h,t,O=>{a({type:4,panel:O})}),v=sr(h),b=zc();Ce(()=>(a({type:5,panelId:r}),()=>{a({type:5,panelId:null})}),[r,a]);let y=_r(),m=(()=>y!==null?(y&Be.Open)===Be.Open:i.popoverState===0)(),x=q(O=>{var A;switch(O.key){case ue.Escape:if(i.popoverState!==0||!h.current||v!=null&&v.activeElement&&!h.current.contains(v.activeElement))return;O.preventDefault(),O.stopPropagation(),a({type:1}),(A=i.button)==null||A.focus();break}});f.useEffect(()=>{var O;e.static||i.popoverState===1&&((O=e.unmount)==null||O)&&a({type:4,panel:null})},[i.popoverState,e.unmount,e.static,a]),f.useEffect(()=>{if(i.__demoMode||!o||i.popoverState!==0||!h.current)return;let O=v==null?void 0:v.activeElement;h.current.contains(O)||at(h.current,Re.First)},[i.__demoMode,o,h,i.popoverState]);let w=f.useMemo(()=>({open:i.popoverState===0,close:c}),[i,c]),S={ref:g,id:r,onKeyDown:x,onBlur:o&&i.popoverState===0?O=>{var A,_,T,N,B;let $=O.relatedTarget;$&&h.current&&((A=h.current)!=null&&A.contains($)||(a({type:1}),((T=(_=i.beforePanelSentinel.current)==null?void 0:_.contains)!=null&&T.call(_,$)||(B=(N=i.afterPanelSentinel.current)==null?void 0:N.contains)!=null&&B.call(N,$))&&$.focus({preventScroll:!0})))}:void 0,tabIndex:-1},C=Yc(),j=q(()=>{let O=h.current;if(!O)return;function A(){ge(C.current,{[Rt.Forwards]:()=>{var _;at(O,Re.First)===wn.Error&&((_=i.afterPanelSentinel.current)==null||_.focus())},[Rt.Backwards]:()=>{var _;(_=i.button)==null||_.focus({preventScroll:!0})}})}A()}),E=q(()=>{let O=h.current;if(!O)return;function A(){ge(C.current,{[Rt.Forwards]:()=>{var _;if(!i.button)return;let T=la(),N=T.indexOf(i.button),B=T.slice(0,N+1),$=[...T.slice(N+1),...B];for(let M of $.slice())if(M.dataset.headlessuiFocusGuard==="true"||(_=i.panel)!=null&&_.contains(M)){let L=$.indexOf(M);L!==-1&&$.splice(L,1)}at($,Re.First,{sorted:!1})},[Rt.Backwards]:()=>{var _;at(O,Re.Previous)===wn.Error&&((_=i.button)==null||_.focus())}})}A()});return f.createElement(ba.Provider,{value:r},m&&u&&f.createElement(Ft,{id:d,ref:i.beforePanelSentinel,features:zt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:j}),xe({mergeRefs:b,ourProps:S,theirProps:s,slot:w,defaultTag:tC,features:nC,visible:m,name:"Popover.Panel"}),m&&u&&f.createElement(Ft,{id:p,ref:i.afterPanelSentinel,features:zt.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:E}))}let oC="div";function sC(e,t){let n=f.useRef(null),r=Se(n,t),[o,s]=f.useState([]),i=Aj(),a=q(b=>{s(y=>{let m=y.indexOf(b);if(m!==-1){let x=y.slice();return x.splice(m,1),x}return y})}),c=q(b=>(s(y=>[...y,b]),()=>a(b))),u=q(()=>{var b;let y=Cr(n);if(!y)return!1;let m=y.activeElement;return(b=n.current)!=null&&b.contains(m)?!0:o.some(x=>{var w,S;return((w=y.getElementById(x.buttonId.current))==null?void 0:w.contains(m))||((S=y.getElementById(x.panelId.current))==null?void 0:S.contains(m))})}),d=q(b=>{for(let y of o)y.buttonId.current!==b&&y.close()}),p=f.useMemo(()=>({registerPopover:c,unregisterPopover:a,isFocusWithinPopoverGroup:u,closeOthers:d,mainTreeNodeRef:i.mainTreeNodeRef}),[c,a,u,d,i.mainTreeNodeRef]),h=f.useMemo(()=>({}),[]),g=e,v={ref:r};return f.createElement(gu.Provider,{value:p},xe({ourProps:v,theirProps:g,slot:h,defaultTag:oC,name:"Popover.Group"}),f.createElement(i.MainTreeNode,null))}let iC=we(Y2),aC=we(Z2),lC=we(eC),cC=we(rC),uC=we(sC),Hs=Object.assign(iC,{Button:aC,Overlay:lC,Panel:cC,Group:uC}),Uh=f.createContext(null);function Wh(){let e=f.useContext(Uh);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Wh),t}return e}function mu(){let[e,t]=f.useState([]);return[e.length>0?e.join(" "):void 0,f.useMemo(()=>function(n){let r=q(s=>(t(i=>[...i,s]),()=>t(i=>{let a=i.slice(),c=a.indexOf(s);return c!==-1&&a.splice(c,1),a}))),o=f.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props}),[r,n.slot,n.name,n.props]);return f.createElement(Uh.Provider,{value:o},n.children)},[t])]}let dC="label";function fC(e,t){let n=Fe(),{id:r=`headlessui-label-${n}`,passive:o=!1,...s}=e,i=Wh(),a=Se(t);Ce(()=>i.register(r),[r,i.register]);let c={ref:a,...i.props,id:r};return o&&("onClick"in c&&(delete c.htmlFor,delete c.onClick),"onClick"in s&&delete s.onClick),xe({ourProps:c,theirProps:s,slot:i.slot||{},defaultTag:dC,name:i.name||"Label"})}let pC=we(fC),Gh=Object.assign(pC,{});function Kh(e=0){let[t,n]=f.useState(e),r=Bo(),o=f.useCallback(c=>{r.current&&n(u=>u|c)},[t,r]),s=f.useCallback(c=>!!(t&c),[t]),i=f.useCallback(c=>{r.current&&n(u=>u&~c)},[n,r]),a=f.useCallback(c=>{r.current&&n(u=>u^c)},[n]);return{flags:t,addFlag:o,hasFlag:s,removeFlag:i,toggleFlag:a}}var hC=(e=>(e[e.RegisterOption=0]="RegisterOption",e[e.UnregisterOption=1]="UnregisterOption",e))(hC||{});let gC={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:or(n,r=>r.element.current)}},1(e,t){let n=e.options.slice(),r=e.options.findIndex(o=>o.id===t.id);return r===-1?e:(n.splice(r,1),{...e,options:n})}},vu=f.createContext(null);vu.displayName="RadioGroupDataContext";function qh(e){let t=f.useContext(vu);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,qh),n}return t}let bu=f.createContext(null);bu.displayName="RadioGroupActionsContext";function Yh(e){let t=f.useContext(bu);if(t===null){let n=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yh),n}return t}function mC(e,t){return ge(t.type,gC,e,t)}let vC="div";function bC(e,t){let n=Fe(),{id:r=`headlessui-radiogroup-${n}`,value:o,defaultValue:s,form:i,name:a,onChange:c,by:u=(I,z)=>I===z,disabled:d=!1,...p}=e,h=q(typeof u=="string"?(I,z)=>{let U=u;return(I==null?void 0:I[U])===(z==null?void 0:z[U])}:u),[g,v]=f.useReducer(mC,{options:[]}),b=g.options,[y,m]=mu(),[x,w]=ga(),S=f.useRef(null),C=Se(S,t),[j,E]=aa(o,c,s),O=f.useMemo(()=>b.find(I=>!I.propsRef.current.disabled),[b]),A=f.useMemo(()=>b.some(I=>h(I.propsRef.current.value,j)),[b,j]),_=q(I=>{var z;if(d||h(I,j))return!1;let U=(z=b.find(K=>h(K.propsRef.current.value,I)))==null?void 0:z.propsRef.current;return U!=null&&U.disabled?!1:(E==null||E(I),!0)});Sh({container:S.current,accept(I){return I.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:I.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(I){I.setAttribute("role","none")}});let T=q(I=>{let z=S.current;if(!z)return;let U=Cr(z),K=b.filter(ee=>ee.propsRef.current.disabled===!1).map(ee=>ee.element.current);switch(I.key){case ue.Enter:_h(I.currentTarget);break;case ue.ArrowLeft:case ue.ArrowUp:if(I.preventDefault(),I.stopPropagation(),at(K,Re.Previous|Re.WrapAround)===wn.Success){let ee=b.find(X=>X.element.current===(U==null?void 0:U.activeElement));ee&&_(ee.propsRef.current.value)}break;case ue.ArrowRight:case ue.ArrowDown:if(I.preventDefault(),I.stopPropagation(),at(K,Re.Next|Re.WrapAround)===wn.Success){let ee=b.find(X=>X.element.current===(U==null?void 0:U.activeElement));ee&&_(ee.propsRef.current.value)}break;case ue.Space:{I.preventDefault(),I.stopPropagation();let ee=b.find(X=>X.element.current===(U==null?void 0:U.activeElement));ee&&_(ee.propsRef.current.value)}break}}),N=q(I=>(v({type:0,...I}),()=>v({type:1,id:I.id}))),B=f.useMemo(()=>({value:j,firstOption:O,containsCheckedOption:A,disabled:d,compare:h,...g}),[j,O,A,d,h,g]),$=f.useMemo(()=>({registerOption:N,change:_}),[N,_]),M={ref:C,id:r,role:"radiogroup","aria-labelledby":y,"aria-describedby":x,onKeyDown:T},L=f.useMemo(()=>({value:j}),[j]),F=f.useRef(null),R=en();return f.useEffect(()=>{F.current&&s!==void 0&&R.addEventListener(F.current,"reset",()=>{_(s)})},[F,_]),f.createElement(w,{name:"RadioGroup.Description"},f.createElement(m,{name:"RadioGroup.Label"},f.createElement(bu.Provider,{value:$},f.createElement(vu.Provider,{value:B},a!=null&&j!=null&&ha({[a]:j}).map(([I,z],U)=>f.createElement(Ft,{features:zt.Hidden,ref:U===0?K=>{var ee;F.current=(ee=K==null?void 0:K.closest("form"))!=null?ee:null}:void 0,...Vo({key:I,as:"input",type:"radio",checked:z!=null,hidden:!0,readOnly:!0,form:i,disabled:d,name:I,value:z})})),xe({ourProps:M,theirProps:p,slot:L,defaultTag:vC,name:"RadioGroup"})))))}var yC=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(yC||{});let xC="div";function wC(e,t){var n;let r=Fe(),{id:o=`headlessui-radiogroup-option-${r}`,value:s,disabled:i=!1,...a}=e,c=f.useRef(null),u=Se(c,t),[d,p]=mu(),[h,g]=ga(),{addFlag:v,removeFlag:b,hasFlag:y}=Kh(1),m=it({value:s,disabled:i}),x=qh("RadioGroup.Option"),w=Yh("RadioGroup.Option");Ce(()=>w.registerOption({id:o,element:c,propsRef:m}),[o,w,c,m]);let S=q(N=>{var B;if(ir(N.currentTarget))return N.preventDefault();w.change(s)&&(v(2),(B=c.current)==null||B.focus())}),C=q(N=>{if(ir(N.currentTarget))return N.preventDefault();v(2)}),j=q(()=>b(2)),E=((n=x.firstOption)==null?void 0:n.id)===o,O=x.disabled||i,A=x.compare(x.value,s),_={ref:u,id:o,role:"radio","aria-checked":A?"true":"false","aria-labelledby":d,"aria-describedby":h,"aria-disabled":O?!0:void 0,tabIndex:(()=>O?-1:A||!x.containsCheckedOption&&E?0:-1)(),onClick:O?void 0:S,onFocus:O?void 0:C,onBlur:O?void 0:j},T=f.useMemo(()=>({checked:A,disabled:O,active:y(2)}),[A,O,y]);return f.createElement(g,{name:"RadioGroup.Description"},f.createElement(p,{name:"RadioGroup.Label"},xe({ourProps:_,theirProps:a,slot:T,defaultTag:xC,name:"RadioGroup.Option"})))}let SC=we(bC),jC=we(wC),Xh=Object.assign(SC,{Option:jC,Label:Gh,Description:ru}),yu=f.createContext(null);yu.displayName="GroupContext";let CC=f.Fragment;function EC(e){var t;let[n,r]=f.useState(null),[o,s]=mu(),[i,a]=ga(),c=f.useMemo(()=>({switch:n,setSwitch:r,labelledby:o,describedby:i}),[n,r,o,i]),u={},d=e;return f.createElement(a,{name:"Switch.Description"},f.createElement(s,{name:"Switch.Label",props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(p){n&&(p.currentTarget.tagName==="LABEL"&&p.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},f.createElement(yu.Provider,{value:c},xe({ourProps:u,theirProps:d,defaultTag:CC,name:"Switch.Group"}))))}let _C="button";function OC(e,t){var n;let r=Fe(),{id:o=`headlessui-switch-${r}`,checked:s,defaultChecked:i=!1,onChange:a,disabled:c=!1,name:u,value:d,form:p,...h}=e,g=f.useContext(yu),v=f.useRef(null),b=Se(v,t,g===null?null:g.setSwitch),[y,m]=aa(s,a,i),x=q(()=>m==null?void 0:m(!y)),w=q(A=>{if(ir(A.currentTarget))return A.preventDefault();A.preventDefault(),x()}),S=q(A=>{A.key===ue.Space?(A.preventDefault(),x()):A.key===ue.Enter&&_h(A.currentTarget)}),C=q(A=>A.preventDefault()),j=f.useMemo(()=>({checked:y}),[y]),E={id:o,ref:b,role:"switch",type:Io(e,v),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":y,"aria-labelledby":g==null?void 0:g.labelledby,"aria-describedby":g==null?void 0:g.describedby,disabled:c,onClick:w,onKeyUp:S,onKeyPress:C},O=en();return f.useEffect(()=>{var A;let _=(A=v.current)==null?void 0:A.closest("form");_&&i!==void 0&&O.addEventListener(_,"reset",()=>{m(i)})},[v,m]),f.createElement(f.Fragment,null,u!=null&&y&&f.createElement(Ft,{features:zt.Hidden,...Vo({as:"input",type:"checkbox",hidden:!0,readOnly:!0,disabled:c,form:p,checked:y,name:u,value:d})}),xe({ourProps:E,theirProps:h,slot:j,defaultTag:_C,name:"Switch"}))}let PC=we(OC),TC=EC,xu=Object.assign(PC,{Group:TC,Label:Gh,Description:ru});function AC({onFocus:e}){let[t,n]=f.useState(!0),r=Bo();return t?f.createElement(Ft,{as:"button",type:"button",features:zt.Focusable,onFocus:o=>{o.preventDefault();let s,i=50;function a(){if(i--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(a)}s=requestAnimationFrame(a)}}):null}const Zh=ke.createContext(null);function MC(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let o=(n=r.get(t))!=null?n:0;r.set(t,o+1);let s=Array.from(r.keys()).indexOf(t);function i(){let a=r.get(t);a>1?r.set(t,a-1):r.delete(t)}return[s,i]}}}function kC({children:e}){let t=ke.useRef(MC());return ke.createElement(Zh.Provider,{value:t},e)}function Jh(e){let t=ke.useContext(Zh);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=LC(),[r,o]=t.current.get(e,n);return ke.useEffect(()=>o,[]),r}function LC(){var e,t,n;let r=(n=(t=(e=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:e.ReactCurrentOwner)==null?void 0:t.current)!=null?n:null;if(!r)return Symbol();let o=[],s=r;for(;s;)o.push(s.index),s=s.return;return"$."+o.join(".")}var NC=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(NC||{}),$C=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($C||{}),DC=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(DC||{});let IC={0(e,t){var n;let r=or(e.tabs,d=>d.current),o=or(e.panels,d=>d.current),s=r.filter(d=>{var p;return!((p=d.current)!=null&&p.hasAttribute("disabled"))}),i={...e,tabs:r,panels:o};if(t.index<0||t.index>r.length-1){let d=ge(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>ge(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return i;let p=ge(d,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...i,selectedIndex:p===-1?e.selectedIndex:p}}let a=r.slice(0,t.index),c=[...r.slice(t.index),...a].find(d=>s.includes(d));if(!c)return i;let u=(n=r.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...i,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=or([...e.tabs,t.tab],s=>s.current),o=e.selectedIndex;return e.info.current.isControlled||(o=r.indexOf(n),o===-1&&(o=e.selectedIndex)),{...e,tabs:r,selectedIndex:o}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:or([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},wu=f.createContext(null);wu.displayName="TabsDataContext";function zo(e){let t=f.useContext(wu);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,zo),n}return t}let Su=f.createContext(null);Su.displayName="TabsActionsContext";function ju(e){let t=f.useContext(Su);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ju),n}return t}function VC(e,t){return ge(t.type,IC,e,t)}let HC=f.Fragment;function BC(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:o=!1,onChange:s,selectedIndex:i=null,...a}=e;const c=r?"vertical":"horizontal",u=o?"manual":"auto";let d=i!==null,p=it({isControlled:d}),h=Se(t),[g,v]=f.useReducer(VC,{info:p,selectedIndex:i??n,tabs:[],panels:[]}),b=f.useMemo(()=>({selectedIndex:g.selectedIndex}),[g.selectedIndex]),y=it(s||(()=>{})),m=it(g.tabs),x=f.useMemo(()=>({orientation:c,activation:u,...g}),[c,u,g]),w=q(A=>(v({type:1,tab:A}),()=>v({type:2,tab:A}))),S=q(A=>(v({type:3,panel:A}),()=>v({type:4,panel:A}))),C=q(A=>{j.current!==A&&y.current(A),d||v({type:0,index:A})}),j=it(d?e.selectedIndex:g.selectedIndex),E=f.useMemo(()=>({registerTab:w,registerPanel:S,change:C}),[]);Ce(()=>{v({type:0,index:i??n})},[i]),Ce(()=>{if(j.current===void 0||g.tabs.length<=0)return;let A=or(g.tabs,_=>_.current);A.some((_,T)=>g.tabs[T]!==_)&&C(A.indexOf(g.tabs[j.current]))});let O={ref:h};return f.createElement(kC,null,f.createElement(Su.Provider,{value:E},f.createElement(wu.Provider,{value:x},x.tabs.length<=0&&f.createElement(AC,{onFocus:()=>{var A,_;for(let T of m.current)if(((A=T.current)==null?void 0:A.tabIndex)===0)return(_=T.current)==null||_.focus(),!0;return!1}}),xe({ourProps:O,theirProps:a,slot:b,defaultTag:HC,name:"Tabs"}))))}let zC="div";function FC(e,t){let{orientation:n,selectedIndex:r}=zo("Tab.List"),o=Se(t);return xe({ourProps:{ref:o,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:zC,name:"Tabs.List"})}let RC="button";function UC(e,t){var n,r;let o=Fe(),{id:s=`headlessui-tabs-tab-${o}`,...i}=e,{orientation:a,activation:c,selectedIndex:u,tabs:d,panels:p}=zo("Tab"),h=ju("Tab"),g=zo("Tab"),v=f.useRef(null),b=Se(v,t);Ce(()=>h.registerTab(v),[h,v]);let y=Jh("tabs"),m=d.indexOf(v);m===-1&&(m=y);let x=m===u,w=q(_=>{var T;let N=_();if(N===wn.Success&&c==="auto"){let B=(T=Cr(v))==null?void 0:T.activeElement,$=g.tabs.findIndex(M=>M.current===B);$!==-1&&h.change($)}return N}),S=q(_=>{let T=d.map(N=>N.current).filter(Boolean);if(_.key===ue.Space||_.key===ue.Enter){_.preventDefault(),_.stopPropagation(),h.change(m);return}switch(_.key){case ue.Home:case ue.PageUp:return _.preventDefault(),_.stopPropagation(),w(()=>at(T,Re.First));case ue.End:case ue.PageDown:return _.preventDefault(),_.stopPropagation(),w(()=>at(T,Re.Last))}if(w(()=>ge(a,{vertical(){return _.key===ue.ArrowUp?at(T,Re.Previous|Re.WrapAround):_.key===ue.ArrowDown?at(T,Re.Next|Re.WrapAround):wn.Error},horizontal(){return _.key===ue.ArrowLeft?at(T,Re.Previous|Re.WrapAround):_.key===ue.ArrowRight?at(T,Re.Next|Re.WrapAround):wn.Error}}))===wn.Success)return _.preventDefault()}),C=f.useRef(!1),j=q(()=>{var _;C.current||(C.current=!0,(_=v.current)==null||_.focus({preventScroll:!0}),h.change(m),Ps(()=>{C.current=!1}))}),E=q(_=>{_.preventDefault()}),O=f.useMemo(()=>{var _;return{selected:x,disabled:(_=e.disabled)!=null?_:!1}},[x,e.disabled]),A={ref:b,onKeyDown:S,onMouseDown:E,onClick:j,id:s,role:"tab",type:Io(e,v),"aria-controls":(r=(n=p[m])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":x,tabIndex:x?0:-1};return xe({ourProps:A,theirProps:i,slot:O,defaultTag:RC,name:"Tabs.Tab"})}let WC="div";function GC(e,t){let{selectedIndex:n}=zo("Tab.Panels"),r=Se(t),o=f.useMemo(()=>({selectedIndex:n}),[n]);return xe({ourProps:{ref:r},theirProps:e,slot:o,defaultTag:WC,name:"Tabs.Panels"})}let KC="div",qC=wt.RenderStrategy|wt.Static;function YC(e,t){var n,r,o,s;let i=Fe(),{id:a=`headlessui-tabs-panel-${i}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:p,panels:h}=zo("Tab.Panel"),g=ju("Tab.Panel"),v=f.useRef(null),b=Se(v,t);Ce(()=>g.registerPanel(v),[g,v,a]);let y=Jh("panels"),m=h.indexOf(v);m===-1&&(m=y);let x=m===d,w=f.useMemo(()=>({selected:x}),[x]),S={ref:b,id:a,role:"tabpanel","aria-labelledby":(r=(n=p[m])==null?void 0:n.current)==null?void 0:r.id,tabIndex:x?c:-1};return!x&&((o=u.unmount)==null||o)&&!((s=u.static)!=null&&s)?f.createElement(Ft,{as:"span","aria-hidden":"true",...S}):xe({ourProps:S,theirProps:u,slot:w,defaultTag:KC,features:qC,visible:x,name:"Tabs.Panel"})}let XC=we(UC),ZC=we(BC),JC=we(FC),QC=we(GC),eE=we(YC),Bs=Object.assign(XC,{Group:ZC,List:JC,Panels:QC,Panel:eE});function tE(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function Cu(e,...t){e&&t.length>0&&e.classList.add(...t)}function Eu(e,...t){e&&t.length>0&&e.classList.remove(...t)}function nE(e,t){let n=Qt();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[s,i]=[r,o].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,p)=>p-d);return u}),a=s+i;if(a!==0){n.group(u=>{u.setTimeout(()=>{t(),u.dispose()},a),u.addEventListener(e,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=n.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return n.add(()=>t()),n.dispose}function rE(e,t,n,r){let o=n?"enter":"leave",s=Qt(),i=r!==void 0?tE(r):()=>{};o==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let a=ge(o,{enter:()=>t.enter,leave:()=>t.leave}),c=ge(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=ge(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return Eu(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),Cu(e,...t.base,...a,...u),s.nextFrame(()=>{Eu(e,...t.base,...a,...u),Cu(e,...t.base,...a,...c),nE(e,()=>(Eu(e,...t.base,...a),Cu(e,...t.base,...t.entered),i()))}),s.dispose}function oE({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:s}){let i=Bo(),a=en(),c=it(n);Ce(()=>{e&&(c.current="enter")},[e]),Ce(()=>{let u=Qt();a.add(u.dispose);let d=t.current;if(d&&c.current!=="idle"&&i.current)return u.dispose(),o.current(c.current),u.add(rE(d,r.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[n])}function Or(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let ya=f.createContext(null);ya.displayName="TransitionContext";var sE=(e=>(e.Visible="visible",e.Hidden="hidden",e))(sE||{});function iE(){let e=f.useContext(ya);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function aE(){let e=f.useContext(xa);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let xa=f.createContext(null);xa.displayName="NestingContext";function wa(e){return"children"in e?wa(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Qh(e,t){let n=it(e),r=f.useRef([]),o=Bo(),s=en(),i=q((g,v=Er.Hidden)=>{let b=r.current.findIndex(({el:y})=>y===g);b!==-1&&(ge(v,{[Er.Unmount](){r.current.splice(b,1)},[Er.Hidden](){r.current[b].state="hidden"}}),s.microTask(()=>{var y;!wa(r)&&o.current&&((y=n.current)==null||y.call(n))}))}),a=q(g=>{let v=r.current.find(({el:b})=>b===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>i(g,Er.Unmount)}),c=f.useRef([]),u=f.useRef(Promise.resolve()),d=f.useRef({enter:[],leave:[],idle:[]}),p=q((g,v,b)=>{c.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([y])=>y!==g)),t==null||t.chains.current[v].push([g,new Promise(y=>{c.current.push(y)})]),t==null||t.chains.current[v].push([g,new Promise(y=>{Promise.all(d.current[v].map(([m,x])=>x)).then(()=>y())})]),v==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>b(v)):b(v)}),h=q((g,v,b)=>{Promise.all(d.current[v].splice(0).map(([y,m])=>m)).then(()=>{var y;(y=c.current.shift())==null||y()}).then(()=>b(v))});return f.useMemo(()=>({children:r,register:a,unregister:i,onStart:p,onStop:h,wait:u,chains:d}),[a,i,r,p,h,d,u])}function lE(){}let cE=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function eg(e){var t;let n={};for(let r of cE)n[r]=(t=e[r])!=null?t:lE;return n}function uE(e){let t=f.useRef(eg(e));return f.useEffect(()=>{t.current=eg(e)},[e]),t}let dE="div",tg=wt.RenderStrategy;function fE(e,t){var n,r;let{beforeEnter:o,afterEnter:s,beforeLeave:i,afterLeave:a,enter:c,enterFrom:u,enterTo:d,entered:p,leave:h,leaveFrom:g,leaveTo:v,...b}=e,y=f.useRef(null),m=Se(y,t),x=(n=b.unmount)==null||n?Er.Unmount:Er.Hidden,{show:w,appear:S,initial:C}=iE(),[j,E]=f.useState(w?"visible":"hidden"),O=aE(),{register:A,unregister:_}=O;f.useEffect(()=>A(y),[A,y]),f.useEffect(()=>{if(x===Er.Hidden&&y.current){if(w&&j!=="visible"){E("visible");return}return ge(j,{hidden:()=>_(y),visible:()=>A(y)})}},[j,y,A,_,w,x]);let T=it({base:Or(b.className),enter:Or(c),enterFrom:Or(u),enterTo:Or(d),entered:Or(p),leave:Or(h),leaveFrom:Or(g),leaveTo:Or(v)}),N=uE({beforeEnter:o,afterEnter:s,beforeLeave:i,afterLeave:a}),B=Do();f.useEffect(()=>{if(B&&j==="visible"&&y.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[y,j,B]);let $=C&&!S,M=S&&w&&C,L=(()=>!B||$?"idle":w?"enter":"leave")(),F=Kh(0),R=q(X=>ge(X,{enter:()=>{F.addFlag(Be.Opening),N.current.beforeEnter()},leave:()=>{F.addFlag(Be.Closing),N.current.beforeLeave()},idle:()=>{}})),I=q(X=>ge(X,{enter:()=>{F.removeFlag(Be.Opening),N.current.afterEnter()},leave:()=>{F.removeFlag(Be.Closing),N.current.afterLeave()},idle:()=>{}})),z=Qh(()=>{E("hidden"),_(y)},O),U=f.useRef(!1);oE({immediate:M,container:y,classes:T,direction:L,onStart:it(X=>{U.current=!0,z.onStart(y,X,R)}),onStop:it(X=>{U.current=!1,z.onStop(y,X,I),X==="leave"&&!wa(z)&&(E("hidden"),_(y))})});let K=b,ee={ref:m};return M?K={...K,className:fa(b.className,...T.current.enter,...T.current.enterFrom)}:U.current&&(K.className=fa(b.className,(r=y.current)==null?void 0:r.className),K.className===""&&delete K.className),f.createElement(xa.Provider,{value:z},f.createElement(As,{value:ge(j,{visible:Be.Open,hidden:Be.Closed})|F.flags},xe({ourProps:ee,theirProps:K,defaultTag:dE,features:tg,visible:j==="visible",name:"Transition.Child"})))}function pE(e,t){let{show:n,appear:r=!1,unmount:o=!0,...s}=e,i=f.useRef(null),a=Se(i,t);Do();let c=_r();if(n===void 0&&c!==null&&(n=(c&Be.Open)===Be.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=f.useState(n?"visible":"hidden"),p=Qh(()=>{d("hidden")}),[h,g]=f.useState(!0),v=f.useRef([n]);Ce(()=>{h!==!1&&v.current[v.current.length-1]!==n&&(v.current.push(n),g(!1))},[v,n]);let b=f.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);f.useEffect(()=>{if(n)d("visible");else if(!wa(p))d("hidden");else{let w=i.current;if(!w)return;let S=w.getBoundingClientRect();S.x===0&&S.y===0&&S.width===0&&S.height===0&&d("hidden")}},[n,p]);let y={unmount:o},m=q(()=>{var w;h&&g(!1),(w=e.beforeEnter)==null||w.call(e)}),x=q(()=>{var w;h&&g(!1),(w=e.beforeLeave)==null||w.call(e)});return f.createElement(xa.Provider,{value:p},f.createElement(ya.Provider,{value:b},xe({ourProps:{...y,as:f.Fragment,children:f.createElement(ng,{ref:a,...y,...s,beforeEnter:m,beforeLeave:x})},theirProps:{},defaultTag:f.Fragment,features:tg,visible:u==="visible",name:"Transition"})))}function hE(e,t){let n=f.useContext(ya)!==null,r=_r()!==null;return f.createElement(f.Fragment,null,!n&&r?f.createElement(_u,{ref:t,...e}):f.createElement(ng,{ref:t,...e}))}let _u=we(pE),ng=we(fE),gE=we(hE),In=Object.assign(_u,{Child:gE,Root:_u});const zs=e=>typeof e<"u";var Ze=(e=>(e.web="web",e.email="email",e))(Ze||{});const Ut=f.forwardRef(function({children:t,title:n,onClose:r,icon:o,shadow:s=!0,padding:i=!0,border:a=!0,round:c=!0,className:u,classNameBody:d,size:p="m",titleClass:h=P("gs-utl-mb-2 gs-utl-mt-0.5"),style:g,bg:v,...b},y){return l.jsxs("div",{...b,ref:y,style:g,className:P([u,v||$c.bg,J.b,c&&J.rnd,a?V.br:J.bT,"gs-utl-card gs-utl-overflow-auto",s&&"gs-utl-shadow-md",i&&p==="l"&&"gs-utl-p-5",i&&p==="m"&&"gs-utl-px-4 gs-utl-py-2",i&&p==="s"&&"gs-utl-px-2 gs-utl-py-1",i&&p==="xs"&&"gs-utl-px-2 gs-utl-py-0.5",i&&p==="x2s"&&"gs-utl-px-0.5"]),children:[(n||r)&&n!==!1&&l.jsxs(D,{className:P("gs-utl-card-title",h),items:"center",children:[l.jsx(k,{className:P("truncate"),grow:!0,children:n}),(r||o)&&l.jsx(k,{onClick:r,className:P("cursor-pointer transition-opacity opacity-50 hover:gs-utl-opacity-100"),children:l.jsx(Z,{icon:o||Y.close,size:"18px"})})]}),l.jsx("div",{className:P("gs-utl-card-body",d),children:t})]})});function mE(){const e=window.pageXOffset||document.documentElement.scrollLeft,t=window.pageYOffset||document.documentElement.scrollTop;return{x:e,y:t}}function Ou(){const{x:e,y:t}=mE();return{left:e,right:e+window.innerWidth,top:t,bottom:t+window.innerHeight}}function vE(e){const t=e.getBoundingClientRect(),n=Ou();return{left:t.left+n.left,right:t.right+n.left,top:t.top+n.top,bottom:t.bottom+n.top,witdh:t.width,height:t.height}}function bE(e){return{width:e.offsetWidth,height:e.offsetHeight}}function yE(e,t,n,r={}){var p,h;const o=Ou(),s={top:0,left:0},i=5,a=((p=r==null?void 0:r.offset)==null?void 0:p.x)??i,c=((h=r==null?void 0:r.offset)==null?void 0:h.y)??i,u=t.right-t.left,d=t.bottom-t.top;if(e.y==="bottom")s.top=t.bottom+c;else if(e.y==="top-bottom")s.top=t.top+c;else if(e.y==="center"){const g=t.top+d/2;s.top=g-n.height/2}else s.top=t.top-n.height-c;if(e.x==="left")s.left=t.right-n.width-a;else if(e.x==="left-edge")s.left=t.right-n.width-u-a;else if(e.x==="center"){const g=t.left+u/2;s.left=g-n.width/2}else s.left=t.right+a;return s.left+n.width>o.right&&(s.left=o.right-n.width-a),s.left<o.left&&(s.left=o.left),s.top+n.height>o.bottom&&(s.top=o.bottom-n.height-c),s.top<o.top&&(s.top=o.top),s}function rg(e,t,n={}){var a;const r=Ou(),o=vE(e),s=bE(t),i={x:o.right+s.width>=r.right?"left":"right",y:o.bottom+s.height>=r.bottom?"top":"bottom",...n.position||{}};return(i.x==="left"&&o.right+s.width/2<=r.right||i.x==="right"&&o.right-s.width/2>=0)&&((a=n==null?void 0:n.position)!=null&&a.x||(i.x="center")),yE(i,o,s,n)}function lt({className:e,classNameWrp:t,children:n,title:r,onClick:o,inline:s,size:i}){const a=f.useRef(null),c=f.useRef(null),[u,d]=f.useState(!1),[p,h]=f.useState({top:0,left:0}),g=zs(i);return f.useEffect(()=>{const v=a.current,b=c.current;if(v&&b&&u){const y=()=>h(rg(v,b));return setTimeout(y),window.addEventListener("scroll",y,!0),()=>window.removeEventListener("scroll",y,!0)}},[a,c,u]),l.jsxs(Hs,{className:P("gjs-tooltip relative",t),children:[l.jsx("span",{ref:a,className:P(!s&&"block",e,!o&&"cursor-auto"),onMouseEnter:()=>r&&d(!0),onMouseLeave:()=>d(!1),children:l.jsx("div",{className:P(s&&"inline-block"),onClick:()=>{d(!1),o==null||o()},children:n})}),l.jsx(In,{as:f.Fragment,show:u,unmount:!1,...Nc,children:l.jsx(Hs.Panel,{className:P("fixed z-30 text-sm",!g&&"whitespace-nowrap",i==="s"&&"w-60"),style:p,static:!0,children:l.jsx(Ut,{ref:c,className:P(lh.txt),bg:lh.bg,size:"s",border:!1,children:r})})})]})}function Ct({children:e,title:t,classNameWrp:n,...r}){return l.jsx(lt,{title:t,classNameWrp:n,children:l.jsx(ze,{...r,children:e})})}var ao=(e=>(e.Info="info",e.Error="error",e.Success="success",e.Warning="warning",e))(ao||{});const xE={info:V.bgA,error:"bg-red-500",success:"bg-green-500",warning:"bg-orange-400"},wE=f.forwardRef(function(t,n){const r={info:Y.informationVariant,error:Y.fire,success:Y.checkBold,warning:Y.alertRhombus},{children:o,className:s,content:i,id:a,buttons:c=[],variant:u="info",autoHideTimeout:d=3e3}=t,p=f.useRef(null),h=f.useRef(),g=r[u],v=xE[u];f.useImperativeHandle(n,()=>p.current,[]);const b=()=>{var w;return(w=t.onDismiss)==null?void 0:w.call(t,a)},y=()=>{d&&(h.current=setTimeout(b,d))},m=()=>h.current&&clearTimeout(h.current);f.useEffect(()=>(y(),m),[]);const x=i||o;return l.jsx(Ut,{className:H(s,"overflow-hidden relative"),ref:p,onPointerEnter:m,onPointerLeave:y,children:l.jsxs(D,{space:"m",items:"center",className:H(_e.y),children:[l.jsx(k,{className:H(v,J.pill,"text-white gjs-p-1"),children:l.jsx(Z,{icon:g,size:ie.s})}),l.jsx(k,{grow:!0,className:H("gjs-pr-3"),children:l.jsxs(D,{col:!0,space:"xs",children:[l.jsx(k,{className:H("text-lg font-medium leading-6"),children:t.header}),x&&l.jsx(k,{className:H(V.txtLowEmphasis),children:x}),!!c.length&&l.jsx(D,{space:"m",justify:"end",children:c.map(({id:w,...S})=>l.jsx(ze,{...S},w))})]})}),l.jsx(k,{className:H("absolute top-1 right-1"),children:l.jsx(Ct,{onClick:b,border:!1,children:l.jsx(Z,{icon:Y.close,size:ie.s})})})]})})}),SE=le(f.forwardRef(function({className:t,toasts:n,onDismiss:r,...o},s){const i=Yy({});return l.jsx("div",{className:H(t,"w-80 gs-utl-z-30"),...o,ref:i,children:n.map(a=>l.jsx(wE,{...a,className:H("gjs-mb-2"),onDismiss:r},a.uuid||a.id))})}));var he=(e=>(e.toastAdd="studio:toastAdd",e.dialogOpen="studio:dialogOpen",e.dialogClose="studio:dialogClose",e.sidebarLeftSet="studio:sidebarLeft:set",e.sidebarLeftGet="studio:sidebarLeft:get",e.sidebarLeftToggle="studio:sidebarLeft:toggle",e.sidebarRightSet="studio:sidebarRight:set",e.sidebarRightGet="studio:sidebarRight:get",e.sidebarRightToggle="studio:sidebarRight:toggle",e.sidebarTopSet="studio:sidebarTop:set",e.sidebarTopGet="studio:sidebarTop:get",e.sidebarTopToggle="studio:sidebarTop:toggle",e.sidebarBottomSet="studio:sidebarBottom:set",e.sidebarBottomGet="studio:sidebarBottom:get",e.sidebarBottomToggle="studio:sidebarBottom:toggle",e.symbolAdd="studio:symbolAdd",e.symbolDetach="studio:symbolDetach",e.symbolOverride="studio:symbolOverride",e.symbolPropagateStyles="studio:propagateStyles",e.getPagesConfig="studio:getPagesConfig",e.setPagesConfig="studio:setPagesConfig",e.getPageSettings="studio:getPageSettings",e.setPageSettings="studio:setPageSettings",e.projectFiles="studio:projectFiles",e.canvasReload="studio:canvasReload",e.getBlocksPanel="studio:getBlocksPanel",e.setBlocksPanel="studio:setBlocksPanel",e.contextMenuComponent="studio:contextMenuComponent",e.layoutAdd="studio:layoutAdd",e.layoutRemove="studio:layoutRemove",e.layoutToggle="studio:layoutToggle",e))(he||{}),lo=(e=>(e.layoutToggleId="studio:layoutToggle:",e.toggleBlocksPanel="studio:toggleBlocksPanel",e))(lo||{}),tn=(e=>(e.componentOutline="componentOutline",e.preview="preview",e.fullscreen="fullscreen",e.showCode="showCode",e.showImportCode="showImportCode",e.clearCanvas="clearCanvas",e.store="store",e.undo="undo",e.redo="redo",e))(tn||{}),Pu=(e=>(e.self="self",e.cloud="cloud",e))(Pu||{}),Sa=(e=>(e.browser="browser",e.self="self",e.cloud="cloud",e))(Sa||{}),co=(e=>(e.left="left",e.right="right",e.top="top",e.bottom="bottom",e))(co||{}),uo=(e=>(e.popover="popover",e.absolute="absolute",e.static="static",e.dialog="dialog",e))(uo||{}),ar=(e=>(e.dark="dark",e.light="light",e.auto="auto",e))(ar||{}),og=(e=>(e.text="text",e.number="number",e.color="color",e.select="select",e.radio="radio",e))(og||{});class jE{constructor(t){this.isOpen=!1,this.store=t,yn(this,{},{autoBind:!0})}setOpen(t){this.isOpen=t,this.triggerEvent()}toggleOpen(){this.isOpen=!this.isOpen,this.triggerEvent()}triggerEvent(){var t;(t=this.store.appEditorStore.editor)==null||t.trigger(lo.toggleBlocksPanel,{isOpen:this.isOpen})}}const sg=()=>un().blockManagerStore;class CE{constructor(t){this.isOpen=!1,this.title="",this.content="",this.size="l",this.fullH=!1,this.modalProps={},this.buttons=[],this.store=t,yn(this,{},{autoBind:!0})}setModalProps(t){this.modalProps={title:"",size:"l",fullH:!1,buttons:[],...t}}open({content:t,...n}){this.isOpen=!0,this.content=t,this.setModalProps(n)}close(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.content="",this.setModalProps({size:this.modalProps.size})}confirm({content:t,size:n="m",onConfirm:r,confirmButton:o,...s}){this.isOpen=!0,this.content=t;const i=()=>{r==null||r(),this.close()};this.setModalProps({...s,size:n,buttons:[{children:"Cancel",onClick:this.close,size:"m2"},{children:"Confirm",onClick:i,size:"m2",variant:"pr",...o}]})}}const Sn=()=>un().modalStore,ig=(e,t)=>{let n;try{const r=tr()&&e&&localStorage.getItem(e);r&&(n=JSON.parse(r))}catch(r){console.error(r)}return{lastProjectId:"",...t,...n}},ag=(e,t)=>{const r={...ig(e),...t};try{tr()&&e&&localStorage.setItem(e,JSON.stringify(r))}catch(o){console.error(o)}return r},Tu="gs-utl-dark",EE=()=>tr()&&window.matchMedia("(prefers-color-scheme: dark)").matches,lg=e=>e==="dark"||e==="auto"&&EE(),cg=(e,t)=>{if(e&&tr()&&t.rootEl){const{classList:n}=t.rootEl;let r=!1;if(lg(e)?(n.add(Tu),r=!0):n.remove(Tu),t.updateAppShell){const o=document.head.querySelector('meta[name="theme-color"]');o&&(o.content=r?"#18181b":"#ffffff")}}};class _E{constructor(t){this.key="",this.theme=ar.auto,this.lastProjectId="",this.updateAppShell=!1,this.rootEl=void 0,t&&Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),yn(this,{},{autoBind:!0}),this.init()}init(){cg(this.theme,this)}changeTheme(t){cg(t,this),ag(this.key,{theme:t})}setTheme(t){this.theme=t}setRootEl(t){this.rootEl=t}setLocalState(t){Object.keys(t).forEach(n=>{const r=n,o=t[r];o!==void 0&&(this[r]=o)}),ag(this.key,t)}get isDarkTheme(){return lg(this.theme)}}const OE=e=>{fp(()=>e.theme,t=>{e.changeTheme(t)})},Wt=()=>un().localSettingsStore;class PE{constructor(t){this.store=t,yn(this,{},{autoBind:!0})}t(t,n={}){var o;const{editor:r}=this.store.appEditorStore;return((o=r==null?void 0:r.I18n)==null?void 0:o.t(t,n))||""}tScoped(t){return(n,r)=>this.t(`${t}.${n}`,r)}}const Te=()=>un().i18nStore;class TE{constructor(t){this.toasts=[],this.store=t,yn(this,{},{autoBind:!0})}add(t,n){this.toasts.push({id:t,...n})}addError(t,n){this.add(t,{...Bt(n)?{header:n}:n,variant:ao.Error})}addWarning(t,n){this.add(t,{...Bt(n)?{header:n}:n,variant:ao.Warning})}addSuccess(t,n){this.add(t,{...Bt(n)?{header:n}:n,variant:ao.Success})}addInfo(t,n){this.add(t,{...Bt(n)?{header:n}:n,variant:ao.Info})}remove(t){this.toasts=this.toasts.filter(n=>n.id!==t)}}const Au=()=>un().toastStore,AE={add:"Add",delete:"Delete",duplicate:"Duplicate",rename:"Rename",remove:"Remove",clear:"Clear",select:"Select",selectList:"Select from the list",search:"Search",update:"Update",updated:"Updated!",confirm:"Confirm",cancel:"Cancel",enable:"Enable",disable:"Disable",upload:"Upload",close:"Close",load:"Load",copy:"Copy",save:"Save",current:"Current",toggleCss:"Toggle CSS",selectTarget:"Target Component",noCode:"No code available",noItems:"No items found",confirmAction:"Do you confirm this action?",eyeDropper:"Eyedropper",noEyeDropper:"Eyedropper not supported",unauthorized:"Unauthorized project",notItemsFound:"No items found",actions:{componentOutline:{title:"Component outline"},preview:{title:"Preview"},fullscreen:{title:"Fullscreen"},showCode:{title:"Code",exportButton:"Export to ZIP"},undo:{title:"Undo"},redo:{title:"Redo"},save:{title:"Save project"},store:{title:"Save content"},open:{title:"Open project"},importCode:{title:"Import code",content:"Paste here your HTML/CSS and click Import",button:"Import"},clearCanvas:{title:"Clear page",content:"Are you sure you want to clear the page?"},about:{title:"About"},embed:{title:"Embed Studio"},newProject:{title:"Load project"},installApp:{title:"Install App",installed:"App installed"}},modals:{styleCatalog:{title:"Style Catalog",noStyles:"No styles found"},openProject:{title:"Open project"}},pluginManager:{plugins:"Plugins",all:"Available",installed:"Installed",install:"Install",uninstall:"Uninstall",allPlugins:"All plugins",updateStudio:"Restart Studio for plugin updates"},globalStyleManager:{notFound:"No global styles found"},pageManager:{pages:"Pages",page:"Page",newPage:"New Page",add:"Add page",rename:"Rename",duplicate:"Duplicate",copy:"Copy",delete:"Delete",deletePage:"Delete Page",confirmDelete:"Are you sure you want to delete the page?",settings:{label:"Settings",title:"Page settings",global:"Global settings",fields:{name:{label:"Name"},slug:{label:"Slug",description:"The slug is the URL-friendly version of the name. It is usually all lowercase and contains only letters, numbers, and hyphens."},favicon:{label:"Favicon",description:"The favicon is the small icon that appears in the browser tab."},title:{label:"Title",description:"The title is the name of the page that appears in the browser tab."},description:{label:"Description",description:"The description is a short summary of the page content."},keywords:{label:"Keywords",description:"Keywords are words or phrases that describe the content of the page."},socialTitle:{label:"Social title",description:"The title is the name of the page that appears on social networks."},socialImage:{label:"Social image",description:"The image is the picture that appears on social networks."},socialDescription:{label:"Social description",description:"The description is a short summary of the page content that appears on social networks."},customCodeHead:{label:"Custom HTML head",description:"Add any custom HTML (e.g., meta tags, stylesheets, scripts) to be included in the <head> section of the page."},customCodeBody:{label:"Custom HTML body",description:"Add any custom HTML (e.g., scripts, tracking codes) to be included just before the closing </body> tag."}}}},projectManager:{existentProjects:"Your projects",templates:"Templates",notAvailable:"No projects available",notFound:"No projects found",projectName:"Project name",pages:"Pages"},storageManager:{errorLoad:"Failed to load the project",errorStore:"Failed to save the project"},assetManager:{addUrl:"Add URL",projectAssets:"Assets in this project",userAssets:"Assets from all my projects",errorLoad:"Failed to load assets",errorUpload:"Failed to upload",errorDelete:"Failed to delete",deleteConfirmQuestion:"Delete asset?",deleteConfirmExplanation:"This will affect existing and published projects that rely on this asset, if any exist."},blockManager:{notFound:"No blocks found",blocks:"Blocks",add:"Add more blocks",labels:{section:"Section",column1:"1 Column",column2:"2 Columns",column3:"3 Columns","column3-7":"2 Columns 3/7",gridRow:"Grid",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"},categories:{},symbols:{notFound:"No symbols found",instancesProject:"Instance/s in the project",delete:"Delete symbol",deleteConfirm:"Are you sure you want to delete the symbol? All instances inside the project will be detached."}},domComponents:{names:{section:"Section",gridRow:"Row",gridColumn:"Column",heading:"Heading",divider:"Divider",imageBox:"Image Box",linkBox:"Link Box"}},traitManager:{empty:"Select a component to see its properties",panelLabel:"Properties",traits:{labels:{loading:"Lazy load",target:"Open in new tab",showList:"Show element list",customAttributes:"Custom Attributes"},attributes:{}}},deviceManager:{allDevices:"All devices"},selectorManager:{noSelecton:"You don't have any selected element.",selectFromCanvas:"Select an element from the canvas.",selectFromList:"Pick any style from the Style Catalog.",selectCustom:"Add your custom style selector.",selection:"Selection",selector:"Selector",addNewSelector:"Add new selector",removeSelector:"Remove selector",target:"Target",device:"Device",state:"State",deleteStyle:"Delete style",showCSS:"Show CSS code",searchStyle:"Search style",applyOnSelector:"Apply style changes on Selectors",noSelectors:"No Selectors applied",applyOnComponents:"Apply style changes on Components",noComponents:"No Components selected",currentSelection:"The current selection from which styles are displayed of"},layerManager:{layers:"Layers"},styleManager:{panelLabel:"Styles",layout:{flexChild:"Flex child",display:{tips:{block:"Block generates a block element box, generating line breaks both before and after the element when in the normal flow.",inline:"Inline generates one or more inline element boxes that do not generate line breaks. The inline is generally default for text content.","inline-block":"Inline-block is similar to inline but allows to define width and height properties.",flex:"Flex behaves like a block element and lays out its child elements on a vertical/horizontal axis",none:"The element is hidden from the layout"}},direction:{title:{row:"Horizontal","row-reverse":"Horizontal reversed",column:"Vertical","column-reverse":"Vertical reversed"}}},position:{tips:{static:"Default position",relative:"Similar to Static but with the ability to be moved relative to itself",absolute:"Absolute position, relative to its closest non-static parent",fixed:"Fixed position (even when the page is scrolled), relative to the browser viewport",sticky:"Elements are keept in place but moved when the page is scrolled, based on indicated distance"},presets:{title:"Presets",options:{topLeft:"Top left",topRight:"Top right",bottomLeft:"Bottom left",bottomRight:"Bottom right",left:"Left",right:"Right",bottom:"Bottom",top:"Top",full:"Full"}}},properties:{"margin-top":"Top","margin-right":"Right","margin-bottom":"Bottom","margin-left":"Left","padding-top":"Top","padding-right":"Right","padding-bottom":"Bottom","padding-left":"Left","border-top-left-radius":"Top Left","border-top-right-radius":"Top Right","border-bottom-right-radius":"Bottom Right","border-bottom-left-radius":"Bottom Left","mix-blend-mode":"Blend mode","transform-style":"Type","backface-visibility":"Backface","perspective-origin":"Perspective origin","perspective-origin-x":"Left","perspective-origin-y":"Top","transform-origin-x":"Left","transform-origin-y":"Top","align-items":"Align","align-self":"Align","justify-content":"Justify","row-gap":"Row","column-gap":"Column","font-family":"Font","font-size":"Size","font-weight":"Weight","letter-spacing":"Spacing","text-align":"Align","text-decoration":"Decoration","text-transform":"Transform","white-space":"Breaking","border-top-width":"Top","border-right-width":"Right","border-bottom-width":"Bottom","border-left-width":"Left","border-top-style":"Top","border-right-style":"Right","border-bottom-style":"Bottom","border-left-style":"Left","border-top-color":"Top","border-right-color":"Right","border-bottom-color":"Bottom","border-left-color":"Left","background-position":"Position","background-position-x":"Left","background-position-y":"Top","background-size":"Size","background-size-x":"Left","background-size-y":"Top","background-repeat":"Repeat","background-attachment":"Attachment","background-origin":"Origin","background-clip":"Clip","overflow-x":"X","overflow-y":"Y"},options:{"__background-type":{image:"Image",gradient:"Gradient",color:"Color"},display:{block:"Block",inline:"Inline","inline-block":"Inline block",flex:"Flex",none:"None"},overflow:{visible:"Visible",hidden:"Hidden",scroll:"Scroll",auto:"Auto"},"flex-wrap":{nowrap:"No wrap",wrap:"Wrap","wrap-reverse":"Reverse wrap"}}}},ug=e=>!!e.getSymbolOverride()?l.jsx(Z,{icon:Y.rhombusOutline,size:ie.s3x}):l.jsx(kc,{className:P("w-4 fill-current"),svg:e.getIcon()}),ME=e=>{e.getModel().set({changesCount:e.getDirtyCount()+1})},kE=e=>e&&e===e.em.Pages.getMain(),Ge={title:({cmp:e})=>e.tagName==="title",favicon:({cmp:e})=>{var t;return e.tagName==="link"&&((t=e.attributes.attributes)==null?void 0:t.rel)==="icon"},description:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="description"},keywords:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="keywords"},socialTitle:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:title"},socialImage:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:image"},socialDescription:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.property)==="og:description"},charset:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.charset)},viewport:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="viewport"},robots:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="robots"},generator:({cmp:e})=>{var t;return e.tagName==="meta"&&((t=e.attributes.attributes)==null?void 0:t.name)==="generator"}},dg=e=>{for(const t in Ge){const n=t;if(Ge[n]({cmp:e}))return n}},LE=(e,t)=>{const n={...t},{head:r}=e.getMainComponent();if(r){const o=[],s=r.components();s.forEach(a=>{Ge.title({cmp:a})?(a.components(t.title),delete n.title):Ge.favicon({cmp:a})?(a.addAttributes({href:t.favicon}),delete n.favicon):Ge.description({cmp:a})?(a.addAttributes({content:t.description}),delete n.description):Ge.keywords({cmp:a})?(a.addAttributes({content:t.keywords}),delete n.keywords):Ge.socialTitle({cmp:a})?(a.addAttributes({content:t.socialTitle}),delete n.socialTitle):Ge.socialDescription({cmp:a})?(a.addAttributes({content:t.socialDescription}),delete n.socialDescription):Ge.socialImage({cmp:a})?(a.addAttributes({content:t.socialImage}),delete n.socialImage):dg(a)||o.push(a)});const i=e.em.Parser.parseHtml(`<!DOCTYPE html><html><head>${t.customCodeHead}</head></html>`);i.head&&(s.remove(o),i.head.components&&s.add(i.head.components),delete n.customCodeHead)}return e.set("settings",n)},NE=e=>{const t={...e.get("settings")??{}},{head:n}=e.getMainComponent();if(n){const r=[];n.components().forEach(o=>{const{content:s,href:i}=o.getAttributes({noClass:!0,noStyle:!0});Ge.title({cmp:o})?t.title=o.getInnerHTML():Ge.favicon({cmp:o})?t.favicon=i:Ge.description({cmp:o})?t.description=s:Ge.keywords({cmp:o})?t.keywords=s:Ge.socialTitle({cmp:o})?t.socialTitle=s:Ge.socialDescription({cmp:o})?t.socialDescription=s:Ge.socialImage({cmp:o})?t.socialImage=s:dg(o)||r.push(o.toHTML())}),r.length&&(t.customCodeHead=r.join(`
`))}return t},fg=(e,t)=>{e.getModel().set("customData",{...pg(e),...t})},pg=e=>e.getModel().get("customData")??{},$E=e=>(e==null?void 0:e.projectDataCustom.globalPageSettings)??{},nn=e=>{const{page:t,key:n,appEditorStore:r,def:o="",defPage:s=""}=e;return(t?NE(t)[n]??s:$E(r)[n])??o},lr=(e,t)=>{const n=e.em.getEditor(),o=pg(n).globalPageSettings||{};return nn({page:e,key:t})||o[t]},hg=(e,t)=>{const n=(e==null?void 0:e.getName())??"",r={page:e,appEditorStore:t};return{name:n,slug:nn({...r,key:"slug",defPage:Pc(n)}),title:nn({...r,key:"title",defPage:n}),description:nn({...r,key:"description"}),favicon:nn({...r,key:"favicon"}),keywords:nn({...r,key:"keywords"}),socialTitle:nn({...r,key:"socialTitle",defPage:n}),socialImage:nn({...r,key:"socialImage"}),socialDescription:nn({...r,key:"socialDescription"}),customCodeHead:nn({...r,key:"customCodeHead"}),customCodeBody:nn({...r,key:"customCodeBody"})}},gg=(e,t)=>{var n;return(n=e.Styles.getSectors().find(r=>!!r.getProperty(t)))==null?void 0:n.getProperty(t)},DE=(e,t,n)=>{const r=gg(e,t);return r==null?void 0:r.getProperty(n)},Fs=e=>t=>(t.tagName||"").toLowerCase()===e,Pr=(...e)=>e.map(t=>`[data-gjs-type="${t}"]`).join(","),IE=(e,...t)=>{var n;return t.indexOf((n=e==null?void 0:e.tagName)==null?void 0:n.toUpperCase())>=0},Tr=(e,t)=>{var n;return(n=e==null?void 0:e.classList)==null?void 0:n.contains(t)},VE=(e,t)=>{var n;return!!((n=e==null?void 0:e.getAttribute)!=null&&n.call(e,t))},Rs=(e,t)=>{const n=e.Blocks.get(t);return n?n.collection.indexOf(n):-1},HE=e=>e.replace(/[^a-z0-9.]/gi,"_").toLowerCase(),mg=(e,t)=>{const{Pages:n}=e,r=nn({page:t,key:"slug"});return`${n.getMain()===t?"index":Pc(r||t.getName())}.html`},BE=(e,t)=>{const{toolbar:n}=e;n.some(o=>o.id===t.id)||(n.unshift(t),e.set("toolbar",[...n]))},zE="column1",FE="column2",RE="column3",vg="column3-7",UE=function(e,t={}){const{Components:n,Blocks:r}=e,o="gridRow",s="gridColumn",i="gjs-grid-row",a="gjs-grid-column",c={tl:0,tc:0,tr:0,cl:0,bl:0,br:0},u="flex-basis",d=1,p=1,h=1;n.addType(o,{isComponent:b=>Tr(b,i),model:{defaults:{emptyState:!0,droppable:Pr(s),highlightable:!1,attributes:{class:i},resizable:{...c,keyHeight:"min-height"},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M22 14c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2v-4c0-1.1.9-2 2-2h16c1.1 0 2 .9 2 2v4M4 14h4v-4H4v4m6 0h4v-4h-4v4m6 0h4v-4h-4v4z"></path>
            </svg>
          `,"stylable-require":["flex-align-items","flex-align-items-v","flex-direction-id","flex-multiline"],traits:["id","title",{name:"add-column",labelButton:"Add column",type:"button",full:!0,command:b=>{b.getSelected().components().add({type:s})}}],styles:`
            .${i} {
              display: flex;
              justify-content: flex-start;
              align-items: stretch;
              flex-direction: row;
              min-height: auto;
              padding: 10px 0;
            }
            @media (max-width: 992px) {
              .${i} {
                flex-direction: column;
              }
            }
          `}}}),n.addType(s,{isComponent:b=>Tr(b,a),model:{defaults:{emptyState:!0,attributes:{class:a},draggable:Pr(o),resizable:{...c,bc:0,keyWidth:u,currentUnit:h,minDim:d,step:p},icon:`
            <svg viewBox="0 0 24 24">
              <path d="M8 2h8c1.1 0 2 .9 2 2v16c0 1.1-.9 2-2 2H8c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2m0 8v4h8v-4H8m0 6v4h8v-4H8M8 4v4h8V4H8z"></path>
            </svg>
          `,unstylable:["width"],"stylable-require":["flex-basis","flex-item-behaviour","flex-item-h-align","flex-order"],traits:[{label:"Center content",name:"center-content",type:"checkbox",changeProp:!0}],styles:`
            .${a} {
              flex: 1 1 0%;
              padding: 5px 0;
            }
          `},init(){this.listenTo(this,"change:center-content",this.handleCenter)},handleCenter(){const b=this.get("center-content");this.addStyle({display:b?"flex":"block","align-items":b?"center":"","justify-content":b?"center":""})}}});const g={label:o,content:{type:o,components:[{type:s},{type:s},{type:s}]},...t.block},v={merge:!0};r.add(zE,{...g,content:{type:o,components:[{type:s}]}},v),r.add(FE,{...g,content:{type:o,components:[{type:s},{type:s}]}},v),r.add(RE,{...g,content:{type:o,components:[{type:s},{type:s},{type:s}]}},v),r.add(vg,{...g,content:{type:o,components:[{type:s,style:{"flex-basis":"30%","flex-grow":0}},{type:s}]}},v)},Us="section",Mu="container",ku="gjs-section",Lu="gjs-container",WE=function(e,t={}){const{Components:n,Blocks:r}=e;r.add(Us,{label:Us,media:`
        <svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
        </svg>
      `,content:{type:Us},...t.block},{at:Rs(e,vg)+1}),n.addType(Us,{isComponent:o=>Tr(o,ku),model:{defaults:{tagName:"section",emptyState:!0,draggable:Pr("wrapper"),droppable:Pr(Mu),attributes:{class:ku},components:{type:Mu},styles:`
            .${ku} {
              display: flex;
              padding: 50px 0;
            }
          `}}}),n.addType(Mu,{isComponent:o=>Tr(o,Lu),model:{defaults:{emptyState:!0,copyable:!1,removable:!1,draggable:!1,attributes:{class:Lu},styles:`
            .${Lu} {
              width: 90%;
              margin: 0 auto;
              max-width: 1200px;
            }
          `}}})},GE=function(e,t={}){const{Components:n,Blocks:r}=e,o="divider",s="gjs-divider";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
        </svg>
      `,content:{type:o},...t.block},{at:Rs(e,Us)+1}),n.addType(o,{isComponent:i=>Tr(i,s),model:{defaults:{droppable:!1,highlightable:!1,attributes:{class:s},stylable:["height","width","background-color","margin","margin-top","margin-right","margin-bottom","margin-left"],styles:`
            .${s} {
              height: 3px;
              width: 100%;
              margin: 10px;
              background-color: rgba(0, 0, 0, 0.05);
            }
          `}}})},bg="page://",KE=function(e){const{Components:t,Blocks:n}=e,o=t.getType("wrapper").model.getDefaults(),s=t.getType("head").model;t.addType("wrapper",{model:{defaults:{emptyState:{styleIn:"height: 100vh",styleOut:"padding: 0;"},stylable:[...o.stylable,"font-family"]}}}),t.addType("head",{model:{components(d,p){return s.prototype.components.call(this,d,{...p,skipDomReset:!0})}}}),t.addType("text",{model:{defaults:{highlightable:!1,emptyState:{styleIn:"min-height: auto; font-size: inherit;"}}}}),t.addType("image",{model:{defaults:{traits:["alt",{type:"checkbox",name:"loading",valueTrue:"lazy"}]}}});const i="gjs-link",c=t.getType("link").model;t.addType("link",{model:{defaults:{emptyState:!0,attributes:{class:i},traits:["title",{type:"checkbox",name:"target",valueTrue:"_blank"},{type:"href",name:"href"}],styles:`
            .${i} {
              vertical-align: top;
              max-width: 100%;
              display: inline-block;
              text-decoration: none;
              color: inherit;
            }
          `},getAttrToHTML(){const d=c.prototype.getAttrToHTML.apply(this),{href:p}=d;if(p&&p.indexOf(bg)===0){const h=p.replace(bg,""),g=e.Pages.get(h);d.href=g?`./${mg(e,g)}`:"##"}return d}}}),n.add("link",{label:"Link",content:{type:"link",content:"Link",style:{color:"#d983a6",padding:"10px"}}},{merge:!0}),t.addType("select",{model:{defaults:{traits:[{name:"name"},{type:"checkbox",name:"required"},{name:"options",type:"stack",getValue({component:d}){return d.components().map(p=>({id:p.getAttributes().value||"",label:p.getInnerHTML()}))},setValue:({component:d,value:p,emitUpdate:h})=>{d.components(p.map(g=>({type:"option",content:g.label,attributes:{value:g.id}}))),h()},properties:[{name:"id"},{name:"label"}]}]}}});const u="contentEditable";t.addType(u,{extend:"text",model:{defaults:{name:"Content",tagName:"span",hoverable:!1,selectable:!1},toHTML(d){return this.getInnerHTML(d)}}}),t.addType("button",{model:{defaults:{components:[{type:u,components:{type:"textnode",content:"Button"}}],traits:[{type:"select",name:"type",options:[{id:"button",label:"Button"},{id:"submit",label:"Submit"},{id:"reset",label:"Reset"}]}]},init(){var p;const d=[...this.components().models];(d.length>1||!((p=d[0])!=null&&p.is(u)))&&this.append({type:u})[0].append(d)}}})},qE=function(e,t={}){const{Components:n,Blocks:r}=e,o="heading",s="gjs-heading";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M8.3 11.5h7.4V6.9l-.2-1.6a1 1 0 00-.5-.5c-.3-.2-.7-.3-1-.3h-.6v-.4h6.8v.4h-.6c-.4 0-.7.1-1 .3a1 1 0 00-.6.6L18 6.9v10.3c0 .8 0 1.3.2 1.6 0 .2.2.3.4.5.4.2.7.3 1.1.3h.6v.4h-6.8v-.4h.5c.7 0 1.2-.2 1.5-.6.2-.3.3-.9.3-1.8v-4.9H8.3v4.9l.1 1.6.5.5c.3.2.7.3 1 .3h.7v.4H3.7v-.4h.6c.7 0 1.1-.2 1.4-.6.2-.3.3-.9.3-1.8V6.9L6 5.3a1 1 0 00-.5-.5l-1-.3h-.7v-.4h6.9v.4H10c-.4 0-.8.1-1 .3a1 1 0 00-.6.6l-.1 1.5v4.6z"></path>
        </svg>
      `,content:{type:o,components:"Insert your text here"},...t.block},{at:Rs(e,"text")}),n.addType(o,{extend:"text",isComponent:i=>IE(i,"H1","H2","H3","H4","H5","H6"),model:{defaults:{emptyState:!0,tagName:"h1",attributes:{class:s},styles:`
            .${s} {
              margin: 0;
            }
          `,traits:[{type:"select",options:[{value:"h1",name:"One (largest)"},{value:"h2",name:"Two"},{value:"h3",name:"Three"},{value:"h4",name:"Four"},{value:"h5",name:"Five"},{value:"h6",name:"Six (smallest)"}],label:"Size",name:"tagName",changeProp:!0}]}}})},YE=function(e,t={}){const{Components:n,Blocks:r}=e,o=e.Components.getType("default").model,s="imageBox",i="gjs-image-box";r.add(s,{label:s,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,19H5V5H19M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M13.96,12.29L11.21,15.83L9.25,13.47L6.5,17H17.5L13.96,12.29Z" />
        </svg>
      `,content:{type:s},...t.block},{at:Rs(e,"image")+1}),n.addType(s,{extend:"image",isComponent:a=>Tr(a,i),model:{defaults:{tagName:"div",void:!1,droppable:!0,emptyState:!1,resizable:{tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0},traits:["title"],attributes:{class:i},styles:`
            .${i} {
              height: 200px;
              width: 100%;
            }
          `},getAttrToHTML(...a){return o.prototype.getAttrToHTML.apply(this,a)}},view:{tagName:"div",updateSrc(){const{model:a,em:c}=this,u=a.getSrcResult(),d=a.isDefaultSrc(),p=a.getStyle(),h=`url('${u}')`;u&&a.addStyle({"background-image":d&&p["background-image"]||h,"background-size":p["background-size"]||"contain","background-position":p["background-position"]||"center center","background-attachment":p["background-attachment"]||"scroll","background-repeat":p["background-repeat"]||"no-repeat"}),u&&c.trigger("component:toggled"),this.$el[u?"removeClass":"addClass"](this.classEmpty)},onRender(){this.renderChildren(),this.updateSrc()}}})},XE=function(e,t={}){const{Components:n,Blocks:r}=e,o="linkBox",s="gjs-link-box";r.add(o,{label:o,media:`
        <svg viewBox="0 0 24 24">
          <path d="M19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M19,19H5V5H19V19M11,16H10C8.39,16 6,14.94 6,12C6,9.07 8.39,8 10,8H11V10H10C9.54,10 8,10.17 8,12C8,13.9 9.67,14 10,14H11V16M14,16H13V14H14C14.46,14 16,13.83 16,12C16,10.1 14.33,10 14,10H13V8H14C15.61,8 18,9.07 18,12C18,14.94 15.61,16 14,16M15,13H9V11H15V13Z" />
        </svg>
      `,content:{type:o},...t.block},{at:Rs(e,"link")+1}),n.addType(o,{isComponent:i=>Tr(i,s),extend:"link",model:{defaults:{editable:!1,droppable:!0,attributes:{class:s},styles:`
            .${s} {
              color: inherit;
              display: inline-block;
              vertical-align: top;
              padding: 10px;
              max-width: 100%;
              text-decoration: none;
            }
          `}}})},yg=e=>{const t=(e||"").split(" ");let n=t[0],r=t[0],o=t[0],s=t[0];return t.length===4?(n=t[0],r=t[1],o=t[2],s=t[3]):t.length===3?(n=t[0],r=t[1],s=t[1],o=t[2]):t.length===2&&(n=t[0],r=t[1],s=t[1],o=t[0]),[n,r,o,s]};function ZE(e){const t={};if(e.padding){const n=e.padding.split(" ");let r=n[0],o=n[0],s=n[0],i=n[0];n.length===4?(r=n[0],o=n[1],s=n[2],i=n[3]):n.length===3?(r=n[0],o=n[1],i=n[1],s=n[2]):n.length===2&&(r=n[0],o=n[1],i=n[1],s=n[0]),t["padding-top"]=e["padding-top"]||r,t["padding-right"]=e["padding-right"]||o,t["padding-bottom"]=e["padding-bottom"]||s,t["padding-left"]=e["padding-left"]||i,delete e.padding}return{...e,...t}}function Ws(e,t,n){let r,o,s,i,a;const c=t===void 0?100:t;function u(){const p=Date.now()-i;p<c&&p>=0?r=setTimeout(u,c-p):(r=null,n||(a=e.apply(s,o),s=o=null))}const d=function(){s=this,o=arguments,i=Date.now();const p=n&&!r;return r||(r=setTimeout(u,c)),p&&(a=e.apply(s,o),s=o=null),a};return d.clear=function(){r&&(clearTimeout(r),r=null)},d.flush=function(){r&&(a=e.apply(s,o),s=o=null,clearTimeout(r),r=null)},d}const JE={ratioDefault:!0,tc:!1,cl:!1,cr:!1,bc:!1},xg=`<svg viewBox="0 0 24 24">
  <path d="M16 9h3l-5 7m-4-7h4l-2 8M5 9h3l2 7m5-12h2l2 3h-3m-5-3h2l1 3h-4M7 4h2L8 7H5m1-5L2 8l10 14L22 8l-4-6H6z"></path>
</svg>`,QE=function(e,t={}){const{Components:n,Blocks:r}=e,o="icon",s="gjs-icon",i="data-type-icon";r.add(o,{label:o,media:xg,content:{type:o},...t.block}),n.addType(o,{isComponent:a=>Tr(a,s)||VE(a,i),model:{defaults:{droppable:!1,attributes:{class:s,[i]:!0},resizable:JE,components:xg,traits:["id","title",{type:"code",label:"Content",typeProps:{language:"html",clean:!0,padding:5},getValue({component:a}){return a.getInnerHTML()},setValue:Ws(({editor:a,component:c,value:u})=>{const d=a.Parser.parseHtml(u).html,p=Array.isArray(d)?d[0]:d;p&&p.tagName==="svg"&&c.components(p)},500)}],styles:`
            .${s} {
              display: inline-block;
              text-decoration: none;
              color: inherit;
              vertical-align: middle;
              fill: currentColor;
              width: 50px;
              height: 50px;
            }
          `},init(){this.listenTo(this.components(),"change add",this.disableLayers),this.disableLayers()},disableLayers(){this.components().forEach(a=>a.set("layerable",!1))}},view:{init(){const{model:a}=this;this.listenTo(a.components(),"change",this.disableChildren)},onRender(){this.disableChildren()},disableChildren(){this.model.components().forEach(a=>{var u;const c=(u=a.view)==null?void 0:u.el;c&&(c.style.pointerEvents="none")})}}})},Nu="__nc",e_=e=>{const t=e.getAttributes({noClass:!0,noStyle:!0});return e.traits.forEach(n=>{const r=n.getName();n.get("changeProp")||delete t[r]}),delete t.id,delete t.__p,t};function t_(e){const{Components:t}=e,n=r=>{const{model:o,id:s}=r,i=o.getDefaults();t.addType(s,{model:{defaults:{traits:[...i.traits,{name:"customAttributes",type:"stack",getValue({component:a}){const c=e_(a);return Object.keys(c).map(d=>({id:d,value:c[d]}))},setValue:({component:a,value:c,options:u,emitUpdate:d})=>{const p=u.removed,h=u.previous,g=u.item;if(p)a.removeAttributes(p.id);else{h&&g&&h.id!==g.id&&a.removeAttributes(h.id);const v=c.reduce((b,y)=>(b[y.id]=y.value||"",b),{});a.addAttributes(v)}d()},addItem:()=>({id:Nu,value:!1}),labelItem:a=>a.id===Nu||!a.id&&!a.value?"- Empty -":`${a.id||""}="${a.value||""}"`,properties:[{name:"id",label:"Name",getValue:a=>a===Nu?"":a,setValue:(a,c)=>a.trim().toLowerCase().replace(/^[^a-z]{1}/gi,"_").replace(/\s+/g,"-")||c},{name:"value",label:"Value",getValue:a=>typeof a=="boolean"?"":a}]}]}}})};t.getTypes().forEach(n)}const n_=function(e,t){e.on("change:readyLoad",()=>{const{appStore:n}=t,{Pages:r}=e,o=n.projectDataCustom,{globalPageSettings:s}=o;let i=(s==null?void 0:s.customCodeHead)||"";r.getAll().forEach(a=>{const c=a.getMainComponent().head.components(),u=[];c.forEach(d=>{d.get("global")&&u.push(d)}),u.forEach(d=>{i.includes(d.toHTML())||(i+=d.toHTML()),d.remove()})}),i&&n.setProjectDataCustom({globalPageSettings:{...s,customCodeHead:i}})})},r_="Basic";function o_(e,t){const{appStore:n}=t;e.Css.getConfig().onBeforeStyle=ZE;const r=e.Parser.getConfig().optionsHtml;r.htmlType="text/html";const o=n.sdkOptions.pages||{};(jr(o.allowDocuments)?o.allowDocuments:!0)&&(r.detectDocument=!0,r.allowScripts=!0),e.Components.addType("trait-check",{model:{defaults:{traits:["id","title",{type:"select",name:"select-type",options:[{id:"value1",label:"Value 1"},{id:"value2",label:"Value 2"},{id:"value3",label:"Value 3"}]},{type:"number",name:"number-type",units:["px","rem","%"]},{type:"checkbox",name:"checkbox-type"},{type:"color",name:"color-type"},{type:"button",name:"button-type",label:"Delete",command:"core:component-delete"}]}}});const i={category:r_,select:!0,activate:!0};n_(e,t),KE(e),UE(e,{block:i}),qE(e,{block:i}),WE(e,{block:i}),GE(e,{block:i}),YE(e,{block:i}),XE(e,{block:i}),QE(e,{block:i}),t_(e)}function s_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Sg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wg(Object(n),!0).forEach(function(r){s_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i_(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,s;for(s=0;s<r.length;s++)o=r[s],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function a_(e,t){if(e==null)return{};var n=i_(e,t),r,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)r=s[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l_(e,t){return c_(e)||u_(e,t)||d_(e,t)||f_()}function c_(e){if(Array.isArray(e))return e}function u_(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,o=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(r=(a=i.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,s=c}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return n}}function d_(e,t){if(e){if(typeof e=="string")return jg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jg(e,t)}}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cg(Object(n),!0).forEach(function(r){p_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,s){return s(o)},r)}}function Gs(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function ja(e){return{}.toString.call(e).includes("Object")}function g_(e){return!Object.keys(e).length}function Ks(e){return typeof e=="function"}function m_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v_(e,t){return ja(t)||Ar("changeType"),Object.keys(t).some(function(n){return!m_(e,n)})&&Ar("changeField"),t}function b_(e){Ks(e)||Ar("selectorType")}function y_(e){Ks(e)||ja(e)||Ar("handlerType"),ja(e)&&Object.values(e).some(function(t){return!Ks(t)})&&Ar("handlersType")}function x_(e){e||Ar("initialIsRequired"),ja(e)||Ar("initialType"),g_(e)&&Ar("initialContent")}function w_(e,t){throw new Error(e[t]||e.default)}var S_={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Ar=Gs(w_)(S_),Ca={changes:v_,selector:b_,handler:y_,initial:x_};function j_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ca.initial(e),Ca.handler(t);var n={current:e},r=Gs(__)(n,t),o=Gs(E_)(n),s=Gs(Ca.changes)(e),i=Gs(C_)(n);function a(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(d){return d};return Ca.selector(u),u(n.current)}function c(u){h_(r,o,s,i)(u)}return[a,c]}function C_(e,t){return Ks(t)?t(e.current):t}function E_(e,t){return e.current=Eg(Eg({},e.current),t),t}function __(e,t,n){return Ks(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var O_={create:j_},P_={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function T_(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return o.length>=e.length?e.apply(this,o):function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];return t.apply(n,[].concat(o,a))}}}function A_(e){return{}.toString.call(e).includes("Object")}function M_(e){return e||Og("configIsRequired"),A_(e)||Og("configType"),e.urls?(k_(),{paths:{vs:e.urls.monacoBase}}):e}function k_(){console.warn(_g.deprecation)}function L_(e,t){throw new Error(e[t]||e.default)}var _g={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Og=T_(L_)(_g),N_={config:M_},$_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(s,i){return i(s)},o)}};function Pg(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],Pg(e[n],t[n]))}),Sg(Sg({},e),t)}var D_={type:"cancelation",msg:"operation is manually canceled"};function $u(e){var t=!1,n=new Promise(function(r,o){e.then(function(s){return t?o(D_):r(s)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var I_=O_.create({config:P_,isInitialized:!1,resolve:null,reject:null,monaco:null}),Tg=l_(I_,2),qs=Tg[0],Ea=Tg[1];function V_(e){var t=N_.config(e),n=t.monaco,r=a_(t,["monaco"]);Ea(function(o){return{config:Pg(o.config,r),monaco:n}})}function H_(){var e=qs(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(Ea({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),$u(Du);if(window.monaco&&window.monaco.editor)return Ag(window.monaco),e.resolve(window.monaco),$u(Du);$_(B_,F_)(R_)}return $u(Du)}function B_(e){return document.body.appendChild(e)}function z_(e){var t=document.createElement("script");return e&&(t.src=e),t}function F_(e){var t=qs(function(r){var o=r.config,s=r.reject;return{config:o,reject:s}}),n=z_("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function R_(){var e=qs(function(n){var r=n.config,o=n.resolve,s=n.reject;return{config:r,resolve:o,reject:s}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){Ag(n),e.resolve(n)},function(n){e.reject(n)})}function Ag(e){qs().monaco||Ea({monaco:e})}function U_(){return qs(function(e){var t=e.monaco;return t})}var Du=new Promise(function(e,t){return Ea({resolve:e,reject:t})}),Mg={config:V_,init:H_,__getMonacoInstance:U_},W_={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Iu=W_,G_={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},K_=G_;function q_({children:e}){return f.createElement("div",{style:K_.container},e)}var Y_=q_,X_=Y_;function Z_({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:s,wrapperProps:i}){return f.createElement("section",{style:{...Iu.wrapper,width:e,height:t},...i},!n&&f.createElement(X_,null,r),f.createElement("div",{ref:o,style:{...Iu.fullWidth,...!n&&Iu.hide},className:s}))}var J_=Z_,kg=f.memo(J_);function Q_(e){f.useEffect(e,[])}var Lg=Q_;function eO(e,t,n=!0){let r=f.useRef(!0);f.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var Gt=eO;function Ys(){}function Fo(e,t,n,r){return tO(e,r)||nO(e,t,n,r)}function tO(e,t){return e.editor.getModel(Ng(e,t))}function nO(e,t,n,r){return e.editor.createModel(t,n,r?Ng(e,r):void 0)}function Ng(e,t){return e.Uri.parse(t)}function rO({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:s,modifiedModelPath:i,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:c=!1,theme:u="light",loading:d="Loading...",options:p={},height:h="100%",width:g="100%",className:v,wrapperProps:b={},beforeMount:y=Ys,onMount:m=Ys}){let[x,w]=f.useState(!1),[S,C]=f.useState(!0),j=f.useRef(null),E=f.useRef(null),O=f.useRef(null),A=f.useRef(m),_=f.useRef(y),T=f.useRef(!1);Lg(()=>{let M=Mg.init();return M.then(L=>(E.current=L)&&C(!1)).catch(L=>(L==null?void 0:L.type)!=="cancelation"&&console.error("Monaco initialization: error:",L)),()=>j.current?$():M.cancel()}),Gt(()=>{if(j.current&&E.current){let M=j.current.getOriginalEditor(),L=Fo(E.current,e||"",r||n||"text",s||"");L!==M.getModel()&&M.setModel(L)}},[s],x),Gt(()=>{if(j.current&&E.current){let M=j.current.getModifiedEditor(),L=Fo(E.current,t||"",o||n||"text",i||"");L!==M.getModel()&&M.setModel(L)}},[i],x),Gt(()=>{let M=j.current.getModifiedEditor();M.getOption(E.current.editor.EditorOption.readOnly)?M.setValue(t||""):t!==M.getValue()&&(M.executeEdits("",[{range:M.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),M.pushUndoStop())},[t],x),Gt(()=>{var M,L;(L=(M=j.current)==null?void 0:M.getModel())==null||L.original.setValue(e||"")},[e],x),Gt(()=>{let{original:M,modified:L}=j.current.getModel();E.current.editor.setModelLanguage(M,r||n||"text"),E.current.editor.setModelLanguage(L,o||n||"text")},[n,r,o],x),Gt(()=>{var M;(M=E.current)==null||M.editor.setTheme(u)},[u],x),Gt(()=>{var M;(M=j.current)==null||M.updateOptions(p)},[p],x);let N=f.useCallback(()=>{var F;if(!E.current)return;_.current(E.current);let M=Fo(E.current,e||"",r||n||"text",s||""),L=Fo(E.current,t||"",o||n||"text",i||"");(F=j.current)==null||F.setModel({original:M,modified:L})},[n,t,o,e,r,s,i]),B=f.useCallback(()=>{var M;!T.current&&O.current&&(j.current=E.current.editor.createDiffEditor(O.current,{automaticLayout:!0,...p}),N(),(M=E.current)==null||M.editor.setTheme(u),w(!0),T.current=!0)},[p,u,N]);f.useEffect(()=>{x&&A.current(j.current,E.current)},[x]),f.useEffect(()=>{!S&&!x&&B()},[S,x,B]);function $(){var L,F,R,I;let M=(L=j.current)==null?void 0:L.getModel();a||((F=M==null?void 0:M.original)==null||F.dispose()),c||((R=M==null?void 0:M.modified)==null||R.dispose()),(I=j.current)==null||I.dispose()}return f.createElement(kg,{width:g,height:h,isEditorReady:x,loading:d,_ref:O,className:v,wrapperProps:b})}var oO=rO;f.memo(oO);function sO(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var iO=sO,_a=new Map;function aO({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:s,theme:i="light",line:a,loading:c="Loading...",options:u={},overrideServices:d={},saveViewState:p=!0,keepCurrentModel:h=!1,width:g="100%",height:v="100%",className:b,wrapperProps:y={},beforeMount:m=Ys,onMount:x=Ys,onChange:w,onValidate:S=Ys}){let[C,j]=f.useState(!1),[E,O]=f.useState(!0),A=f.useRef(null),_=f.useRef(null),T=f.useRef(null),N=f.useRef(x),B=f.useRef(m),$=f.useRef(),M=f.useRef(r),L=iO(s),F=f.useRef(!1),R=f.useRef(!1);Lg(()=>{let U=Mg.init();return U.then(K=>(A.current=K)&&O(!1)).catch(K=>(K==null?void 0:K.type)!=="cancelation"&&console.error("Monaco initialization: error:",K)),()=>_.current?z():U.cancel()}),Gt(()=>{var K,ee,X,Q;let U=Fo(A.current,e||r||"",t||o||"",s||n||"");U!==((K=_.current)==null?void 0:K.getModel())&&(p&&_a.set(L,(ee=_.current)==null?void 0:ee.saveViewState()),(X=_.current)==null||X.setModel(U),p&&((Q=_.current)==null||Q.restoreViewState(_a.get(s))))},[s],C),Gt(()=>{var U;(U=_.current)==null||U.updateOptions(u)},[u],C),Gt(()=>{!_.current||r===void 0||(_.current.getOption(A.current.editor.EditorOption.readOnly)?_.current.setValue(r):r!==_.current.getValue()&&(R.current=!0,_.current.executeEdits("",[{range:_.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),_.current.pushUndoStop(),R.current=!1))},[r],C),Gt(()=>{var K,ee;let U=(K=_.current)==null?void 0:K.getModel();U&&o&&((ee=A.current)==null||ee.editor.setModelLanguage(U,o))},[o],C),Gt(()=>{var U;a!==void 0&&((U=_.current)==null||U.revealLine(a))},[a],C),Gt(()=>{var U;(U=A.current)==null||U.editor.setTheme(i)},[i],C);let I=f.useCallback(()=>{var U;if(!(!T.current||!A.current)&&!F.current){B.current(A.current);let K=s||n,ee=Fo(A.current,r||e||"",t||o||"",K||"");_.current=(U=A.current)==null?void 0:U.editor.create(T.current,{model:ee,automaticLayout:!0,...u},d),p&&_.current.restoreViewState(_a.get(K)),A.current.editor.setTheme(i),a!==void 0&&_.current.revealLine(a),j(!0),F.current=!0}},[e,t,n,r,o,s,u,d,p,i,a]);f.useEffect(()=>{C&&N.current(_.current,A.current)},[C]),f.useEffect(()=>{!E&&!C&&I()},[E,C,I]),M.current=r,f.useEffect(()=>{var U,K;C&&w&&((U=$.current)==null||U.dispose(),$.current=(K=_.current)==null?void 0:K.onDidChangeModelContent(ee=>{R.current||w(_.current.getValue(),ee)}))},[C,w]),f.useEffect(()=>{if(C){let U=A.current.editor.onDidChangeMarkers(K=>{var X;let ee=(X=_.current.getModel())==null?void 0:X.uri;if(ee&&K.find(Q=>Q.path===ee.path)){let Q=A.current.editor.getModelMarkers({resource:ee});S==null||S(Q)}});return()=>{U==null||U.dispose()}}return()=>{}},[C,S]);function z(){var U,K;(U=$.current)==null||U.dispose(),h?p&&_a.set(s,_.current.saveViewState()):(K=_.current.getModel())==null||K.dispose(),_.current.dispose()}return f.createElement(kg,{width:g,height:v,isEditorReady:C,loading:c,_ref:T,className:b,wrapperProps:y})}var lO=aO,cO=f.memo(lO),uO=cO;function vt({className:e,as:t="label",bold:n,m:r="gjs-mb-1",size:o="m",capitalize:s=!0,children:i,...a}){const c=t;return l.jsx(c,{className:P(e,r,"block",s&&"capitalize",n&&"font-semibold",o==="s"&&"text-sm"),...a,children:i})}const $g=e=>{var t;(t=e.getAction("editor.action.formatDocument"))==null||t.run()},dO="gs-field-code",fO={minimap:{enabled:!1},lineNumbers:"off",scrollBeyondLastLine:!1,contextmenu:!1,fixedOverflowWidgets:!0,showFoldingControls:"always",suggestOnTriggerCharacters:!1,lineDecorationsWidth:0,renderLineHighlight:"none",wordWrapOverride1:"off",tabSize:2,scrollbar:{verticalScrollbarSize:8,horizontal:"hidden",alwaysConsumeMouseWheel:!1}};function Mr({size:e,value:t,label:n,language:r,onChange:o,clean:s,padding:i,isDarkTheme:a,className:c,containerClassName:u,noMinHeight:d,onMount:p,readOnly:h,description:g}){const v=typeof t=="string"?t:JSON.stringify(t,null,2);return l.jsxs("div",{className:H(dO,"flex flex-col w-full h-full",u),children:[!!n&&l.jsx(vt,{children:n}),!!g&&l.jsx(vt,{as:"span",size:e,className:H(V.txtLowEmphasis),capitalize:!1,children:g}),l.jsx("div",{className:H("flex-grow","w-full","h-full",!d&&"gs-utl-min-h-48"),style:{position:"relative",width:"100%",height:"100%"},children:l.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},children:l.jsx(uO,{defaultLanguage:r,defaultValue:v,theme:a?"vs-dark":"light",className:H(J.b,J.rnd,V.br,c),options:{...fO,readOnly:h,...s&&{domReadOnly:!0,overviewRulerLanes:0,selectOnLineNumbers:!1,folding:!1,matchBrackets:"never",guides:{indentation:!1}},...jr(i)&&{lineDecorationsWidth:i*2,padding:{top:i,bottom:i}}},onChange:o,onMount:(b,y)=>{let m=!1;const x=()=>$g(b);b.onDidChangeModelLanguageConfiguration(x),b.onDidScrollChange(()=>{m||(m=!0,x())}),setTimeout(x,10),p==null||p(b,y)}})})})]})}const pO=e=>e.Assets.getAll().reduce((r,o)=>{const s=o.getSrc(),i=s.match(/^data:([^;]+);/);if(i){const a=s.split(",")[1],c=HE(o.get("name"));r[s]={mime:i[1],name:c,base64:a}}return r},{}),hO=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Dg=(e,t,n={})=>{let r=e;const o=n.pathPfx||"";for(const s in t)if(r.includes(s)){const i=t[s];r=r.replace(new RegExp(hO(s),"g"),`${o}${i.name}`),i.found=!0}return r},Oa=async(e,t={})=>{const{page:n,skipProject:r,assetsFolder:o="assets",filenameCss:s="style.css",styles:i}=t,a=[],c=n?[n]:e.Pages.getAll(),u=pO(e),d=`${o}/`,p=e.getCss({keepUnusedStyles:!0,component:n==null?void 0:n.getMainComponent()})||"",h=Dg(p,u,{pathPfx:d}),g=i==="inline",v=i==="skip",b=c.map(y=>{var ne,be,ye;const m=y.getName(),x=lr(y,"title")||m,w=lr(y,"favicon"),S=lr(y,"description"),C=lr(y,"keywords"),j=lr(y,"socialTitle"),E=lr(y,"socialDescription"),O=lr(y,"socialImage"),A=lr(y,"customCodeHead"),_=lr(y,"customCodeBody")||"",T=[],N=[],B=y.getMainComponent(),$=B.toHTML({asDocument:!1}).replace("</body>",`${_}</body>`),M=B.head;let L=x&&`<title>${x}</title>`,F=w&&`<link rel="icon" href="${w}"/>`,R=S&&`<meta name="description" content="${S}"/>`,I=C&&`<meta name="keywords" content="${C}"/>`,z=j&&`<meta property="og:title" content="${j}"/>`,U=E&&`<meta property="og:description" content="${E}"/>`,K=O&&`<meta property="og:image" content="${O}"/>`,ee='<meta charset="utf-8">',X='<meta name="viewport" content="width=device-width,initial-scale=1">',Q='<meta name="robots" content="index,follow">',ce='<meta name="generator" content="GrapesJS Studio">';M.components().forEach(Oe=>{const He=Oe.toHTML();Ge.title({cmp:Oe})?L=He:Ge.favicon({cmp:Oe})?F=He:Ge.description({cmp:Oe})?R=He:Ge.keywords({cmp:Oe})?I=He:Ge.socialTitle({cmp:Oe})?z=He:Ge.socialDescription({cmp:Oe})?U=He:Ge.socialImage({cmp:Oe})?K=He:Ge.charset({cmp:Oe})?ee=He:Ge.viewport({cmp:Oe})?X=He:Ge.robots({cmp:Oe})?Q=He:Ge.generator({cmp:Oe})&&(ce=He)}),L&&T.push(L),ee&&T.push(ee),X&&T.push(X),Q&&T.push(Q),ce&&T.push(ce),R&&T.push(R),I&&T.push(I),z&&T.push(z),U&&T.push(U),K&&T.push(K),F&&T.push(F),h&&!v&&T.push(g?`<style>${h}</style>`:`<link rel="stylesheet" href="./${s}">`),N.length&&T.push(...N),A&&T.push(A);const te=B.doctype||"<!DOCTYPE html>",G=(be=(ne=B.docEl).__attrToString)==null?void 0:be.call(ne),W=(ye=M.__attrToString)==null?void 0:ye.call(M),se=`${te}
<html${G?` ${G}`:""}>
  <head${W?` ${W}`:""}>
    ${T.join(`
  `)}
  </head>
  ${$}
</html>
`;return{filename:mg(e,y),content:Dg(se,u,{pathPfx:d}),mimeType:"text/html"}});a.push(...b);for(const y in u){const m=u[y];m.found&&a.push({path:o,filename:m.name,content:atob(m.base64),mimeType:m.mime})}return h&&!g&&!v&&a.push({filename:s,content:h,mimeType:"text/css"}),r||a.push({filename:"gjs-project.grapesjs",content:JSON.stringify(e.getProjectData()),mimeType:"application/json"}),a},Ig=le(function({buttonProps:t,content:n,code:r,onAction:o}){const s=Sn(),i=Te(),a=ve(),{isProjectTypeEmail:c}=a,u=a.editor,{isDarkTheme:d}=Wt(),[p,h]=f.useState(),g=()=>{const b=(p||"").trim();o?o(b):u.setComponents(b),s.close()};f.useEffect(()=>{r?h(r):(async()=>{if(c)h(u.getHtml());else{const m=(await Oa(u,{page:u.Pages.getSelected(),skipProject:!0,styles:"inline"})).find(x=>x.mimeType==="text/html");m&&h(m.content)}})()},[]);const v=(t==null?void 0:t.children)||i.t("actions.importCode.button");return l.jsxs(D,{col:!0,space:"m",children:[l.jsx(k,{children:n??i.t("actions.importCode.content")}),l.jsx(k,{className:P("h-96"),children:p!==void 0&&l.jsx(Mr,{value:p,onChange:b=>h(b||""),isDarkTheme:d,language:"html"})}),l.jsx(D,{justify:"end",children:l.jsx(ze,{size:"m2",variant:"pr",onClick:g,...t,children:v})})]})}),Vu="data-type-empty",Vg=(e,t)=>{e.Canvas.getFrames().forEach(n=>{const{view:r}=n,o=Array.from(r.getDoc().querySelectorAll(`style[${Vu}]`));for(const s of o)s.disabled=!t})},gO=(e,t,n="Empty",r={})=>{const o=`[${Vu}="${t}"]`,s=e.frameView.getHead(),{midSelector:i="",styleOut:a="",styleIn:c=""}=r;if(!s.querySelector(`style${o}`)){const u=document.createElement("style");u.setAttribute(Vu,t),u.innerHTML=`
    [data-gjs-type="${t}"]${i}:empty {
      text-decoration: none;
      padding: 5px;
      ${r.limitW?"min-width: 50px;":""}
      ${a}
    }
    [data-gjs-type="${t}"]${i}:empty:before {
      background-color: #ddd;
      color: #000;
      font-size: 16px;
      font-weight: bold;
      font-family: -apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", "Open Sans", Roboto, "Helvetica Neue", Helvetica, Arial, sans-serif;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 30px;
      padding: 0 10px;
      opacity: 0.3;
      border-radius: 3px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      content: "${n}";
      ${r.limitH?"height: auto;":""}
      ${r.smallH?"min-height: 30px;":""}
      ${c}
    }`,s.appendChild(u)}},Hg=(e,t)=>{const{model:n}=t,r=n.constructor.getDefaults(),o=r.emptyState,s=n.get("type");if(!o||r.void===!0||s!==e)return;const i=o===!0?{}:o;gO(t,s,n.getName({noCustom:!0}),i)},mO=function(t){const{Components:n}=t,r=o=>{const{id:s}=o;n.addType(s,{extendFnView:["onRender"],view:{onRender(){Hg(s,this)}}})};n.getTypes().forEach(r),t.on("component:type:add",r)};function vO(e){const{Components:t}=e,{modalStore:n,i18nStore:r}=ts(),o={id:"link",name:"href",label:"Link",placeholder:"Link to redirect on click"},s={name:"src",changeProp:!0,type:"image",label:"Image"},i={label:"Content",getValue:({component:h})=>h.getInnerHTML(),setValue:({component:h,value:g})=>h.components(g)},a=h=>{var v;const g=h.getChildrenContainer();((v=g==null?void 0:g.innerHTML)==null?void 0:v.trim())===""&&(g.innerHTML="")};t.addType("wrapper",{model:{defaults:{stylable:!1,delegate:{layer:h=>h.findType("mjml")[0]}}}}),t.addType("mjml",{model:{defaults:{name:"Root",toolbar:[]}}}),t.addType("mj-head",{model:{defaults:{name:"Head",copyable:!1,icon:`<svg viewBox="0 0 24 24">
          <path d="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z" />
        </svg>`}},view:{init(){this.listenTo(this.em,"run:core:preview",()=>{this.el.style.display="none"}),this.listenTo(this.em,"stop:core:preview",()=>{this.el.style.display=""})}}}),t.addType("mj-attributes",{isComponent:Fs("mj-attributes"),model:{defaults:{name:"Attributes",copyable:!1,stylable:!1,draggable:Pr("mj-head"),traits:[]}},view:{onRender(){this.el.style.display="none"}}}),t.addType("mj-class",{isComponent:Fs("mj-class"),model:{defaults:{name:"Class",stylable:!1,draggable:Pr("mj-head"),traits:[]}}}),t.addType("mj-all",{isComponent:Fs("mj-all"),model:{defaults:{name:"All",stylable:!1,draggable:Pr("mj-head"),traits:[]}}}),t.addType("mj-preview",{isComponent:Fs("mj-preview"),model:{defaults:{name:"Preview",copyable:!1,droppable:!1,stylable:!1,draggable:Pr("mj-head"),traits:[i],icon:`<svg viewBox="0 0 24 24">
          <path d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" />
        </svg>`}},view:{tagName:()=>"div",init(){const h=this.model.components();this.onRender=Ws(this.onRender,1),this.listenTo(h,"add remove reset change",this.onRender)},onRender(){const{model:h,el:g}=this,v=h.getName({noCustom:!0}),b=h.getInnerHTML();g.innerHTML=`<b>${v}</B>: ${b}`,g.style.padding="5px 10px",g.style.fontFamily="system-ui"}}}),t.addType("mj-title",{isComponent:Fs("mj-title"),extend:"mj-preview",model:{defaults:{name:"Title",icon:'<svg viewBox="0 0 24 24"><path d="M5,4V7H10.5V19H13.5V7H19V4H5Z" /></svg>'}}}),t.addType("mj-style",{model:{defaults:{name:"Style",droppable:!1,stylable:!1,traits:[]}}}),t.addType("mj-body",{model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path d="M6,2H18A2,2 0 0,1 20,4V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V4A2,2 0 0,1 6,2M6,8V16H18V8H6Z" />
        </svg>`,emptyState:{midSelector:">div",styleOut:"height: 100vh;"}}}}),t.addType("mj-section",{model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,emptyState:{midSelector:">div>div>table>tbody>tr>td"}}},extendFnView:["render"],view:{render(){return a(this),this}}}),t.addType("mj-column",{model:{defaults:{icon:`<svg viewBox="0 0 24 24" style="rotate: 90deg;">
          <path d="M2,3V6H21V3M20,8H3A1,1 0 0,0 2,9V15A1,1 0 0,0 3,16H20A1,1 0 0,0 21,15V9A1,1 0 0,0 20,8M2,21H21V18H2V21Z" />
        </svg>`,emptyState:{midSelector:">table",styleIn:"margin: 0 10px;"}}}}),t.addType("mj-text",{model:{defaults:{emptyState:{midSelector:' [contenteditable="false"]',styleIn:"min-height: 20px;",styleOut:"padding: 0 5px;"},traits:[]}}}),t.addType("mj-button",{model:{defaults:{traits:[o]}}}),t.addType("mj-image",{model:{defaults:{"style-default":{padding:"10px 25px",align:"center"},traits:[{name:"src",changeProp:!0,type:"image",label:"Image"},{id:"altText",name:"alt",placeholder:"Image description"},"title",o]}}}),t.addType("mj-divider",{model:{defaults:{attributes:{align:"center"},traits:[{name:"align",type:"radio",options:[{id:"left",title:"Left",labelReact:l.jsx(Z,{icon:Y.alignHorizontalLeft,size:ie.sx})},{id:"center",title:"Center",labelReact:l.jsx(Z,{icon:Y.alignHorizontalCenter,size:ie.sx})},{id:"right",title:"Right",labelReact:l.jsx(Z,{icon:Y.alignHorizontalRight,size:ie.sx})}]}]}}}),t.addType("mj-social",{model:{defaults:{name:"Social",traits:[],emptyState:{midSelector:">td"}}}});const{view:c}=t.getType("mj-social-element");t.addType("mj-social-element",{extendFn:["init"],model:{defaults:{traits:[{type:"select",label:"Icon",name:"name",options:[{id:"custom",name:"Custom"},{id:"facebook",name:"Facebook"},{id:"twitter",name:"Twitter"},{id:"google",name:"Google"},{id:"instagram",name:"Instagram"},{id:"web",name:"Web"},{id:"youtube",name:"Youtube"},{id:"pinterest",name:"Pinterest"},{id:"linkedin",name:"Linkedin"},{id:"snapchat",name:"Snapchat"},{id:"vimeo",name:"Vimeo"},{id:"tumblr",name:"Tumblr"},{id:"github",name:"Github"},{id:"soundcloud",name:"SoundCloud"},{id:"medium",name:"Medium"},{id:"dribbble",name:"Dribbble"},{id:"xing",name:"Xing"}]},s,o,i]},init(){this.set({void:!1},{silent:!0})}},extendFnView:["init"],view:{init(){this.listenTo(this.model,"component:update:components",this.rerender)},getInnerMjmlTemplate(){var b;const{start:h,end:g}=c.prototype.getInnerMjmlTemplate.call(this),v=((b=this.model.getInnerHTML())==null?void 0:b.trim())||"";return{start:`${h}${v}`,end:g}},getChildrenContainer(){var b;const{el:h}=this,g=(b=h.querySelector("tbody > tr > td"))==null?void 0:b.nextElementSibling;return(g==null?void 0:g.firstElementChild)||h.querySelector("img")||h}}}),t.addType("mj-spacer",{model:{defaults:{traits:[]}}}),t.addType("mj-navbar",{model:{defaults:{emptyState:{midSelector:">td>div"}}}}),t.addType("mj-navbar-link",{model:{defaults:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M21,15.61L19.59,17L14.58,12L19.59,7L21,8.39L17.44,12L21,15.61M3,6H16V8H3V6M3,13V11H13V13H3M3,18V16H16V18H3Z" />
        </svg>`,emptyState:{midSelector:">td>div"}}}});const u=h=>{n.open({title:h.getName({noCustom:!0}),content:()=>l.jsx(Ig,{content:"",code:h.getInnerHTML(),onAction:g=>h.components(g),buttonProps:{children:r.t("save")}})})};t.addType("mj-raw",{extendFn:["initToolbar"],model:{defaults:{name:"HTML block",emptyState:{midSelector:">div"}},initToolbar(){BE(this,{id:"edit",command:()=>u(this),label:`<svg viewBox="0 0 24 24">
            <path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path>
          </svg>`})}},view:{events:{dblclick:"onActive"},onActive(){u(this.model)}}});const d=h=>{const{id:g,view:v}=h,b=v.prototype;t.addType(g,{view:{render(){return b.render.apply(this,arguments),Hg(g,this),this}}})};["mj-body","mj-section","mj-column","mj-text","mj-navbar","mj-social","mj-raw"].forEach(h=>d(t.getType(h))),t.getTypes().forEach(({id:h,view:g})=>{g.prototype.disableEditing&&t.addType(h,{view:{onDisable(v={}){this.disableEditing({...v,parserOptions:{htmlType:"text/html"}})}}})})}function bO(e){const{Blocks:t}=e,n="Content",r="Layout",o={className:"h-7",full:!0,space:"s",nowrap:!0},s={category:r,full:!0},i="gjs-border-2 gjs-border-current gjs-rounded-sm",a=(c,u)=>{t.add(c,{select:!0,category:n,...u})};a("mj-text",{label:"Text",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />
    </svg>`,content:"<mj-text>Insert text here</mj-text>",activate:!0}),a("mj-button",{label:"Button",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />
    </svg>`,content:"<mj-button>Button</mj-button>"}),a("mj-image",{label:"Image",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />
    </svg>`,content:`<mj-image src="${$w}"/>`,activate:!0}),a("mj-divider",{label:"Divider",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />
    </svg>`,content:"<mj-divider/>"}),a("mj-social",{label:"Social",media:`<svg viewBox="0 0 24 24">
      <path fill="currentColor" d="M18,16.08C17.24,16.08 16.56,16.38 16.04,16.85L8.91,12.7C8.96,12.47 9,12.24 9,12C9,11.76 8.96,11.53 8.91,11.3L15.96,7.19C16.5,7.69 17.21,8 18,8A3,3 0 0,0 21,5A3,3 0 0,0 18,2A3,3 0 0,0 15,5C15,5.24 15.04,5.47 15.09,5.7L8.04,9.81C7.5,9.31 6.79,9 6,9A3,3 0 0,0 3,12A3,3 0 0,0 6,15C6.79,15 7.5,14.69 8.04,14.19L15.16,18.34C15.11,18.55 15.08,18.77 15.08,19C15.08,20.61 16.39,21.91 18,21.91C19.61,21.91 20.92,20.61 20.92,19A2.92,2.92 0 0,0 18,16.08Z" />
    </svg>`,content:`<mj-social font-size="12px" icon-size="24px" border-radius="12px" mode="horizontal">
        <mj-social-element name="facebook"></mj-social-element>
        <mj-social-element name="linkedin"></mj-social-element>
        <mj-social-element name="twitter"></mj-social-element>
      </mj-social>`}),a("mj-social-element",{label:"Social Element",media:`<svg viewBox="0 0 24 24">
      <path d="M18 16.08C17.24 16.08 16.56 16.38 16.04 16.85L8.91 12.7C8.96 12.47 9 12.24 9 12S8.96 11.53 8.91 11.3L15.96 7.19C16.5 7.69 17.21 8 18 8C19.66 8 21 6.66 21 5S19.66 2 18 2 15 3.34 15 5C15 5.24 15.04 5.47 15.09 5.7L8.04 9.81C7.5 9.31 6.79 9 6 9C4.34 9 3 10.34 3 12S4.34 15 6 15C6.79 15 7.5 14.69 8.04 14.19L15.16 18.34C15.11 18.55 15.08 18.77 15.08 19C15.08 20.61 16.39 21.91 18 21.91S20.92 20.61 20.92 19C20.92 17.39 19.61 16.08 18 16.08M18 4C18.55 4 19 4.45 19 5S18.55 6 18 6 17 5.55 17 5 17.45 4 18 4M6 13C5.45 13 5 12.55 5 12S5.45 11 6 11 7 11.45 7 12 6.55 13 6 13M18 20C17.45 20 17 19.55 17 19S17.45 18 18 18 19 18.45 19 19 18.55 20 18 20Z" />
    </svg>`,content:'<mj-social-element name="facebook">Facebook</mj-social-element>'}),a("mj-spacer",{label:"Spacer",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M8,18H11V15H2V13H22V15H13V18H16L12,22L8,18M12,2L8,6H11V9H2V11H22V9H13V6H16L12,2Z" />
    </svg>`,content:"<mj-spacer/>"}),a("mj-navbar",{label:"Navbar",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" />
    </svg>`,content:`<mj-navbar>
      <mj-navbar-link>HOME</mj-navbar-link>
      <mj-navbar-link>ABOUT</mj-navbar-link>
      <mj-navbar-link>CONTACT</mj-navbar-link>
      <mj-navbar-link>BLOG</mj-navbar-link>
    </mj-navbar>`}),a("mj-hero",{label:"Hero",media:`<svg viewBox="0 0 24 24">
        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />
    </svg>`,content:`<mj-hero mode="fixed-height" height="469px" background-width="600px" background-height="469px" background-url="${Qp({width:600,height:300,text:"Hero Image",fg:"555"})}" background-color="#2a3448" padding="100px 0px">
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center" font-size="45px" line-height="45px" font-weight="900">
        Heading title
      </mj-text>
      <mj-text padding="20px" color="#ffffff" font-family="Helvetica" align="center">
        Place here your hero content text
      </mj-text>
      <mj-button href="https://mjml.io/" align="center">
        Call to action!
      </mj-button>
    </mj-hero>`}),a("mj-raw",{label:"HTML block",activate:!0,media:`<svg viewBox="0 0 24 24">
      <path d="M5.59 3.41L7 4.82L3.82 8L7 11.18L5.59 12.6L1 8L5.59 3.41M11.41 3.41L16 8L11.41 12.6L10 11.18L13.18 8L10 4.82L11.41 3.41M22 6V18C22 19.11 21.11 20 20 20H4C2.9 20 2 19.11 2 18V14H4V18H20V6H17.03V4H20C21.11 4 22 4.89 22 6Z" />
    </svg>`,content:`<mj-raw>
      <span>Insert here you custom HTML</span>
    </mj-raw>`}),a("mj-1-column",{...s,label:"1 Column",mediaReact:l.jsx(D,{...o,children:l.jsx(k,{className:i,grow:!0})}),content:`<mj-section>
        <mj-column></mj-column>
      </mj-section>`}),a("mj-2-columns-50-50",{...s,label:"2 Columns 50/50",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0})]}),content:`<mj-section>
      <mj-column></mj-column>
      <mj-column></mj-column>
    </mj-section>`}),a("mj-2-columns-25-75",{...s,label:"2 Columns 25/75",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-1/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-3/4")})]}),content:`<mj-section>
      <mj-column width="25%"></mj-column>
      <mj-column width="75%"></mj-column>
    </mj-section>`}),a("mj-2-columns-33-67",{...s,label:"2 Columns 33/67",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-1/3")}),l.jsx(k,{className:H(i,"gs-utl-basis-2/3")})]}),content:`<mj-section>
      <mj-column width="33%"></mj-column>
      <mj-column width="67%"></mj-column>
    </mj-section>`}),a("mj-2-columns-67-33",{...s,label:"2 Columns 67/33",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-2/3")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/3")})]}),content:`<mj-section>
      <mj-column width="67%"></mj-column>
      <mj-column width="33%"></mj-column>
    </mj-section>`}),a("mj-2-columns-75-25",{...s,label:"2 Columns 75/25",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-3/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
      <mj-column width="75%"></mj-column>
      <mj-column width="25%"></mj-column>
    </mj-section>`}),a("mj-3-columns",{...s,label:"3 Columns",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`}),a("mj-3-columns-25-25-50",{...s,label:"3 Columns 25/25/50",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-1/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-2/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
      </mj-section>`}),a("mj-3-columns-25-50-25",{...s,label:"3 Columns 25/50/25",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-1/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-2/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="25%"></mj-column>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),a("mj-3-columns-50-25-25",{...s,label:"3 Columns 50/25/25",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:H(i,"gs-utl-basis-2/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/4")}),l.jsx(k,{className:H(i,"gs-utl-basis-1/4")})]}),content:`<mj-section>
        <mj-column width="50%"></mj-column>
        <mj-column width="25%"></mj-column>
        <mj-column width="25%"></mj-column>
      </mj-section>`}),a("mj-4-columns",{...s,label:"4 Columns",mediaReact:l.jsxs(D,{...o,children:[l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0}),l.jsx(k,{className:i,grow:!0})]}),content:`<mj-section>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
        <mj-column></mj-column>
      </mj-section>`})}const yO=(e,t)=>({[Ze.web]:r=>o_(r,t),[Ze.email]:vO})[e],Bg={global:[{id:"grapesjs-indexeddb",src:"https://unpkg.com/grapesjs-indexeddb@1.0.4/dist/index.js",options:{type:"local"}}],[Ze.email]:[bO,{id:"grapesjs-mjml",src:"https://unpkg.com/grapesjs-mjml@1.0.5/dist/index.js",options:{columnsPadding:"",useCustomTheme:!1,resetDevices:!1,resetBlocks:!1,blocks:[],useXmlParser:!0,resetStyleManager:!1}}],[Ze.web]:[{id:"gjs-blocks-basic",src:"https://unpkg.com/grapesjs-blocks-basic@1.0.1/dist/index.js"},{id:"grapesjs-plugin-forms",src:"https://unpkg.com/grapesjs-plugin-forms@2.0.5/dist/index.js"},{id:"grapesjs-plugin-export",src:"https://unpkg.com/grapesjs-plugin-export@1.0.11/dist/index.js",options:{isBinary:(e,t)=>{const n=t.split(".")[1];return/[\x00-\x08\x0E-\x1F]/.test(e)&&!(n&&["html","css"].indexOf(n)>=0)}}},{id:"grapesjs-parser-postcss",src:"https://unpkg.com/grapesjs-parser-postcss@1.0.1/dist/index.js"},{id:"grapesjs-tui-image-editor",src:"https://unpkg.com/grapesjs-tui-image-editor@1.0.1/dist/index.js"},{id:"grapesjs-navbar",src:"https://unpkg.com/grapesjs-navbar@1.0.1/dist/index.js",options:{block:{category:"Extra"}}}]};function xO(e){const{Components:t,Blocks:n}=e,r=o=>{const{model:s,id:i}=o,a=s.getDefaults(),c=n.get(i),u=a.icon,d=c==null?void 0:c.get("media"),p='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',h=u&&u!==p&&!d?u:d||p;t.addType(i,{model:{defaults:{icon:h}}})};t.getTypes().forEach(r),e.on("component:type:add",r)}function wO(e){const{Components:t}=e,n=r=>{const{id:o,model:s}=r;if(o==="custom-code"){const i="<span>Insert here your custom code</span>";t.addType(o,{model:{defaults:{emptyState:!0,icon:'<svg viewBox="0 0 24 24"><path d="M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z"></path></svg>',classes:"gjs-custom-code",components:i,"custom-code-plugin__code":i,styles:".gjs-custom-code { padding: 5px; }"}}})}if(o==="typed"){const i=s.getDefaults().traits.map(a=>a.name==="strings"?{...a,type:"stack",addItem(c){return{id:c,label:`New string ${c}`}},getValue({component:c}){return c.get("strings").map((u,d)=>({id:`${d}`,label:u}))},setValue:({component:c,value:u})=>{const d=u.map(p=>p.label);c.set({strings:d}),c.trigger("rerender")},properties:[{name:"label"}]}:a);t.addType(o,{model:{defaults:{traits:i,strings:["These are the default values...!!!","Use your own strings from Properties!","Have a great day!"],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300"><path d="M212.3 44l2.3 49.6h-6A60 60 0 00204 75c-3.2-6-7.5-10.5-12.9-13.3a44.9 44.9 0 00-21.1-4.3h-29.8V219c0 13 1.4 21 4.2 24.3 4 4.4 10 6.6 18.2 6.6h7.4v5.7H80.2V250h7.5c9 0 15.3-2.7 19-8.2 2.4-3.3 3.5-10.9 3.5-22.7V57.3H84.8a71 71 0 00-21.1 2.2 29 29 0 00-13.9 11.3 46.1 46.1 0 00-6.9 22.8H37L39.5 44h172.8zM245 22h18v256h-18z"/></svg>',classes:"gjs-typed",styles:`
                  .gjs-typed {
                    padding: 5px;
                  }
                `}}})}if(["tabs","tab-content","tab-contents","tab","tab-container"].indexOf(o)>=0){const a={emptyState:!0,icon:o==="tabs"?`
            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z" fill-rule="nonzero"/><rect x="3" y="5" width="4" height="2" rx=".5"/><rect x="8" y="5" width="4" height="2" rx=".5"/><rect x="13" y="5" width="4" height="2" rx=".5"/>
            </svg>
          `:void 0};o==="tab"&&(a.traits=[{type:"button",label:!1,text:"Style Active",command:c=>{c.select(),c.runCommand(Fg),setTimeout(()=>c.Selectors.select(".tab.tab-active"))}}]),t.addType(o,{model:{defaults:a}})}};e.on("component:type:add",n)}const Hu=()=>{const{baseApiUrl:e}=Ci();return`${e}/assets/sdk`},SO=e=>`${Hu()}/${e}`,jO=async(e,t,n)=>{const r=await Pn.get(Hu(),{params:{projectId:t,identityId:n,d:window.location.hostname,licenseKey:e}});return((r==null?void 0:r.result)??[]).map(({asset:o,cdnUrl:s})=>({...o,size:parseInt(o.size),src:s}))},CO=async(e,t,n,r)=>{const o=await Pn.post(Hu(),{body:JSON.stringify({fileMetadata:e,projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},EO=async(e,t)=>{await Pn.put(t,{body:e})},_O=async(e,t,n,r)=>Promise.all(e.map(o=>CO({name:o.name,size:o.size,type:o.type},t,n,r).then(async s=>{if(!s)throw new Error("No asset");const{asset:i,cdnUrl:a,uploadUrl:c}=s;return await EO(o,c),{...i,size:parseInt(i.size),src:a}}))),OO=async(e,t,n,r)=>{const o=await Pn.delete(SO(e),{body:JSON.stringify({projectId:n,identityId:r}),params:{d:window.location.hostname,licenseKey:t}});return o==null?void 0:o.result},PO=async(e,t,n,r)=>Promise.all(e.map(o=>OO(o.attributes.id,t,n,r))),TO=e=>{var h,g,v;const{appEditorStore:t,toastStore:n,i18nStore:r}=ts(),{sdkProps:o,isUsingAssetCloud:s}=t,i=o.options,a=i.licenseKey,c=(h=i.project)==null?void 0:h.id,u=(g=i.identity)==null?void 0:g.id,p=s?({files:b})=>_O(b,a,c,u):(v=i.assets)==null?void 0:v.onUpload;if(p){const{Assets:b}=e;b.getConfig().uploadFile=async y=>{var m,x;try{t.setIsLoadingAssets(!0);const w=((m=y.dataTransfer)==null?void 0:m.files)||((x=y.target)==null?void 0:x.files)||[],S=Array.from(w),C=await p({files:S,editor:e});b.add(C),await e.store()}catch(w){console.error(w),n.addError("assets-error-upload",{header:r.t("assetManager.errorUpload"),content:w==null?void 0:w.message})}finally{t.setIsLoadingAssets(!1)}}}},AO=()=>{const{baseApiUrl:e}=Ci();return`${e}/sdk/projects`},zg=e=>`${AO()}/${e}`,MO=async({licenseKey:e,projectId:t,...n})=>{const r=await Pn.put(zg(t),{body:JSON.stringify(n),params:{d:window.location.hostname,licenseKey:e}});return r==null?void 0:r.result},kO=async(e,t)=>{await Pn.put(t,{body:e,headers:{"Content-Type":"application/json"}})},LO=async(e,t,n,r)=>{const o=JSON.stringify(e),s=await MO({licenseKey:t,projectId:n,fileMetadata:{size:new Blob([o]).size},identityId:r,name:e.name,description:e.description});if(!s)throw new Error("No project");const{uploadUrl:i}=s;await kO(o,i)},NO=(e,t,n)=>Pn.get(zg(t),{params:{d:window.location.hostname,licenseKey:e,identityId:n}}),$O=async e=>await Pn.get(e),DO=async(e,t,n,r)=>{const o=await NO(t,n,r),s=o==null?void 0:o.result,i=o==null?void 0:o.errorData;if(!s&&(i!=null&&i.notFoundInDb))return{id:n,project:e.getProjectData()};if(!s)throw new Error("No project");const{downloadUrl:a}=s,c=await $O(a);if(!c)throw new Error("No project");return{id:n,project:c}},IO=(e,t)=>{const{appEditorStore:n,toastStore:r,i18nStore:o}=t.appStore.store,{isUsingProjectSelfHosted:s,isUsingProjectCloud:i,sdkOptions:a}=n,c=a.storage||{},{project:u,onLoad:d,onSave:p,autosaveChanges:h,autosaveIntervalMs:g}=c;let v,b,y,m;if(s)y=d,m=p,v=h,b=g;else if(i){const j=a.licenseKey,E=a.project.id,O=a.identity.id,A=10,_=1e4;m=({project:T})=>LO(T,j,E,O),y=({editor:T})=>DO(T,j,E,O),v=Math.max(A,h??A),g&&(b=Math.max(_,g))}const{Storage:x}=e,{events:w}=x;let S=!1;const C=e.em.constructor.prototype;if(e.em.loadData=function(...j){const E=C.loadData.apply(e.em,j);return S=E&&!!Object.keys(E).length,E},e.once("change:readyLoad",()=>{var E;const j=(E=a.project)==null?void 0:E.default;!S&&j&&e.loadProjectData(j)}),e.on(w.startStore,()=>n.setIsSaving(!0)),e.on(w.endStore,()=>n.setIsSaving(!1)),(y||u)&&m){const j="remote";x.setCurrent(j),x.add(j,{async load(){return u||(await y({editor:e})).project},async store(E){await m({project:E,editor:e})}}),e.on(w.errorLoad,E=>{r.addError("storage-error-load",{header:o.t("storageManager.errorLoad"),content:E.message})}),e.on(w.errorStore,E=>{r.addError("storage-error-store",{header:o.t("storageManager.errorStore"),content:E.message})}),v&&x.setStepsBeforeSave(v),b&&e.onReady(()=>{const E=setInterval(async()=>{e.getDirtyCount()>0&&!n.isSaving&&await e.store()},b);e.on("destroy",()=>clearInterval(E))})}},VO=e=>{const{Canvas:t}=e;e.on(t.events.frameLoad,({window:n,el:r})=>{n.document.addEventListener("contextmenu",async s=>{s.preventDefault();const i=s.target,a=e.getModel().get("componentHovered")||e.Utils.helpers.getModel(i);if(a){const c=r.getBoundingClientRect();e.select(a),e.runCommand(he.contextMenuComponent,{component:a,x:s.clientX+c.left,y:s.clientY+c.top})}})})},HO=(e,t)=>{var r;const{globalStylesStore:n}=t.appStore.store;(r=e.DataSources)==null||r.all.on("reset",()=>n.onLoad())},Pa="select-target",Fg="enable-sm";function BO(e,t){const{appEditorStore:n,blockManagerStore:r,toastStore:o,modalStore:s,layoutStore:i,contextMenu:a}=t.appStore.store,{projectIdToLoad:c,nextProjectData:u}=n,d=()=>r.toggleOpen(),p=()=>n.toggleLeftSidebar(),h=()=>n.toggleRightSidebar(),g=e.getConfig();if(e.AssetManager.all.model.prototype.idAttribute="src",u&&(g.projectData=u,n.setNextProjectData()),c){const w=e.Storage.getConfig().options;w&&(w.local.key=c)}e.RichTextEditor.getConfig().custom=!0;const{Canvas:v}=e,b=Ws(()=>n.setCanvasPanning(!1),200);e.on(v.events.coords,()=>{n.setCanvasPanning(!0),b()}),e.on(v.events.frameLoad,({el:w})=>{w.tabIndex=-1}),[{id:"toggle-lsidebar",keys:"alt+ctrl+,",cmd:p},{id:"toggle-lsidebar2",keys:"alt+⌘+,",cmd:p},{id:"toggle-rsidebar",keys:"alt+ctrl+., alt+⌘+.",cmd:h},{id:"show-blocks",keys:"ctrl+b, ⌘+b",cmd:d},{id:"add-symbol",keys:"alt+ctrl+k, alt+⌘+k",cmd:he.symbolAdd},{id:"detach-symbol",keys:"shift+alt+ctrl+k, shift+alt+⌘+k",cmd:he.symbolDetach}].forEach(({id:w,keys:S,cmd:C})=>{e.Keymaps.add(`preset:${w}`,S,C,{prevent:!0})}),e.on("run:core:preview",()=>{n.setPreview(!0),r.setOpen(!1),Vg(e,!1)}),e.on("stop:core:preview",()=>{n.setPreview(!1),Vg(e,!0),setTimeout(()=>{e.refresh()},n.transitionTime)});const y="target-selection",{Commands:m,Components:x}=e;m.add(Pa,{opts:{},init(){this.beforeSelect=this.beforeSelect.bind(this)},onComponentHover(w,S){const C={id:y,type:"target",component:S};S?v.addSpot(C):v.removeSpots(C)},beforeSelect(w,S={}){S.abort=!0,S.useValid=!1,this.opts.onSelect(w),e.stopCommand(Pa)},run(w,S,C){this.opts=C,e.on("component:select:before",this.beforeSelect),e.on("change:componentHovered",this.onComponentHover)},stop(){e.off("component:select:before",this.beforeSelect),e.off("change:componentHovered",this.onComponentHover),v.removeSpots({id:y}),n.setSelectingTarget(!1)}}),m.add(Fg,()=>{n.setSelectedDesignerTab("style")}),m.add(he.toastAdd,(w,S,C)=>{o.add(C.id,C)}),m.add(he.dialogOpen,(w,S,C)=>{s.open(C)}),m.add(he.dialogClose,()=>{s.close()}),m.add(he.sidebarLeftGet,()=>({visible:n.isLeftSidebarOpen})),m.add(he.sidebarLeftSet,(w,S,C)=>{n.setLeftSidebarOpen(!!C.visible)}),m.add(he.sidebarLeftToggle,()=>{n.setLeftSidebarOpen(!n.isLeftSidebarOpen)}),m.add(he.sidebarRightGet,()=>({visible:n.isRightSidebarOpen})),m.add(he.sidebarRightSet,(w,S,C)=>{n.setRightSidebarOpen(!!C.visible)}),m.add(he.sidebarRightToggle,()=>{n.setRightSidebarOpen(!n.isRightSidebarOpen)}),m.add(he.sidebarTopGet,()=>({visible:n.isTopSidebarOpen})),m.add(he.sidebarTopSet,(w,S,C)=>{n.setTopSidebarOpen(!!C.visible)}),m.add(he.sidebarTopToggle,()=>{n.setTopSidebarOpen(!n.isTopSidebarOpen)}),m.add(he.sidebarBottomGet,()=>({visible:n.isBottomSidebarOpen})),m.add(he.sidebarBottomSet,(w,S,C)=>{n.setBottomSidebarOpen(!!C.visible)}),m.add(he.sidebarBottomToggle,()=>{n.setBottomSidebarOpen(!n.isBottomSidebarOpen)}),m.add(he.layoutAdd,(w,S,C)=>{C.id&&i.add(C.id,C)}),m.add(he.layoutRemove,(w,S,C)=>{const{id:j,...E}=C;i.remove(j,E)}),m.add(he.layoutToggle,(w,S,C)=>{const{id:j,...E}=C;j&&(i.get(j)?i.remove(j,E):i.add(j,E))}),m.add(he.getPagesConfig,()=>n.sdkPagesConfig),m.add(he.setPagesConfig,(w,S,C)=>{const{config:j}=C||{};jr(j)&&n.setSdkPagesConfig(j)}),m.add(he.getPageSettings,()=>JSON.parse(JSON.stringify(n.panelPageSettings))),m.add(he.setPageSettings,(w,S,C)=>{n.setPanelPageSettings(C)}),m.add(he.projectFiles,(w,S,C)=>Oa(w,C)),m.add(he.getBlocksPanel,()=>({isOpen:r.isOpen})),m.add(he.setBlocksPanel,(w,S,C)=>{const j=C||{};jr(j.isOpen)&&r.setOpen(j.isOpen)}),m.add(he.canvasReload,()=>{const w=e.getSelected(),S=v.getCanvasView(),{frames:C}=v.canvas;C.once("loaded:all",()=>{const j=w==null?void 0:w.getView();j&&!j.isInViewport()&&j.el.scrollIntoView({block:"center"})}),S.renderFrames()}),m.add(he.contextMenuComponent,(w,S,C)=>{const{component:j,...E}=C;a.showForComponent(j,E)}),m.add(he.symbolAdd,(w,S,C)=>{const j=C.component||e.getSelected();if(j)return x.getSymbolInfo(j).isSymbol?o.add("skip-symbol",{header:"The selected element is already a symbol",variant:ao.Warning}):x.addSymbol(j)}),m.add(he.symbolDetach,(w,S,C)=>{const j=C.component||e.getSelected();j&&x.getSymbolInfo(j).isRoot&&x.detachSymbol(j)}),m.add(he.symbolOverride,(w,S,C)=>{const j=C.component||e.getSelected();j&&(j.setSymbolOverride(C.override),e.Layers.updateLayer(j))}),m.add(he.symbolPropagateStyles,(w,S,C)=>{const j=C.component||e.getSelected();if(!j)return;const{Css:E}=e,O=E.getComponentRules(j,{current:!0})[0];if(O){const{state:A,mediaText:_}=O.attributes,T=O.getStyle();x.getSymbolInfo(j).relatives.forEach(N=>{E.setIdRule(N.getId(),T,{state:A,mediaText:_})})}C.deep&&j.components().forEach(A=>e.runCommand(he.symbolPropagateStyles,{...C,component:A}))}),TO(e),IO(e,t),HO(e,t),wO(e),xO(e),mO(e),VO(e)}const zO=/\s(?![^(]*\))/,Rg=/^-?[0-9]+[a-zA-Z%]{0,}$/;function Ug(e){const t=e.split(zO),n=t.indexOf("inset")>=0,r=t.filter(d=>d!=="inset"),o=r.filter(d=>!Rg.test(d))[0]||"currentColor",s=r.filter(d=>Rg.test(d)),[i="0",a="0",c="0",u="0"]=s;return{x:i,y:a,blur:c,spread:u,inset:n,color:o}}function Ta(e){const t=e.indexOf("(")+1,n=e.lastIndexOf(")");return{name:e.substring(0,t-1).trim(),value:String.prototype.substring.apply(e,[t,n>=0?n:void 0]).trim()}}var Wg={exports:{}},Xs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function FO(){if(Gg)return Xs;Gg=1;var e=f,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function i(a,c,u){var d,p={},h=null,g=null;u!==void 0&&(h=""+u),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(g=c.ref);for(d in c)r.call(c,d)&&!s.hasOwnProperty(d)&&(p[d]=c[d]);if(a&&a.defaultProps)for(d in c=a.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:t,type:a,key:h,ref:g,props:p,_owner:o.current}}return Xs.Fragment=n,Xs.jsx=i,Xs.jsxs=i,Xs}Wg.exports=FO();var nt=Wg.exports;const Kg=f.createContext(null),RO=({children:e})=>{const[t,n]=f.useState({setEditor:r=>{n(o=>({...o,editor:r}))}});return nt.jsx(Kg.Provider,{value:t,children:e})},rn=()=>{const e=f.useContext(Kg);if(!e)throw new Error("useEditorInstance must be used within EditorInstanceProvider");return e},ct=()=>{const{editor:e}=rn();if(!e)throw new Error("useEditor used before the load of the editor instance. You can wrap your component in `<WithEditor>` or make use of `useEditorMaybe` hook and ensure the `editor` exists.");return e},Bu=()=>rn().editor,qg=f.createContext(null),UO=({children:e})=>{const[t,n]=f.useState(()=>({setRefCanvas(r){n(o=>({...o,refCanvas:r}))},setCustomModal(r){n(o=>({...o,customModal:r}))},setCustomAssets(r){n(o=>({...o,customAssets:r}))},setCustomBlocks(r){n(o=>({...o,customBlocks:r}))},setCustomRte(r){n(o=>({...o,customRte:r}))},setCustomStyles(r){n(o=>({...o,customStyles:r}))},setCustomLayers(r){n(o=>({...o,customLayers:r}))},setCustomSelectors(r){n(o=>({...o,customSelectors:r}))},setCustomTraits(r){n(o=>({...o,customTraits:r}))},setReady(r){n(o=>({...o,ready:r}))}}));return nt.jsx(qg.Provider,{value:t,children:e})},Vn=()=>{const e=f.useContext(qg);if(!e)throw new Error("useEditorOptions must be used within EditorOptionsProvider");return e};function WO(...e){return(Array.isArray(e[0])?e[0]:[...e]).filter(Boolean).join(" ")}function kr(e){return typeof e=="function"}function jn(){}const Yg=e=>typeof e=="string",GO=async e=>{const t=document.createElement("link");t.href=e,t.rel="stylesheet",document.head.appendChild(t)},Xg=e=>{const t=Yg(e)?{id:e,src:e}:e;return new Promise((n,r)=>{const o=document.createElement("script");if(document.querySelector(`script[src="${t.src}"]`))return n(t.id);o.src=t.src,o.onload=()=>n(t.id),o.onerror=()=>r(t.id),document.head.appendChild(o)})},KO=e=>{const t=e.map(n=>Xg(n));return Promise.allSettled(t)},Zg=e=>function(){const t=f.useRef(null);return f.useEffect(()=>{const{current:n}=t;n&&(Yg(e)?n.innerHTML=e:n.appendChild(e))},[t.current]),nt.jsx("div",{ref:t})},Jg=new WeakMap;function Ro(e){if(!e)return()=>null;const t=Jg.get(e);if(t)return t;const n=function({children:r}){return Pt.createPortal(r,e)};return Jg.set(e,n),n}const qO=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(!1),[s,i]=f.useState({assets:[],types:[],close:()=>{},select:()=>{},Container:()=>null});return f.useEffect(()=>{if(!t)return;const a=t.Assets.events.custom,c=({open:u,assets:d,types:p,select:h,close:g,container:v})=>{u&&i({assets:d,types:p,select:h,close:g,Container:Ro(v)}),o(u)};return t.on(a,c),()=>{t.off(a,c)}},[t]),f.useEffect(()=>n.setCustomAssets(!0),[]),t&&kr(e)?e({open:r,...s}):null});f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(()=>({blocks:[],dragStart:jn,dragStop:jn,mapCategoryBlocks:new Map,Container:()=>null}));return f.useEffect(()=>{if(!t)return;const s=t.Blocks.events.custom,i=({blocks:a,container:c,dragStart:u,dragStop:d})=>{const p=a.reduce((h,g)=>{const v=g.getCategoryLabel(),b=h.get(v);return b?b.push(g):h.set(v,[g]),h},new Map);o({blocks:a,dragStart:u,dragStop:d,mapCategoryBlocks:p,Container:Ro(c)})};return t.on(s,i),t.Blocks.__trgCustom(),()=>{t.off(s,i)}},[t]),f.useEffect(()=>n.setCustomBlocks(!0),[]),t&&kr(e)?e(r):null});function YO({children:e,...t}){const n=Vn(),r=f.useRef(null);return f.useEffect(()=>{r.current&&n.setRefCanvas(r.current)},[r.current]),nt.jsx("div",{...t,ref:r,children:e})}const XO=f.memo(function({children:e}){const{editor:t}=rn(),[n,r]=f.useState(()=>({devices:[],selected:"",select:jn}));return f.useEffect(()=>{if(!t)return;const{Devices:o}=t,s=o.events.all,i=()=>{var a;r({devices:o.getDevices(),selected:(a=o.getSelected())==null?void 0:a.id,select:c=>o.select(c)})};return t.on(s,i),i(),()=>{t.off(s,i)}},[t]),t&&kr(e)?e(n):null}),ZO=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function JO(e){const t=e.map(({id:s,src:i})=>({id:s,src:i})),n=e.reduce((s,i)=>(s[i.id]=i,s),{}),r=[],o=[];return(await KO(t)).forEach(s=>{s.status==="fulfilled"?r.push(n[s.value]):o.push(n[s.reason])}),{loaded:r,failed:o}}const QO=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,i)=>{ZO(s)&&(r[s.id]={index:i},o.push(s))}),o.length){const{loaded:s}=await JO(o);s.forEach(({id:i,options:a})=>{r[i].loaded=!0,n[i]=a||{}})}Object.keys(r).forEach(s=>{const i=r[s];i.loaded?t[i.index]=s:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},e5=f.memo(function({children:e,className:t,style:n,options:r={},plugins:o=[],grapesjs:s,grapesjsCss:i,onEditor:a=jn,onReady:c,onUpdate:u,waitReady:d,...p}){const{setEditor:h}=rn(),g=Vn(),[v,b]=f.useState(!1),y=f.useRef(null);f.useEffect(()=>{if(!g.ready||!y.current)return;const E=y.current,O=g.refCanvas;let A,_={},T=[];const N=B=>{const $={height:"100%",...r,plugins:[...T,...r.plugins||[]],pluginsOpts:{...r.pluginsOpts,..._},modal:{...r.modal,custom:!!g.customModal},assetManager:{...r.assetManager,custom:!!g.customAssets},styleManager:{...r.styleManager,custom:!!g.customStyles},blockManager:{...r.blockManager,custom:!!g.customBlocks},richTextEditor:{...r.richTextEditor,custom:!!g.customRte},layerManager:{...r.layerManager,custom:!!g.customLayers},traitManager:{...r.traitManager,custom:!!g.customTraits},selectorManager:{...r.selectorManager,custom:!!g.customSelectors},container:O||E,customUI:!!O,...O?{panels:{defaults:[]}}:{}};A=B.init($),h(A),a(A),u&&A.on("update",()=>{u(A.getProjectData(),A)}),A.onReady(()=>{b(!0),c==null||c(A)})};return(async()=>{i&&await GO(i);const B=await QO(o);T=B.plugins,_=B.pluginOptions,typeof s=="string"?(await Xg(s),N(window.grapesjs)):N(s)})(),()=>A==null?void 0:A.destroy()},[g.ready]);const m=r.height??"100%",x=r.width??"100%",w=WO("gjs-editor-wrapper",t),S=d&&!v,C=f.useMemo(()=>({...n,height:m,width:x}),[m,x,n]),j=f.useMemo(()=>({...C,...S?{opacity:0,width:0,height:0}:{}}),[C,S]);return nt.jsxs(nt.Fragment,{children:[d&&!v?nt.jsx("div",{className:w,style:C,children:d}):null,nt.jsx("div",{...p,ref:y,className:w,style:j,children:e})]})}),t5=f.memo(function(){const e=Vn();return f.useEffect(()=>e.setReady(!0),[]),nt.jsx(nt.Fragment,{})}),n5=f.memo(function({children:e,...t}){return nt.jsx(RO,{children:nt.jsx(UO,{children:nt.jsxs(e5,{...t,children:[e,nt.jsx(t5,{})]})})})}),zu=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(()=>({root:void 0,Container:()=>null}));return f.useEffect(()=>{if(!t)return;const{Layers:s}=t,i=s.events.custom,a=({container:c})=>{o({root:s.getRoot(),Container:Ro(c)})};return t.on(i,a),s.__trgCustom({}),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomLayers(!0),[]),t&&kr(e)?e(r):null}),r5=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(!1),[s,i]=f.useState({title:nt.jsx(nt.Fragment,{}),content:nt.jsx(nt.Fragment,{}),attributes:{},close:jn});return f.useEffect(()=>{if(!t)return;const a="modal",c=({open:u,title:d,content:p,close:h,attributes:g})=>{u&&i({title:f.createElement(Zg(d)),content:f.createElement(Zg(p)),attributes:g,close:h}),o(u)};return t.on(a,c),()=>{t.off(a,c)}},[t]),f.useEffect(()=>n.setCustomModal(!0),[]),t&&typeof e=="function"?e({open:r,...s}):null}),Fu=f.memo(function({children:e}){const{editor:t}=rn(),[n,r]=f.useState(()=>({pages:[],selected:void 0,select:jn,add:jn,remove:jn}));return f.useEffect(()=>{if(!t)return;const{Pages:o}=t,s=o.events.all,i=()=>{r({pages:o.getAll(),selected:o.getSelected(),select:(...a)=>o.select(...a),add:(...a)=>o.add(...a),remove:(...a)=>o.remove(...a)})};return t.on(s,i),i(),()=>{t.off(s,i)}},[t]),t&&kr(e)?e(n):null}),Ru=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(()=>({selectors:[],states:[],selectedState:"",targets:[],addSelector:jn,removeSelector:jn,setState:jn,Container:()=>null}));return f.useEffect(()=>{if(!t)return;const{Selectors:s}=t,i=s.events.custom,a=({container:c})=>{o({selectors:s.getSelected(),states:s.getStates(),selectedState:s.getState(),targets:s.getSelectedTargets().map(u=>u.getSelectorsString()),addSelector:(...u)=>s.addSelected(...u),removeSelector:(...u)=>s.removeSelected(...u),setState:(...u)=>s.setState(...u),Container:Ro(c)})};return t.on(i,a),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomSelectors(!0),[]),t&&kr(e)?e(r):null}),Qg=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(()=>({sectors:[],Container:()=>null}));return f.useEffect(()=>{if(!t)return;const{Styles:s}=t,i=s.events.custom,a=({container:c})=>{o({sectors:s.getSectors({visible:!0}),Container:Ro(c)})};return t.on(i,a),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomStyles(!0),[]),t&&kr(e)?e(r):null}),Uu=f.memo(function({children:e}){const{editor:t}=rn(),n=Vn(),[r,o]=f.useState(()=>({traits:[],Container:()=>null}));return f.useEffect(()=>{if(!t)return;const{Traits:s}=t,i=s.events.custom,a=({container:c})=>{o({traits:s.getCurrent(),Container:Ro(c)})};return t.on(i,a),s.__trgCustom(),()=>{t.off(i,a)}},[t]),f.useEffect(()=>n.setCustomTraits(!0),[]),t&&kr(e)?e(r):null}),Lr=({children:e})=>Bu()?nt.jsx(nt.Fragment,{children:e}):null,Wu="gs-cmp-accordion",o5=`${Wu}-handler`,s5=`${Wu}-content`;function Uo({className:e,classNameWrap:t,classNameContent:n,style:r,handler:o,children:s,inverted:i,disabled:a,sticky:c,onChange:u,open:d}){return l.jsx(lu,{as:"div",defaultOpen:d,className:P(Wu,t,"relative"),children:({open:p})=>l.jsxs(l.Fragment,{children:[l.jsx(lu.Button,{as:a?"div":"button",disabled:a,style:r,onClick:h=>u==null?void 0:u({event:h,open:!p}),className:({open:h})=>re(o5,typeof e=="function"?e(h):e,c&&"gs-utl-sticky gs-utl-top-0 gs-utl-z-10","gs-utl-w-full"),children:({open:h})=>l.jsxs(D,{items:"center",className:P("gap-2"),full:!0,children:[l.jsx(k,{className:P("text-left"),grow:!0,children:typeof o=="function"?o(h):o}),l.jsx(k,{className:P(i&&"-order-1",a&&"gs-utl-hidden"),children:l.jsx(Z,{icon:Y.chevronDown,className:P("w-5 h-5 transition-transform",h&&"rotate-180")})})]})}),l.jsx(lu.Panel,{className:P(s5,n),children:s})]})})}function ae({label:e,property:t,hasValue:n,empty:r,onClear:o,children:s,shallow:i,row:a,tooltip:c,className:u,...d}){const p=e||(t==null?void 0:t.getLabel()),h=t==null?void 0:t.getParentTarget(),g=n||!r&&(t==null?void 0:t.hasValue({noParent:!0})),v=!g&&(t==null?void 0:t.hasValue())&&h,b=h==null?void 0:h.getDevice(),y=h==null?void 0:h.getState(),m=h==null?void 0:h.getComponent(),x=()=>o?o():t==null?void 0:t.clear(),w={className:P(u,"text-sm w-full"),col:!a,items:a?"center":void 0,...d};return l.jsx(l.Fragment,{children:l.jsxs(D,{...w,children:[l.jsx(k,{grow:!0,children:l.jsxs(D,{as:"label",items:"center",space:"xs",className:P("block",!a&&"gjs-mb-1",g&&!i&&V.tAo),children:[c&&l.jsx(k,{children:l.jsx(lt,{title:c,children:l.jsx(Z,{icon:Y.information,size:ie.sx})})}),l.jsx(k,{children:r?l.jsx("span",{children:" "}):p}),!!v&&!i&&l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:P("gjs-mb-1"),children:"Value inherited from"}),!!b&&l.jsxs(D,{space:"s",children:[l.jsx(k,{children:l.jsx(Z,{icon:Y.cellphoneLink,size:ie.sx})}),l.jsx(k,{children:l.jsx("b",{children:b.getName()})})]}),l.jsxs(D,{space:"s",children:[l.jsx(k,{children:l.jsx(Z,{icon:m?Y.targetVariant:Y.tag,size:ie.sx})}),l.jsxs(k,{children:[l.jsx("b",{children:m?"Components":"Selectors"}),l.jsxs("span",{className:P("text-xs opacity-75"),children:[" ",h==null?void 0:h.selectorsToString({skipState:1})]})]})]}),!!y&&l.jsxs(D,{space:"s",children:[l.jsx(k,{children:l.jsx(Z,{icon:Y.flare,size:ie.sx})}),l.jsx(k,{children:l.jsx("b",{children:y.getLabel()})})]})]}),children:l.jsx("div",{className:P("gs-utl-w-[6px] gs-utl-h-[6px] gjs-rounded-full",V.bgW)})}),g&&!i&&l.jsx(lt,{title:"Clear value",onClick:x,children:l.jsx(Z,{className:P(We.click),icon:Y.close,size:ie.s2x})})]})}),l.jsx(k,{grow:!0,className:P("max-w-full"),children:s})]})})}function At({className:e,options:t,label:n,value:r,size:o="m",onChange:s}){const i=c=>{const u=t.filter(d=>d.id===c)[0];return t.indexOf(u)===t.length-1},a=(c,u)=>P("cursor-pointer",o==="m"&&_e.xy,o==="s"&&"gs-utl-px-2 gs-utl-py-1.5 text-sm",o==="xs"&&"gs-utl-px-2 gs-utl-py-1 text-sm",V.br,c&&V.bgO,!i(u)&&J.br);return l.jsxs(Xh,{value:r,onChange:s,className:P("gs-field-buttons w-full"),children:[!!n&&l.jsx(vt,{size:o,children:n}),l.jsx(D,{className:P(e,J.b,J.rnd,V.br,"cursor-pointer"),items:"center",full:!0,nowrap:!0,children:t.map(({id:c,label:u,title:d,icon:p})=>l.jsx(lt,{title:d,className:P("w-full"),classNameWrp:P("flex-1"),children:l.jsx(Xh.Option,{value:c,className:({checked:h})=>a(h,c),children:l.jsxs(D,{justify:"center",space:"s",full:!0,children:[!!p&&l.jsx(Z,{icon:p,size:ie.s}),u&&l.jsx(k,{children:u})]})})},c))})]})}var i5={grad:.9,turn:360,rad:360/(2*Math.PI)},cr=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},pt=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},on=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e>t?e:t},em=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},tm=function(e){return{r:on(e.r,0,255),g:on(e.g,0,255),b:on(e.b,0,255),a:on(e.a)}},Gu=function(e){return{r:pt(e.r),g:pt(e.g),b:pt(e.b),a:pt(e.a,3)}},a5=/^#([0-9a-f]{3,8})$/i,Aa=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},nm=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),a=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:60*(a<0?a+6:a),s:s?i/s*100:0,v:s/255*100,a:o}},rm=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),a=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:255*[r,a,i,i,c,r][u],g:255*[c,r,r,a,i,i][u],b:255*[i,i,c,r,r,a][u],a:o}},om=function(e){return{h:em(e.h),s:on(e.s,0,100),l:on(e.l,0,100),a:on(e.a)}},sm=function(e){return{h:pt(e.h),s:pt(e.s),l:pt(e.l),a:pt(e.a,3)}},im=function(e){return rm((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},Zs=function(e){return{h:(t=nm(e)).h,s:(o=(200-(n=t.s))*(r=t.v)/100)>0&&o<200?n*r/100/(o<=100?o:200-o)*100:0,l:o/2,a:t.a};var t,n,r,o},l5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,c5=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,u5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,d5=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ku={string:[[function(e){var t=a5.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?pt(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?pt(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=u5.exec(e)||d5.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:tm({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=l5.exec(e)||c5.exec(e);if(!t)return null;var n,r,o=om({h:(n=t[1],r=t[2],r===void 0&&(r="deg"),Number(n)*(i5[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return im(o)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=o===void 0?1:o;return cr(t)&&cr(n)&&cr(r)?tm({r:Number(t),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,o=e.a,s=o===void 0?1:o;if(!cr(t)||!cr(n)||!cr(r))return null;var i=om({h:Number(t),s:Number(n),l:Number(r),a:Number(s)});return im(i)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,o=e.a,s=o===void 0?1:o;if(!cr(t)||!cr(n)||!cr(r))return null;var i=function(a){return{h:em(a.h),s:on(a.s,0,100),v:on(a.v,0,100),a:on(a.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(s)});return rm(i)},"hsv"]]},am=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},f5=function(e){return typeof e=="string"?am(e.trim(),Ku.string):typeof e=="object"&&e!==null?am(e,Ku.object):[null,void 0]},qu=function(e,t){var n=Zs(e);return{h:n.h,s:on(n.s+100*t,0,100),l:n.l,a:n.a}},Yu=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},lm=function(e,t){var n=Zs(e);return{h:n.h,s:n.s,l:on(n.l+100*t,0,100),a:n.a}},Xu=function(){function e(t){this.parsed=f5(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return pt(Yu(this.rgba),2)},e.prototype.isDark=function(){return Yu(this.rgba)<.5},e.prototype.isLight=function(){return Yu(this.rgba)>=.5},e.prototype.toHex=function(){return t=Gu(this.rgba),n=t.r,r=t.g,o=t.b,i=(s=t.a)<1?Aa(pt(255*s)):"","#"+Aa(n)+Aa(r)+Aa(o)+i;var t,n,r,o,s,i},e.prototype.toRgb=function(){return Gu(this.rgba)},e.prototype.toRgbString=function(){return t=Gu(this.rgba),n=t.r,r=t.g,o=t.b,(s=t.a)<1?"rgba("+n+", "+r+", "+o+", "+s+")":"rgb("+n+", "+r+", "+o+")";var t,n,r,o,s},e.prototype.toHsl=function(){return sm(Zs(this.rgba))},e.prototype.toHslString=function(){return t=sm(Zs(this.rgba)),n=t.h,r=t.s,o=t.l,(s=t.a)<1?"hsla("+n+", "+r+"%, "+o+"%, "+s+")":"hsl("+n+", "+r+"%, "+o+"%)";var t,n,r,o,s},e.prototype.toHsv=function(){return t=nm(this.rgba),{h:pt(t.h),s:pt(t.s),v:pt(t.v),a:pt(t.a,3)};var t},e.prototype.invert=function(){return Hn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Hn(qu(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Hn(qu(this.rgba,-t))},e.prototype.grayscale=function(){return Hn(qu(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Hn(lm(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Hn(lm(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Hn({r:(n=this.rgba).r,g:n.g,b:n.b,a:t}):pt(this.rgba.a,3);var n},e.prototype.hue=function(t){var n=Zs(this.rgba);return typeof t=="number"?Hn({h:t,s:n.s,l:n.l,a:n.a}):pt(n.h)},e.prototype.isEqual=function(t){return this.toHex()===Hn(t).toHex()},e}(),Hn=function(e){return e instanceof Xu?e:new Xu(e)},cm=[],p5=function(e){e.forEach(function(t){cm.indexOf(t)<0&&(t(Xu,Ku),cm.push(t))})};function h5(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var o in n)r[n[o]]=o;var s={};e.prototype.toName=function(i){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,u=r[this.toHex()];if(u)return u;if(i!=null&&i.closest){var d=this.toRgb(),p=1/0,h="black";if(!s.length)for(var g in n)s[g]=new e(n[g]).toRgb();for(var v in n){var b=(a=d,c=s[v],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));b<p&&(p=b,h=v)}return h}},t.string.push([function(i){var a=i.toLowerCase(),c=a==="transparent"?"#0000":n[a];return c?new e(c).toRgb():null},"name"])}function Ma(){return(Ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function um(e,t){if(e==null)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(o[n]=e[n]);return o}function Zu(e){var t=f.useRef(e),n=f.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var Wo=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Js=function(e){return"touches"in e},Ju=function(e){return e&&e.ownerDocument.defaultView||self},dm=function(e,t,n){var r=e.getBoundingClientRect(),o=Js(t)?function(s,i){for(var a=0;a<s.length;a++)if(s[a].identifier===i)return s[a];return s[0]}(t.touches,n):t;return{left:Wo((o.pageX-(r.left+Ju(e).pageXOffset))/r.width),top:Wo((o.pageY-(r.top+Ju(e).pageYOffset))/r.height)}},fm=function(e){!Js(e)&&e.preventDefault()},Qu=f.memo(function(e){var t=e.onMove,n=e.onKey,r=um(e,["onMove","onKey"]),o=f.useRef(null),s=Zu(t),i=Zu(n),a=f.useRef(null),c=f.useRef(!1),u=f.useMemo(function(){var g=function(y){fm(y),(Js(y)?y.touches.length>0:y.buttons>0)&&o.current?s(dm(o.current,y,a.current)):b(!1)},v=function(){return b(!1)};function b(y){var m=c.current,x=Ju(o.current),w=y?x.addEventListener:x.removeEventListener;w(m?"touchmove":"mousemove",g),w(m?"touchend":"mouseup",v)}return[function(y){var m=y.nativeEvent,x=o.current;if(x&&(fm(m),!function(S,C){return C&&!Js(S)}(m,c.current)&&x)){if(Js(m)){c.current=!0;var w=m.changedTouches||[];w.length&&(a.current=w[0].identifier)}x.focus(),s(dm(x,m,a.current)),b(!0)}},function(y){var m=y.which||y.keyCode;m<37||m>40||(y.preventDefault(),i({left:m===39?.05:m===37?-.05:0,top:m===40?.05:m===38?-.05:0}))},b]},[i,s]),d=u[0],p=u[1],h=u[2];return f.useEffect(function(){return h},[h]),f.createElement("div",Ma({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:o,onKeyDown:p,tabIndex:0,role:"slider"}))}),ka=function(e){return e.filter(Boolean).join(" ")},ed=function(e){var t=e.color,n=e.left,r=e.top,o=r===void 0?.5:r,s=ka(["react-colorful__pointer",e.className]);return f.createElement("div",{className:s,style:{top:100*o+"%",left:100*n+"%"}},f.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Et=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},pm=function(e){var t=e.s,n=e.v,r=e.a,o=(200-t)*n/100;return{h:Et(e.h),s:Et(o>0&&o<200?t*n/100/(o<=100?o:200-o)*100:0),l:Et(o/2),a:Et(r,2)}},td=function(e){var t=pm(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},nd=function(e){var t=pm(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},g5=function(e){var t=e.h,n=e.s,r=e.v,o=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),i=r*(1-n),a=r*(1-(t-s)*n),c=r*(1-(1-t+s)*n),u=s%6;return{r:Et(255*[r,a,i,i,c,r][u]),g:Et(255*[c,r,r,a,i,i][u]),b:Et(255*[i,i,c,r,r,a][u]),a:Et(o,2)}},m5=function(e){var t=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i.exec(e);return t?v5({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):{h:0,s:0,v:0,a:1}},v5=function(e){var t=e.r,n=e.g,r=e.b,o=e.a,s=Math.max(t,n,r),i=s-Math.min(t,n,r),a=i?s===t?(n-r)/i:s===n?2+(r-t)/i:4+(t-n)/i:0;return{h:Et(60*(a<0?a+6:a)),s:Et(s?i/s*100:0),v:Et(s/255*100),a:o}},b5=f.memo(function(e){var t=e.hue,n=e.onChange,r=ka(["react-colorful__hue",e.className]);return f.createElement("div",{className:r},f.createElement(Qu,{onMove:function(o){n({h:360*o.left})},onKey:function(o){n({h:Wo(t+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":Et(t),"aria-valuemax":"360","aria-valuemin":"0"},f.createElement(ed,{className:"react-colorful__hue-pointer",left:t/360,color:td({h:t,s:100,v:100,a:1})})))}),y5=f.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:td({h:t.h,s:100,v:100,a:1})};return f.createElement("div",{className:"react-colorful__saturation",style:r},f.createElement(Qu,{onMove:function(o){n({s:100*o.left,v:100-100*o.top})},onKey:function(o){n({s:Wo(t.s+100*o.left,0,100),v:Wo(t.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Et(t.s)+"%, Brightness "+Et(t.v)+"%"},f.createElement(ed,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:td(t)})))}),x5=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},w5=function(e,t){return e.replace(/\s/g,"")===t.replace(/\s/g,"")};function S5(e,t,n){var r=Zu(n),o=f.useState(function(){return e.toHsva(t)}),s=o[0],i=o[1],a=f.useRef({color:t,hsva:s});f.useEffect(function(){if(!e.equal(t,a.current.color)){var u=e.toHsva(t);a.current={hsva:u,color:t},i(u)}},[t,e]),f.useEffect(function(){var u;x5(s,a.current.hsva)||e.equal(u=e.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,e,r]);var c=f.useCallback(function(u){i(function(d){return Object.assign({},d,u)})},[]);return[s,c]}var j5=typeof window<"u"?f.useLayoutEffect:f.useEffect,C5=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},hm=new Map,E5=function(e){j5(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!hm.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,hm.set(t,n);var r=C5();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},_5=function(e){var t=e.className,n=e.hsva,r=e.onChange,o={backgroundImage:"linear-gradient(90deg, "+nd(Object.assign({},n,{a:0}))+", "+nd(Object.assign({},n,{a:1}))+")"},s=ka(["react-colorful__alpha",t]),i=Et(100*n.a);return f.createElement("div",{className:s},f.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),f.createElement(Qu,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Wo(n.a+a.left)})},"aria-label":"Alpha","aria-valuetext":i+"%","aria-valuenow":i,"aria-valuemin":"0","aria-valuemax":"100"},f.createElement(ed,{className:"react-colorful__alpha-pointer",left:n.a,color:nd(n)})))},O5=function(e){var t=e.className,n=e.colorModel,r=e.color,o=r===void 0?n.defaultColor:r,s=e.onChange,i=um(e,["className","colorModel","color","onChange"]),a=f.useRef(null);E5(a);var c=S5(n,o,s),u=c[0],d=c[1],p=ka(["react-colorful",t]);return f.createElement("div",Ma({},i,{ref:a,className:p}),f.createElement(y5,{hsva:u,onChange:d}),f.createElement(b5,{hue:u.h,onChange:d}),f.createElement(_5,{hsva:u,onChange:d,className:"react-colorful__last-control"}))},P5={defaultColor:"rgba(0, 0, 0, 1)",toHsva:m5,fromHsva:function(e){var t=g5(e);return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},equal:w5},T5=function(e){return f.createElement(O5,Ma({},e,{colorModel:P5}))},La=(e=>(e.m="m",e.s="s",e))(La||{});const gm=e=>zs(e)?e:"",rd=(e={})=>P("w-full placeholder:italic",V.bgTr,ro.inputText,e.disabled&&V.txtLowEmphasis),A5="gs-cmp-input-field",rt=f.forwardRef(function(t,n){const{className:r,value:o,label:s,size:i="m",type:a,placeholder:c,required:u,disabled:d,readOnly:p,description:h,onInput:g,onChange:v}=t,[b,y]=f.useState(gm(o)),m=rd(t),x=f.useRef(null);f.useImperativeHandle(n,()=>x.current,[]),f.useEffect(()=>{y(gm(o))},[o]),f.useEffect(()=>{g&&setTimeout(()=>g(b))},[b]);const w=(j,E)=>{v==null||v(j,E)},S=j=>{const{key:E}=j;switch(E){case"Escape":return y(o);case"Enter":return w(b)}},C=()=>{w(b)};return l.jsxs("div",{className:P(A5,r),ref:x,children:[!!s&&l.jsx(vt,{size:i,children:s}),!!h&&l.jsx(vt,{size:i,as:"span",className:P(V.txtLowEmphasis),capitalize:!1,children:h}),l.jsx(D,{className:P(V.bg,J.b,J.rnd,V.br,i==="m"&&_e.xy,i==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:l.jsx(k,{grow:!0,children:l.jsx("input",{className:m,value:b,onChange:j=>y(j.target.value),placeholder:c,required:u,onBlur:C,onKeyDown:S,readOnly:p,disabled:d,type:a})})})]})});var mm,vm=Pt;mm=vm.createRoot,vm.hydrateRoot;function bm(e,t){f.useEffect(()=>{const n="pointerdown",{current:r}=e;if(!r||!t.enabled)return;function o(s){const i=s.target;r&&i&&!r.contains(i)&&t.onTrigger(i)}return document.addEventListener(n,o),()=>{document.removeEventListener(n,o)}},[e.current,t.enabled])}const ym=(e,t)=>{const{boxRectScreen:n,vwHeight:r,initialPos:o="top-right"}=t,s=o.split("-"),i=s[0],a=s[1],c=i==="top"?"bottom":"top",u=a==="right"?"left":"right";f.useLayoutEffect(()=>{const d=e.current;if(d){const{offsetWidth:p,offsetHeight:h}=d,g=n.y-h,v=n.x+n.width-p,b=n.height+h>r,y=g<0,m=y&&!b?c:i,x=v<0?u:a;if(t.setPos(`${m}-${x}`),b){const w=n.y+n.height,S=w<0?g-w:g;d.style.top=y?`${parseInt(`${-S}`)}px`:""}else d.style.top=""}},[e.current,n])},xm=e=>{const{ref:t,show:n,node:r,styles:o,update:s,reload:i}=e,a={all:"initial",zIndex:"10",fontFamily:"inherit",...o};f.useEffect(()=>{const c=t.current;if(c&&n){if(!c.__sh){const p=c.attachShadow({mode:"closed"});c.__sh=mm(p)}c.__sh.render(r),Object.keys(a).forEach(p=>{c.style.setProperty(Dw(p),a[p],"important")});const u=new MutationObserver(i);u.observe(c,{attributeFilter:["style"]});const d=new MutationObserver(p=>p[0].removedNodes&&i());return d.observe(c.parentNode,{childList:!0}),()=>{u.disconnect(),d.disconnect()}}},[t.current,n,s])};function ur({children:e,handler:t,title:n,size:r,padding:o=!0,overlay:s,clickAway:i,topIcon:a,pos:c,open:u,onClose:d,buttonAs:p,className:h,buttonProps:g={}}){const v=f.useRef(null),b=f.useRef(null),[y,m]=f.useState(!!u),[x,w]=f.useState({top:0,left:0}),S=()=>{m(!1),d==null||d()};bm(b,{onTrigger:S,enabled:i&&y}),f.useEffect(()=>{m(!!u)},[u]),f.useEffect(()=>{const j=v.current,E=b.current;j&&E&&y&&setTimeout(()=>w(rg(j,E,c)))},[v,b,y]);const C=P("w-full transition-colors",...dh({border:!1,size:"",...g}));return l.jsxs(Hs,{className:P("gjs-popover relative flex",h),children:[l.jsx(Hs.Button,{ref:v,as:p,className:C,children:l.jsx("div",{onClick:()=>!zs(u)&&m(!y),children:t})}),y&&s&&l.jsx("div",{onClick:S,className:P("z-10 fixed inset-0")}),l.jsx(In,{as:f.Fragment,show:y,unmount:!1,...Nc,children:l.jsx(Hs.Panel,{className:P(["fixed z-20",a&&"gjs-mt-5",r==="s"&&"w-full max-w-64",r==="sm"&&"w-full max-w-sm",r==="md"&&"w-full max-w-md"]),onClick:Lo,style:x,static:!0,children:l.jsx(Ut,{ref:b,title:n,onClose:S,padding:o,children:y?typeof e=="function"?e({close:S}):e:null})})})]})}p5([h5]);const M5={backgroundSize:"10px"},k5={position:{x:"left"},offset:{x:40,y:-30}},L5=e=>e.startsWith("rgba")?e:Hn(e).toRgbString();function wm({className:e,value:t,onChange:n}){const r=L5(t||""),o=!!window.EyeDropper,s=P("bg-checker overflow-hidden cursor-pointer",e,J.b,J.rnd,V.br),i=l.jsx("div",{style:M5,className:s,children:l.jsx("div",{className:P("w-4 h-4"),style:{backgroundColor:t}})}),a=u=>{n==null||n(u,!0)},c=()=>{o&&new EyeDropper().open().then(d=>a(d.sRGBHex))};return l.jsxs(ur,{handler:i,title:"Color",size:"s",pos:k5,static:!0,clickAway:!0,children:[l.jsx(T5,{className:"color-picker",color:r,onChange:a,onPointerUp:()=>n==null?void 0:n(r,!1)}),l.jsxs(D,{className:P("gjs-mt-3"),space:"s",children:[l.jsx(k,{grow:!0,children:l.jsx(rt,{size:"s",value:r,onChange:a})}),o&&l.jsx(ze,{type:"button",onClick:c,children:l.jsx(Z,{icon:Y.eyedropperVariant,size:ie.s})})]})]})}const Sm=e=>zs(e)?e:"",N5="gs-cmp-color-field";function dr({className:e,value:t,label:n,size:r="m",placeholder:o,preventSubmitOnEnter:s=!1,onChange:i}){const[a,c]=f.useState(Sm(t));f.useEffect(()=>{c(Sm(t))},[t]);const u=(h,g)=>{i==null||i(h,g)},d=h=>{switch(h.key){case"Escape":return c(t);case"Enter":u(a),s&&(h.preventDefault(),h.stopPropagation())}},p=()=>{u(a)};return l.jsxs("div",{className:P(N5,e),children:[!!n&&l.jsx(vt,{size:r,children:n}),l.jsxs(D,{className:P(V.bg,V.br,J.b,J.rnd,r==="m"&&_e.xy,r==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"s",children:[l.jsx(k,{children:l.jsx(wm,{value:t,onChange:i})}),l.jsx(k,{grow:!0,children:l.jsx("input",{className:P("w-full focus:gs-utl-outline-none",V.bgTr),value:a,onChange:h=>c(h.target.value),placeholder:o,onBlur:p,onKeyDown:d})})]})]})}var jm=function(t){return t.reduce(function(n,r){var o=r[0],s=r[1];return n[o]=s,n},{})},Cm=typeof window<"u"&&window.document&&window.document.createElement?ke.useLayoutEffect:ke.useEffect,Mt="top",sn="bottom",an="right",kt="left",od="auto",Qs=[Mt,sn,an,kt],Go="start",ei="end",$5="clippingParents",Em="viewport",ti="popper",D5="reference",_m=Qs.reduce(function(e,t){return e.concat([t+"-"+Go,t+"-"+ei])},[]),Om=[].concat(Qs,[od]).reduce(function(e,t){return e.concat([t,t+"-"+Go,t+"-"+ei])},[]),I5="beforeRead",V5="read",H5="afterRead",B5="beforeMain",z5="main",F5="afterMain",R5="beforeWrite",U5="write",W5="afterWrite",G5=[I5,V5,H5,B5,z5,F5,R5,U5,W5];function Bn(e){return e?(e.nodeName||"").toLowerCase():null}function Kt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function fo(e){var t=Kt(e).Element;return e instanceof t||e instanceof Element}function ln(e){var t=Kt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function sd(e){if(typeof ShadowRoot>"u")return!1;var t=Kt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function K5(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var r=t.styles[n]||{},o=t.attributes[n]||{},s=t.elements[n];!ln(s)||!Bn(s)||(Object.assign(s.style,r),Object.keys(o).forEach(function(i){var a=o[i];a===!1?s.removeAttribute(i):s.setAttribute(i,a===!0?"":a)}))})}function q5(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(r){var o=t.elements[r],s=t.attributes[r]||{},i=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:n[r]),a=i.reduce(function(c,u){return c[u]="",c},{});!ln(o)||!Bn(o)||(Object.assign(o.style,a),Object.keys(s).forEach(function(c){o.removeAttribute(c)}))})}}const Y5={name:"applyStyles",enabled:!0,phase:"write",fn:K5,effect:q5,requires:["computeStyles"]};function zn(e){return e.split("-")[0]}var po=Math.max,Na=Math.min,Ko=Math.round;function id(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Pm(){return!/^((?!chrome|android).)*safari/i.test(id())}function qo(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,s=1;t&&ln(e)&&(o=e.offsetWidth>0&&Ko(r.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Ko(r.height)/e.offsetHeight||1);var i=fo(e)?Kt(e):window,a=i.visualViewport,c=!Pm()&&n,u=(r.left+(c&&a?a.offsetLeft:0))/o,d=(r.top+(c&&a?a.offsetTop:0))/s,p=r.width/o,h=r.height/s;return{width:p,height:h,top:d,right:u+p,bottom:d+h,left:u,x:u,y:d}}function ad(e){var t=qo(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Tm(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sd(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function fr(e){return Kt(e).getComputedStyle(e)}function X5(e){return["table","td","th"].indexOf(Bn(e))>=0}function Nr(e){return((fo(e)?e.ownerDocument:e.document)||window.document).documentElement}function $a(e){return Bn(e)==="html"?e:e.assignedSlot||e.parentNode||(sd(e)?e.host:null)||Nr(e)}function Am(e){return!ln(e)||fr(e).position==="fixed"?null:e.offsetParent}function Z5(e){var t=/firefox/i.test(id()),n=/Trident/i.test(id());if(n&&ln(e)){var r=fr(e);if(r.position==="fixed")return null}var o=$a(e);for(sd(o)&&(o=o.host);ln(o)&&["html","body"].indexOf(Bn(o))<0;){var s=fr(o);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return o;o=o.parentNode}return null}function ni(e){for(var t=Kt(e),n=Am(e);n&&X5(n)&&fr(n).position==="static";)n=Am(n);return n&&(Bn(n)==="html"||Bn(n)==="body"&&fr(n).position==="static")?t:n||Z5(e)||t}function ld(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ri(e,t,n){return po(e,Na(t,n))}function J5(e,t,n){var r=ri(e,t,n);return r>n?n:r}function Mm(){return{top:0,right:0,bottom:0,left:0}}function km(e){return Object.assign({},Mm(),e)}function Lm(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var Q5=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,km(typeof t!="number"?t:Lm(t,Qs))};function eP(e){var t,n=e.state,r=e.name,o=e.options,s=n.elements.arrow,i=n.modifiersData.popperOffsets,a=zn(n.placement),c=ld(a),u=[kt,an].indexOf(a)>=0,d=u?"height":"width";if(!(!s||!i)){var p=Q5(o.padding,n),h=ad(s),g=c==="y"?Mt:kt,v=c==="y"?sn:an,b=n.rects.reference[d]+n.rects.reference[c]-i[c]-n.rects.popper[d],y=i[c]-n.rects.reference[c],m=ni(s),x=m?c==="y"?m.clientHeight||0:m.clientWidth||0:0,w=b/2-y/2,S=p[g],C=x-h[d]-p[v],j=x/2-h[d]/2+w,E=ri(S,j,C),O=c;n.modifiersData[r]=(t={},t[O]=E,t.centerOffset=E-j,t)}}function tP(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||Tm(t.elements.popper,o)&&(t.elements.arrow=o))}const nP={name:"arrow",enabled:!0,phase:"main",fn:eP,effect:tP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yo(e){return e.split("-")[1]}var rP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function oP(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Ko(n*o)/o||0,y:Ko(r*o)/o||0}}function Nm(e){var t,n=e.popper,r=e.popperRect,o=e.placement,s=e.variation,i=e.offsets,a=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,p=e.isFixed,h=i.x,g=h===void 0?0:h,v=i.y,b=v===void 0?0:v,y=typeof d=="function"?d({x:g,y:b}):{x:g,y:b};g=y.x,b=y.y;var m=i.hasOwnProperty("x"),x=i.hasOwnProperty("y"),w=kt,S=Mt,C=window;if(u){var j=ni(n),E="clientHeight",O="clientWidth";if(j===Kt(n)&&(j=Nr(n),fr(j).position!=="static"&&a==="absolute"&&(E="scrollHeight",O="scrollWidth")),j=j,o===Mt||(o===kt||o===an)&&s===ei){S=sn;var A=p&&j===C&&C.visualViewport?C.visualViewport.height:j[E];b-=A-r.height,b*=c?1:-1}if(o===kt||(o===Mt||o===sn)&&s===ei){w=an;var _=p&&j===C&&C.visualViewport?C.visualViewport.width:j[O];g-=_-r.width,g*=c?1:-1}}var T=Object.assign({position:a},u&&rP),N=d===!0?oP({x:g,y:b},Kt(n)):{x:g,y:b};if(g=N.x,b=N.y,c){var B;return Object.assign({},T,(B={},B[S]=x?"0":"",B[w]=m?"0":"",B.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+b+"px)":"translate3d("+g+"px, "+b+"px, 0)",B))}return Object.assign({},T,(t={},t[S]=x?b+"px":"",t[w]=m?g+"px":"",t.transform="",t))}function sP(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,s=n.adaptive,i=s===void 0?!0:s,a=n.roundOffsets,c=a===void 0?!0:a,u={placement:zn(t.placement),variation:Yo(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Nm(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Nm(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const iP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sP,data:{}};var Da={passive:!0};function aP(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,s=o===void 0?!0:o,i=r.resize,a=i===void 0?!0:i,c=Kt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",n.update,Da)}),a&&c.addEventListener("resize",n.update,Da),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",n.update,Da)}),a&&c.removeEventListener("resize",n.update,Da)}}const lP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:aP,data:{}};var cP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ia(e){return e.replace(/left|right|bottom|top/g,function(t){return cP[t]})}var uP={start:"end",end:"start"};function $m(e){return e.replace(/start|end/g,function(t){return uP[t]})}function cd(e){var t=Kt(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ud(e){return qo(Nr(e)).left+cd(e).scrollLeft}function dP(e,t){var n=Kt(e),r=Nr(e),o=n.visualViewport,s=r.clientWidth,i=r.clientHeight,a=0,c=0;if(o){s=o.width,i=o.height;var u=Pm();(u||!u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:s,height:i,x:a+ud(e),y:c}}function fP(e){var t,n=Nr(e),r=cd(e),o=(t=e.ownerDocument)==null?void 0:t.body,s=po(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=po(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+ud(e),c=-r.scrollTop;return fr(o||n).direction==="rtl"&&(a+=po(n.clientWidth,o?o.clientWidth:0)-s),{width:s,height:i,x:a,y:c}}function dd(e){var t=fr(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Dm(e){return["html","body","#document"].indexOf(Bn(e))>=0?e.ownerDocument.body:ln(e)&&dd(e)?e:Dm($a(e))}function oi(e,t){var n;t===void 0&&(t=[]);var r=Dm(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),s=Kt(r),i=o?[s].concat(s.visualViewport||[],dd(r)?r:[]):r,a=t.concat(i);return o?a:a.concat(oi($a(i)))}function fd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function pP(e,t){var n=qo(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Im(e,t,n){return t===Em?fd(dP(e,n)):fo(t)?pP(t,n):fd(fP(Nr(e)))}function hP(e){var t=oi($a(e)),n=["absolute","fixed"].indexOf(fr(e).position)>=0,r=n&&ln(e)?ni(e):e;return fo(r)?t.filter(function(o){return fo(o)&&Tm(o,r)&&Bn(o)!=="body"}):[]}function gP(e,t,n,r){var o=t==="clippingParents"?hP(e):[].concat(t),s=[].concat(o,[n]),i=s[0],a=s.reduce(function(c,u){var d=Im(e,u,r);return c.top=po(d.top,c.top),c.right=Na(d.right,c.right),c.bottom=Na(d.bottom,c.bottom),c.left=po(d.left,c.left),c},Im(e,i,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Vm(e){var t=e.reference,n=e.element,r=e.placement,o=r?zn(r):null,s=r?Yo(r):null,i=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,c;switch(o){case Mt:c={x:i,y:t.y-n.height};break;case sn:c={x:i,y:t.y+t.height};break;case an:c={x:t.x+t.width,y:a};break;case kt:c={x:t.x-n.width,y:a};break;default:c={x:t.x,y:t.y}}var u=o?ld(o):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Go:c[u]=c[u]-(t[d]/2-n[d]/2);break;case ei:c[u]=c[u]+(t[d]/2-n[d]/2);break}}return c}function si(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,s=n.strategy,i=s===void 0?e.strategy:s,a=n.boundary,c=a===void 0?$5:a,u=n.rootBoundary,d=u===void 0?Em:u,p=n.elementContext,h=p===void 0?ti:p,g=n.altBoundary,v=g===void 0?!1:g,b=n.padding,y=b===void 0?0:b,m=km(typeof y!="number"?y:Lm(y,Qs)),x=h===ti?D5:ti,w=e.rects.popper,S=e.elements[v?x:h],C=gP(fo(S)?S:S.contextElement||Nr(e.elements.popper),c,d,i),j=qo(e.elements.reference),E=Vm({reference:j,element:w,strategy:"absolute",placement:o}),O=fd(Object.assign({},w,E)),A=h===ti?O:j,_={top:C.top-A.top+m.top,bottom:A.bottom-C.bottom+m.bottom,left:C.left-A.left+m.left,right:A.right-C.right+m.right},T=e.modifiersData.offset;if(h===ti&&T){var N=T[o];Object.keys(_).forEach(function(B){var $=[an,sn].indexOf(B)>=0?1:-1,M=[Mt,sn].indexOf(B)>=0?"y":"x";_[B]+=N[M]*$})}return _}function mP(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,s=n.rootBoundary,i=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?Om:c,d=Yo(r),p=d?a?_m:_m.filter(function(v){return Yo(v)===d}):Qs,h=p.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=p);var g=h.reduce(function(v,b){return v[b]=si(e,{placement:b,boundary:o,rootBoundary:s,padding:i})[zn(b)],v},{});return Object.keys(g).sort(function(v,b){return g[v]-g[b]})}function vP(e){if(zn(e)===od)return[];var t=Ia(e);return[$m(e),t,$m(t)]}function bP(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!0:i,c=n.fallbackPlacements,u=n.padding,d=n.boundary,p=n.rootBoundary,h=n.altBoundary,g=n.flipVariations,v=g===void 0?!0:g,b=n.allowedAutoPlacements,y=t.options.placement,m=zn(y),x=m===y,w=c||(x||!v?[Ia(y)]:vP(y)),S=[y].concat(w).reduce(function(X,Q){return X.concat(zn(Q)===od?mP(t,{placement:Q,boundary:d,rootBoundary:p,padding:u,flipVariations:v,allowedAutoPlacements:b}):Q)},[]),C=t.rects.reference,j=t.rects.popper,E=new Map,O=!0,A=S[0],_=0;_<S.length;_++){var T=S[_],N=zn(T),B=Yo(T)===Go,$=[Mt,sn].indexOf(N)>=0,M=$?"width":"height",L=si(t,{placement:T,boundary:d,rootBoundary:p,altBoundary:h,padding:u}),F=$?B?an:kt:B?sn:Mt;C[M]>j[M]&&(F=Ia(F));var R=Ia(F),I=[];if(s&&I.push(L[N]<=0),a&&I.push(L[F]<=0,L[R]<=0),I.every(function(X){return X})){A=T,O=!1;break}E.set(T,I)}if(O)for(var z=v?3:1,U=function(Q){var ce=S.find(function(te){var G=E.get(te);if(G)return G.slice(0,Q).every(function(W){return W})});if(ce)return A=ce,"break"},K=z;K>0;K--){var ee=U(K);if(ee==="break")break}t.placement!==A&&(t.modifiersData[r]._skip=!0,t.placement=A,t.reset=!0)}}const yP={name:"flip",enabled:!0,phase:"main",fn:bP,requiresIfExists:["offset"],data:{_skip:!1}};function Hm(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Bm(e){return[Mt,an,sn,kt].some(function(t){return e[t]>=0})}function xP(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,s=t.modifiersData.preventOverflow,i=si(t,{elementContext:"reference"}),a=si(t,{altBoundary:!0}),c=Hm(i,r),u=Hm(a,o,s),d=Bm(c),p=Bm(u);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const wP={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xP};function SP(e,t,n){var r=zn(e),o=[kt,Mt].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,i=s[0],a=s[1];return i=i||0,a=(a||0)*o,[kt,an].indexOf(r)>=0?{x:a,y:i}:{x:i,y:a}}function jP(e){var t=e.state,n=e.options,r=e.name,o=n.offset,s=o===void 0?[0,0]:o,i=Om.reduce(function(d,p){return d[p]=SP(p,t.rects,s),d},{}),a=i[t.placement],c=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}const CP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jP};function EP(e){var t=e.state,n=e.name;t.modifiersData[n]=Vm({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const _P={name:"popperOffsets",enabled:!0,phase:"read",fn:EP,data:{}};function OP(e){return e==="x"?"y":"x"}function PP(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,s=o===void 0?!0:o,i=n.altAxis,a=i===void 0?!1:i,c=n.boundary,u=n.rootBoundary,d=n.altBoundary,p=n.padding,h=n.tether,g=h===void 0?!0:h,v=n.tetherOffset,b=v===void 0?0:v,y=si(t,{boundary:c,rootBoundary:u,padding:p,altBoundary:d}),m=zn(t.placement),x=Yo(t.placement),w=!x,S=ld(m),C=OP(S),j=t.modifiersData.popperOffsets,E=t.rects.reference,O=t.rects.popper,A=typeof b=="function"?b(Object.assign({},t.rects,{placement:t.placement})):b,_=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(j){if(s){var B,$=S==="y"?Mt:kt,M=S==="y"?sn:an,L=S==="y"?"height":"width",F=j[S],R=F+y[$],I=F-y[M],z=g?-O[L]/2:0,U=x===Go?E[L]:O[L],K=x===Go?-O[L]:-E[L],ee=t.elements.arrow,X=g&&ee?ad(ee):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Mm(),ce=Q[$],te=Q[M],G=ri(0,E[L],X[L]),W=w?E[L]/2-z-G-ce-_.mainAxis:U-G-ce-_.mainAxis,se=w?-E[L]/2+z+G+te+_.mainAxis:K+G+te+_.mainAxis,ne=t.elements.arrow&&ni(t.elements.arrow),be=ne?S==="y"?ne.clientTop||0:ne.clientLeft||0:0,ye=(B=T==null?void 0:T[S])!=null?B:0,Oe=F+W-ye-be,He=F+se-ye,_t=ri(g?Na(R,Oe):R,F,g?po(I,He):I);j[S]=_t,N[S]=_t-F}if(a){var dt,Je=S==="x"?Mt:kt,br=S==="x"?sn:an,ft=j[C],qt=C==="y"?"height":"width",En=ft+y[Je],yt=ft-y[br],st=[Mt,kt].indexOf(m)!==-1,gt=(dt=T==null?void 0:T[C])!=null?dt:0,_n=st?En:ft-E[qt]-O[qt]-gt+_.altAxis,Ot=st?ft+E[qt]+O[qt]-gt-_.altAxis:yt,On=g&&st?J5(_n,ft,Ot):ri(g?_n:En,ft,g?Ot:yt);j[C]=On,N[C]=On-ft}t.modifiersData[r]=N}}const TP={name:"preventOverflow",enabled:!0,phase:"main",fn:PP,requiresIfExists:["offset"]};function AP(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function MP(e){return e===Kt(e)||!ln(e)?cd(e):AP(e)}function kP(e){var t=e.getBoundingClientRect(),n=Ko(t.width)/e.offsetWidth||1,r=Ko(t.height)/e.offsetHeight||1;return n!==1||r!==1}function LP(e,t,n){n===void 0&&(n=!1);var r=ln(t),o=ln(t)&&kP(t),s=Nr(t),i=qo(e,o,n),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((Bn(t)!=="body"||dd(s))&&(a=MP(t)),ln(t)?(c=qo(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=ud(s))),{x:i.left+a.scrollLeft-c.x,y:i.top+a.scrollTop-c.y,width:i.width,height:i.height}}function NP(e){var t=new Map,n=new Set,r=[];e.forEach(function(s){t.set(s.name,s)});function o(s){n.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(a){if(!n.has(a)){var c=t.get(a);c&&o(c)}}),r.push(s)}return e.forEach(function(s){n.has(s.name)||o(s)}),r}function $P(e){var t=NP(e);return G5.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function DP(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function IP(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var zm={placement:"bottom",modifiers:[],strategy:"absolute"};function Fm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function VP(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,s=o===void 0?zm:o;return function(a,c,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},zm,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},p=[],h=!1,g={state:d,setOptions:function(m){var x=typeof m=="function"?m(d.options):m;b(),d.options=Object.assign({},s,d.options,x),d.scrollParents={reference:fo(a)?oi(a):a.contextElement?oi(a.contextElement):[],popper:oi(c)};var w=$P(IP([].concat(r,d.options.modifiers)));return d.orderedModifiers=w.filter(function(S){return S.enabled}),v(),g.update()},forceUpdate:function(){if(!h){var m=d.elements,x=m.reference,w=m.popper;if(Fm(x,w)){d.rects={reference:LP(x,ni(w),d.options.strategy==="fixed"),popper:ad(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(_){return d.modifiersData[_.name]=Object.assign({},_.data)});for(var S=0;S<d.orderedModifiers.length;S++){if(d.reset===!0){d.reset=!1,S=-1;continue}var C=d.orderedModifiers[S],j=C.fn,E=C.options,O=E===void 0?{}:E,A=C.name;typeof j=="function"&&(d=j({state:d,options:O,name:A,instance:g})||d)}}}},update:DP(function(){return new Promise(function(y){g.forceUpdate(),y(d)})}),destroy:function(){b(),h=!0}};if(!Fm(a,c))return g;g.setOptions(u).then(function(y){!h&&u.onFirstUpdate&&u.onFirstUpdate(y)});function v(){d.orderedModifiers.forEach(function(y){var m=y.name,x=y.options,w=x===void 0?{}:x,S=y.effect;if(typeof S=="function"){var C=S({state:d,name:m,instance:g,options:w}),j=function(){};p.push(C||j)}})}function b(){p.forEach(function(y){return y()}),p=[]}return g}}var HP=[lP,_P,iP,Y5,CP,yP,TP,nP,wP],BP=VP({defaultModifiers:HP}),zP=typeof Element<"u",FP=typeof Map=="function",RP=typeof Set=="function",UP=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Va(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Va(e[r],t[r]))return!1;return!0}var s;if(FP&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!Va(r.value[1],t.get(r.value[0])))return!1;return!0}if(RP&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(UP&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(zP&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!Va(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var WP=function(t,n){try{return Va(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const GP=ql(WP);var KP=[],Ha=function(t,n,r){r===void 0&&(r={});var o=ke.useRef(null),s={onFirstUpdate:r.onFirstUpdate,placement:r.placement||"bottom",strategy:r.strategy||"absolute",modifiers:r.modifiers||KP},i=ke.useState({styles:{popper:{position:s.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),a=i[0],c=i[1],u=ke.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(g){var v=g.state,b=Object.keys(v.elements);Vb.flushSync(function(){c({styles:jm(b.map(function(y){return[y,v.styles[y]||{}]})),attributes:jm(b.map(function(y){return[y,v.attributes[y]]}))})})},requires:["computeStyles"]}},[]),d=ke.useMemo(function(){var h={onFirstUpdate:s.onFirstUpdate,placement:s.placement,strategy:s.strategy,modifiers:[].concat(s.modifiers,[u,{name:"applyStyles",enabled:!1}])};return GP(o.current,h)?o.current||h:(o.current=h,h)},[s.onFirstUpdate,s.placement,s.strategy,s.modifiers,u]),p=ke.useRef();return Cm(function(){p.current&&p.current.setOptions(d)},[d]),Cm(function(){if(!(t==null||n==null)){var h=r.createPopper||BP,g=h(t,n,d);return p.current=g,function(){g.destroy(),p.current=null}}},[t,n,r.createPopper]),{state:p.current?p.current.state:null,styles:a.styles,attributes:a.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}};const qP=(e,t)=>e.filter(n=>n.id===t)[0]||null,Rm=(e,t)=>(e==null?void 0:e.id)===(t==null?void 0:t.id),YP=(e,t)=>e.label.toLowerCase().indexOf(t.toLowerCase())>=0,Um=P("cursor-default select-none focus:gs-utl-outline-none","z-20 max-h-full"),pd={strategy:"fixed",placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{fallbackPlacements:["top"]}}]};function Wm(e){var s;const{option:t,active:n,selected:r}=e,o=((s=e.isSelected)==null?void 0:s.call(e))||!0;return l.jsxs(D,{items:"center",className:P([_e.xy,n&&$c.bgH]),children:[l.jsx(k,{className:P("truncate"),grow:!0,children:t.label}),l.jsx(k,{className:P("gjs-pl-2"),children:Rm(t,r)&&o&&l.jsx(Z,{className:P(V.tA),icon:Y.check,size:ie.s})})]})}const XP="gs-cmp-select-field";function Ee({value:e,onChange:t,onBlur:n,onFocus:r,handlerSelected:o,label:s,options:i,includeEmpty:a,className:c,search:u,fixed:d,open:p,caret:h=Y.chevronDown,size:g="m",width:v="",border:b,style:y,pos:m,emptyState:x="- Select an option -",autoFocus:w}){const[S,C]=f.useState(null),[j,E]=f.useState(null),[O,A]=f.useState(""),{styles:_,attributes:T}=Ha(S,j,pd),N=typeof u=="object"?u.onChange:void 0,B=[...i].filter(K=>u?N||YP(K,O):K),$=u&&(typeof u=="object"&&u.value||O),M=$&&B.length?B[0]:qP(B,e),L=K=>t(K.id),F={id:null,label:x},R=M?o?o(M):M.content||M.label:o?o(F):x;a&&B.unshift(F);const I=K=>{const{value:ee}=K.target,X=ee.trim();switch(K.key){case"Escape":t(null);break;case"Enter":t((B.length?B[0].id:X)||null);break;case" ":Lo(K);break}},z=P("gs-utl-w-full gs-utl-text-left gs-utl-cursor-pointer gs-utl-block",J.rnd,_s.focus),U=()=>{n==null||n()};return l.jsx(Vs,{value:M,onChange:L,children:({open:K})=>l.jsxs("div",{className:P(XP,"relative w-full text-sm"),style:y,children:[s&&l.jsx(Vs.Label,{children:l.jsx(vt,{as:"span",size:g,children:s})}),l.jsx(Vs.Button,{ref:C,className:z,tabIndex:u?-1:void 0,children:u?l.jsx("input",{autoFocus:w,value:typeof u=="object"&&u.value||O,className:P([c,"w-full",J.rnd,_s.focus,_e.xyS]),onChange:ee=>{A(ee.target.value),N==null||N(ee.target.value)},onKeyDown:I,onClick:Lo,onBlur:U,onFocus:r}):l.jsx(Ut,{border:b,size:g,title:R,icon:h,shadow:!1,className:P(c),titleClass:""})}),l.jsx(Vs.Options,{static:p,className:Um,ref:E,style:_.popper,...T.popper,children:l.jsxs(Ut,{padding:!1,className:P("h-full"),style:{minWidth:`${S==null?void 0:S.offsetWidth}px`,maxHeight:200},children:[!B.length&&u&&u!==!0&&l.jsx("div",{className:P(_e.xy),children:u.empty}),B.map((ee,X)=>l.jsx(Vs.Option,{value:ee,children:({active:Q,selected:ce})=>l.jsxs(D,{items:"center",className:P([_e.xy,Q&&$c.bgH]),children:[l.jsx(k,{className:P("truncate"),grow:!0,children:ee.content||ee.label}),l.jsx(k,{className:P("gjs-pl-2"),children:Rm(ee,M)&&!$&&l.jsx(Z,{className:P(V.tA),icon:Y.check,size:ie.s})})]})},X))]})})]})})}const ZP=e=>{const t=parseFloat(e),n=e.replace(`${t}`,"").trim();return{number:t||t===0?`${t}`:"",unit:n}},Gm=({value:e,step:t})=>{const n=parseFloat(`${e}`);let r=0;if(Math.floor(n)!==n&&t){const o=`${t}`.split(".")[1];r=(o==null?void 0:o.length)||0}return r?parseFloat(n.toFixed(r)):n},JP=({value:e,key:t,shiftKey:n,min:r,max:o,step:s=1})=>{const i=t==="ArrowUp",a=t==="ArrowDown";let c=null;if(i||a){c=Number(e);const u=parseFloat(`${s}`);i&&(c+=(n?10:1)*u),a&&(c-=(n?10:1)*u),c=`${Ba({min:r,max:o,value:c})}`,c=Gm({value:c,step:s})}return c},Ba=({min:e,max:t,value:n})=>{const r=parseFloat(`${n}`);let o=r||0;return jr(e)&&(o=Math.max(o,parseFloat(`${e}`)||0)),jr(t)&&(o=Math.min(o,parseFloat(`${t}`)||0)),`${`${r}`!=`${n}`?n:o}`},QP=(e,t,n,r={})=>{const o=parseInt(`${e}`,10)||0,{min:s,max:i,step:a=1}=r;let c=o;const u=p=>{const h=p.clientY-t,g=o-h*parseFloat(`${a}`);c=Gm({value:Ba({min:s,max:i,value:g}),step:a}),n(c,!0)},d=()=>{window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),n(c)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},eT=(e,t,n={})=>{const{partial:r}=n,o=(s,i)=>s===i||r&&s.startsWith(i);return t.some(s=>o(typeof s=="string"?s:s.id,e))},Km=e=>zs(e)?e:"",tT="gs-cmp-number-field";function je({className:e,value:t,units:n,valueUnit:r,label:o,size:s="m",pan:i=!0,min:a,max:c,step:u,placeholder:d,onChange:p,onChangeUnit:h}){const[g,v]=f.useState(Km(t)),[b,y]=f.useState(!1),m=(n==null?void 0:n.map(E=>({id:E,label:E})))||[],x={min:a,max:c,step:u};f.useEffect(()=>{v(Km(t))},[t,r]);const w=(E,O)=>{p==null||p(Ba({min:a,max:c,value:E}),O)},S=E=>{y(!0);const O=(A,_)=>{w(A,!!_),!_&&y(!1)};QP(g,E.clientY,O,x)},C=E=>{const{key:O,shiftKey:A}=E;switch(O){case"Escape":return v(t);case"Enter":return w(g)}const _=JP({step:u,value:t,key:O,shiftKey:A});_!==null&&(E.preventDefault(),w(_))},j=()=>{w(g)};return l.jsxs("div",{className:P(tT,e),children:[b&&l.jsx("div",{className:P("fixed inset-0 z-50 cursor-ns")}),!!o&&l.jsx(vt,{size:s,children:o}),l.jsxs(D,{className:P(V.bg,V.br,J.b,J.rnd,s==="m"&&_e.xy,s==="s"&&"gjs-px-3 gjs-py-1"),items:"center",space:"x2s",children:[!!i&&l.jsx(k,{onMouseDown:S,className:P("opacity-50 cursor-ns",s==="m"&&"-gjs-ml-3",s==="s"&&"-gjs-ml-2",i!==!0&&"gjs-mr-0.5 -gjs-ml-1"),children:i===!0?l.jsx(Z,{icon:Y.panVertical,size:ie.s2x}):i}),l.jsx(k,{grow:!0,children:l.jsx("input",{className:P("w-full",V.bgTr,ro.inputText),value:g,onChange:E=>v(E.target.value),placeholder:d,onBlur:j,onKeyDown:C})}),!!m.length&&l.jsx(k,{className:P(m.length===1&&"opacity-50 pointer-events-none"),children:l.jsx(Ee,{caret:"",size:"x2s",pos:"right",width:"75px",emptyState:"-",border:!1,value:r,onChange:E=>h==null?void 0:h(E),options:m})})]})]})}function nT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const za=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xo(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function hd(e){return"nodeType"in e}function $r(e){var t,n;return e?Xo(e)?e:hd(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function gd(e){const{Document:t}=$r(e);return e instanceof t}function Zo(e){return Xo(e)?!1:e instanceof $r(e).HTMLElement}function qm(e){return e instanceof $r(e).SVGElement}function Jo(e){return e?Xo(e)?e.document:hd(e)?gd(e)?e:Zo(e)||qm(e)?e.ownerDocument:document:document:document}const ho=za?f.useLayoutEffect:f.useEffect;function rT(e){const t=f.useRef(e);return ho(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function oT(){const e=f.useRef(null),t=f.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=f.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function ii(e,t){const n=f.useRef();return f.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function md(e){const t=rT(e),n=f.useRef(null),r=f.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}let vd={};function ai(e,t){return f.useMemo(()=>{if(t)return t;const n=vd[e]==null?0:vd[e]+1;return vd[e]=n,e+"-"+n},[e,t])}function Ym(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((s,i)=>{const a=Object.entries(i);for(const[c,u]of a){const d=s[c];d!=null&&(s[c]=d+e*u)}return s},{...t})}}const li=Ym(1),Xm=Ym(-1);function sT(e){return"clientX"in e&&"clientY"in e}function iT(e){if(!e)return!1;const{KeyboardEvent:t}=$r(e.target);return t&&e instanceof t}function aT(e){if(!e)return!1;const{TouchEvent:t}=$r(e.target);return t&&e instanceof t}function bd(e){if(aT(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return sT(e)?{x:e.clientX,y:e.clientY}:null}const ci=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ci.Translate.toString(e),ci.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),lT={display:"none"};function cT(e){let{id:t,value:n}=e;return f.createElement("div",{id:t,style:lT},n)}function uT(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return f.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function dT(){const[e,t]=f.useState("");return{announce:f.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const fT={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},pT={onDragStart(e){return`Picked up draggable item ${e}.`},onDragOver(e,t){return t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`},onDragEnd(e,t){return t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`},onDragCancel(e){return`Dragging was cancelled. Draggable item ${e} was dropped.`}};var Ke;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ke||(Ke={}));function yd(...e){}class ui extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(({disabled:t})=>!t)}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const Fa=f.createContext({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:yd,draggableNodes:{},droppableRects:new Map,droppableContainers:new ui,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:yd},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:yd,windowRect:null,willRecomputeLayouts:!1});function hT(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new ui}}}function gT(e,t){switch(t.type){case Ke.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ke.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Ke.DragEnd:case Ke.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ke.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new ui(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Ke.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const i=new ui(e.droppable.containers);return i.set(n,{...s,disabled:o}),{...e,droppable:{...e.droppable,containers:i}}}case Ke.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new ui(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}const Zm=f.createContext({type:null,event:null});function mT({onDragStart:e,onDragMove:t,onDragOver:n,onDragEnd:r,onDragCancel:o}){const s=f.useContext(Zm),i=f.useRef(s);f.useEffect(()=>{if(s!==i.current){const{type:a,event:c}=s;switch(a){case Ke.DragStart:e==null||e(c);break;case Ke.DragMove:t==null||t(c);break;case Ke.DragOver:n==null||n(c);break;case Ke.DragCancel:o==null||o(c);break;case Ke.DragEnd:r==null||r(c);break}i.current=s}},[s,e,t,n,r,o])}function vT({announcements:e=pT,hiddenTextDescribedById:t,screenReaderInstructions:n}){const{announce:r,announcement:o}=dT(),s=ai("DndLiveRegion"),[i,a]=f.useState(!1);return f.useEffect(()=>{a(!0)},[]),mT(f.useMemo(()=>({onDragStart({active:c}){r(e.onDragStart(c.id))},onDragMove({active:c,over:u}){e.onDragMove&&r(e.onDragMove(c.id,u==null?void 0:u.id))},onDragOver({active:c,over:u}){r(e.onDragOver(c.id,u==null?void 0:u.id))},onDragEnd({active:c,over:u}){r(e.onDragEnd(c.id,u==null?void 0:u.id))},onDragCancel({active:c}){r(e.onDragCancel(c.id))}}),[r,e])),i?Pt.createPortal(f.createElement(f.Fragment,null,f.createElement(cT,{id:t,value:n.draggable}),f.createElement(uT,{id:s,announcement:o})),document.body):null}const pr=Object.freeze({x:0,y:0});function Jm(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Qm(e,t=e.offsetLeft,n=e.offsetTop){return{x:t+e.width*.5,y:n+e.height*.5}}const bT=({collisionRect:e,droppableContainers:t})=>{const n=Qm(e,e.left,e.top);let r=1/0,o=null;for(const s of t){const{rect:{current:i}}=s;if(i){const a=Jm(Qm(i),n);a<r&&(r=a,o=s.id)}}return o};function yT(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function xT(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:pr}function wT(e){return function(n,...r){return r.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x,offsetLeft:o.offsetLeft+e*s.x,offsetTop:o.offsetTop+e*s.y}),{...n})}}const e1=wT(1);function ST(e,t=window.getComputedStyle(e)){return t.position==="fixed"}function jT(e,t=window.getComputedStyle(e)){const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].find(o=>{const s=t[o];return typeof s=="string"?n.test(s):!1})!=null}function xd(e){const t=[];function n(r){if(!r)return t;if(gd(r)&&r.scrollingElement!=null&&!t.includes(r.scrollingElement))return t.push(r.scrollingElement),t;if(!Zo(r)||qm(r)||t.includes(r))return t;const o=window.getComputedStyle(r);return jT(r,o)&&t.push(r),ST(r,o)?t:n(r.parentNode)}return e?n(e.parentNode):t}function wd(e){return!za||!e?null:Xo(e)?e:hd(e)?gd(e)||e===Jo(e).scrollingElement?window:Zo(e)?e:null:null}function Sd(e){return Xo(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var Qo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Qo||(Qo={}));function t1(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight},r=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=n.y,i=e.scrollLeft>=n.x;return{isTop:r,isLeft:o,isBottom:s,isRight:i,maxScroll:n,minScroll:t}}function CT(e){return!za||!e?!1:e===document.scrollingElement}const ET={x:.2,y:.2};function _T(e,t,{top:n,left:r,right:o,bottom:s},i=10,a=ET){const{clientHeight:c,clientWidth:u}=e,d=CT(e)?{top:0,left:0,right:u,bottom:c,width:u,height:c}:t,{isTop:p,isBottom:h,isLeft:g,isRight:v}=t1(e),b={x:0,y:0},y={x:0,y:0},m={height:d.height*a.y,width:d.width*a.x};return!p&&n<=d.top+m.height?(b.y=Qo.Backward,y.y=i*Math.abs((d.top+m.height-n)/m.height)):!h&&s>=d.bottom-m.height&&(b.y=Qo.Forward,y.y=i*Math.abs((d.bottom-m.height-s)/m.height)),!v&&o>=d.right-m.width?(b.x=Qo.Forward,y.x=i*Math.abs((d.right-m.width-o)/m.width)):!g&&r<=d.left+m.width&&(b.x=Qo.Backward,y.x=i*Math.abs((d.left+m.width-r)/m.width)),{direction:b,speed:y}}function OT(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function n1(e){return e.reduce((t,n)=>li(t,Sd(n)),pr)}function r1(e,t,n=pr){if(!e||!Zo(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:r1(e.offsetParent,t,r)}function Ra(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:o}=r1(e,null);return{width:t,height:n,offsetTop:o,offsetLeft:r}}function Ua(e){if(Xo(e)){const u=window.innerWidth,d=window.innerHeight;return{top:0,left:0,right:u,bottom:d,width:u,height:d,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=Ra(e),{width:r,height:o,top:s,bottom:i,left:a,right:c}=e.getBoundingClientRect();return{width:r,height:o,top:s,bottom:i,right:c,left:a,offsetTop:t,offsetLeft:n}}function jd(e){const{width:t,height:n,offsetTop:r,offsetLeft:o}=Ra(e),s=xd(e),i=n1(s),a=r-i.y,c=o-i.x;return{width:t,height:n,top:a,bottom:a+n,right:c+t,left:c,offsetTop:r,offsetLeft:o}}function o1(e){return"top"in e}function s1(e,t=e.offsetLeft,n=e.offsetTop){return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const PT=({collisionRect:e,droppableContainers:t})=>{let n=1/0,r=null;const o=s1(e,e.left,e.top);for(const s of t){const{rect:{current:i}}=s;if(i){const a=s1(i,o1(i)?i.left:void 0,o1(i)?i.top:void 0),c=o.reduce((d,p,h)=>d+Jm(a[h],p),0),u=Number((c/4).toFixed(4));u<n&&(n=u,r=s.id)}}return r};function TT(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),o=Math.min(t.left+t.width,e.offsetLeft+e.width),s=Math.min(t.top+t.height,e.offsetTop+e.height),i=o-r,a=s-n;if(r<o&&n<s){const c=t.width*t.height,u=e.width*e.height,d=i*a,p=d/(c+u-d);return Number(p.toFixed(4))}return 0}const AT=({collisionRect:e,droppableContainers:t})=>{let n=0,r=null;for(const o of t){const{rect:{current:s}}=o;if(s){const i=TT(s,e);i>n&&(n=i,r=o.id)}}return r};var di;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(di||(di={}));var Wa;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Wa||(Wa={}));function MT({acceleration:e,activator:t=di.Pointer,canScroll:n,draggingRect:r,enabled:o,interval:s=5,order:i=Wa.TreeOrder,pointerCoordinates:a,scrollableAncestors:c,scrollableAncestorRects:u,threshold:d}){const[p,h]=oT(),g=f.useRef({x:1,y:1}),v=f.useMemo(()=>{switch(t){case di.Pointer:return a?{top:a.y,bottom:a.y,left:a.x,right:a.x}:null;case di.DraggableRect:return r}return null},[t,r,a]),b=f.useRef(pr),y=f.useRef(null),m=f.useCallback(()=>{const w=y.current;if(!w)return;const S=g.current.x*b.current.x,C=g.current.y*b.current.y;w.scrollBy(S,C)},[]),x=f.useMemo(()=>i===Wa.TreeOrder?[...c].reverse():c,[i,c]);f.useEffect(()=>{if(!o||!c.length||!v){h();return}for(const w of x){if((n==null?void 0:n(w))===!1)continue;const S=c.indexOf(w),C=u[S];if(!C)continue;const{direction:j,speed:E}=_T(w,C,v,e,d);if(E.x>0||E.y>0){h(),y.current=w,p(m,s),g.current=E,b.current=j;return}}g.current={x:0,y:0},b.current={x:0,y:0},h()},[e,m,n,h,o,s,JSON.stringify(v),p,c,x,u,JSON.stringify(d)])}function kT(e,t){const n=t!==null?e[t]:void 0,r=n?n.node.current:null;return ii(o=>{var s;return t===null?null:(s=r??o)!=null?s:null},[r,t])}function LT(e,t){return f.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,s=o.activators.map(i=>({eventName:i.eventName,handler:t(i.handler,r)}));return[...n,...s]},[]),[e,t])}function i1(e){const t=f.useRef(e);return ho(()=>{t.current!==e&&(t.current=e)},[e]),t}var fi;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(fi||(fi={}));var Cd;(function(e){e.Optimized="optimized"})(Cd||(Cd={}));const a1=new Map,NT={measure:Ra,strategy:fi.WhileDragging,frequency:Cd.Optimized};function $T(e,{dragging:t,dependencies:n,config:r}){const[o,s]=f.useState(!1),{frequency:i,measure:a,strategy:c}={...NT,...r},u=f.useRef(e),d=f.useCallback(()=>s(!0),[]),p=f.useRef(null),h=v(),g=ii(b=>{if(h&&!t)return a1;if(!b||b===a1||u.current!==e||o){for(let y of e)y&&(y.rect.current=y.node.current?a(y.node.current):null);return DT(e)}return b},[e,t,h,a,o]);return f.useEffect(()=>{u.current=e},[e]),f.useEffect(()=>{o&&s(!1)},[o]),f.useEffect(function(){h||requestAnimationFrame(d)},[t,h]),f.useEffect(function(){h||typeof i!="number"||p.current!==null||(p.current=setTimeout(()=>{d(),p.current=null},i))},[i,h,d,...n]),{layoutRectMap:g,recomputeLayouts:d,willRecomputeLayouts:o};function v(){switch(c){case fi.Always:return!1;case fi.BeforeDragging:return t;default:return!t}}}function DT(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:r,rect:o}=n;o.current!=null&&t.set(r,o.current)}return t}function IT(e){const[t,n]=f.useState(null),r=f.useRef(e),o=f.useCallback(s=>{const i=wd(s.target);i&&n(a=>a?(a.set(i,Sd(i)),new Map(a)):null)},[]);return f.useEffect(()=>{const s=r.current;if(e!==s){i(s);const a=e.map(c=>{const u=wd(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,Sd(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{i(e),i(s)};function i(a){a.forEach(c=>{const u=wd(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),f.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,i)=>li(s,i),pr):n1(e):pr,[e,t])}const VT=[];function HT(e){const t=f.useRef(e),n=ii(r=>e?r&&e&&t.current&&e.parentNode===t.current.parentNode?r:xd(e):VT,[e]);return f.useEffect(()=>{t.current=e},[e]),n}function BT(e){f.useEffect(()=>{if(!za)return;const t=e.map(({sensor:n})=>n.setup==null?void 0:n.setup());return()=>{for(const n of t)n==null||n()}},e.map(({sensor:t})=>t))}function zT(e,t){return f.useMemo(()=>e.reduce((n,{eventName:r,handler:o})=>(n[r]=s=>{o(s,t)},n),{}),[e,t])}const Ed=c1(Ua),FT=RT(Ua);function l1(e,t,n){const r=f.useRef(e);return ii(o=>e?n||!o&&e||e!==r.current?Zo(e)&&e.parentNode==null?null:t(e):o??null:null,[e,n,t])}function c1(e){return(t,n)=>l1(t,e,n)}function RT(e){const t=[];return function(r,o){const s=f.useRef(r);return ii(i=>r.length?o||!i&&r.length||r!==s.current?r.map(a=>e(a)):i??t:t,[r,o])}}function UT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Zo(t)?t:e}function WT(e){const{width:t,height:n,offsetLeft:r,offsetTop:o}=Ra(e);return{top:o,bottom:o+n,left:r,right:r+t,width:t,height:n,offsetTop:o,offsetLeft:r}}const GT=c1(WT);function KT({disabled:e,forceRecompute:t}){const[n,r]=md(),o=GT(e?null:UT(n.current),t);return f.useMemo(()=>({nodeRef:n,rect:o,setRef:r}),[o,n,r])}function u1(e,t){return f.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function qT(...e){return f.useMemo(()=>[...e].filter(t=>t!=null),[...e])}class pi{constructor(t){this.target=t,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})}}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function YT(e){const{EventTarget:t}=$r(e);return e instanceof t?e:Jo(e)}function _d(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var cn;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(cn||(cn={}));function d1(e){e.preventDefault()}function XT(e){e.stopPropagation()}var Ae;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Ae||(Ae={}));const f1={start:[Ae.Space,Ae.Enter],cancel:[Ae.Esc],end:[Ae.Space,Ae.Enter]},ZT=(e,{currentCoordinates:t})=>{switch(e.code){case Ae.Right:return{...t,x:t.x+25};case Ae.Left:return{...t,x:t.x-25};case Ae.Down:return{...t,y:t.y+25};case Ae.Up:return{...t,y:t.y-25}}};class Od{constructor(t){this.props=t,this.autoScrollEnabled=!1,this.coordinates=pr;const{event:{target:n}}=t;this.props=t,this.listeners=new pi(Jo(n)),this.windowListeners=new pi($r(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(cn.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props;if(!t.node.current)throw new Error("Active draggable node is undefined");const r=Ua(t.node.current),o={x:r.left,y:r.top};this.coordinates=o,n(o)}handleKeyDown(t){if(iT(t)){const{coordinates:n}=this,{active:r,context:o,options:s}=this.props,{keyboardCodes:i=f1,coordinateGetter:a=ZT,scrollBehavior:c="smooth"}=s,{code:u}=t;if(i.end.includes(u)){this.handleEnd(t);return}if(i.cancel.includes(u)){this.handleCancel(t);return}const d=a(t,{active:r,context:o.current,currentCoordinates:n});if(d){const p={x:0,y:0},{scrollableAncestors:h}=o.current;for(const g of h){const v=t.code,b=Xm(d,n),{isTop:y,isRight:m,isLeft:x,isBottom:w,maxScroll:S,minScroll:C}=t1(g),j=OT(g),E={x:Math.min(v===Ae.Right?j.right-j.width/2:j.right,Math.max(v===Ae.Right?j.left:j.left+j.width/2,d.x)),y:Math.min(v===Ae.Down?j.bottom-j.height/2:j.bottom,Math.max(v===Ae.Down?j.top:j.top+j.height/2,d.y))},O=v===Ae.Right&&!m||v===Ae.Left&&!x,A=v===Ae.Down&&!w||v===Ae.Up&&!y;if(O&&E.x!==d.x){if(v===Ae.Right&&g.scrollLeft+b.x<=S.x||v===Ae.Left&&g.scrollLeft+b.x>=C.x){g.scrollBy({left:b.x,behavior:c});return}p.x=v===Ae.Right?g.scrollLeft-S.x:g.scrollLeft-C.x,g.scrollBy({left:-p.x,behavior:c});break}else if(A&&E.y!==d.y){if(v===Ae.Down&&g.scrollTop+b.y<=S.y||v===Ae.Up&&g.scrollTop+b.y>=C.y){g.scrollBy({top:b.y,behavior:c});return}p.y=v===Ae.Down?g.scrollTop-S.y:g.scrollTop-C.y,g.scrollBy({top:-p.y,behavior:c});break}}this.handleMove(t,li(d,p))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n),this.coordinates=n}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Od.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=f1,onActivation:n})=>{const{code:r}=e.nativeEvent;return t.start.includes(r)?(e.preventDefault(),n==null||n({event:e.nativeEvent}),!0):!1}}];function p1(e){return!!(e&&"distance"in e)}function h1(e){return!!(e&&"delay"in e)}class Pd{constructor(t,n,r=YT(t.event.target)){this.props=t,this.events=n,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=Jo(s),this.documentListeners=new pi(this.document),this.listeners=new pi(r),this.windowListeners=new pi($r(s)),this.initialCoordinates=bd(o),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(cn.Resize,this.handleCancel),this.windowListeners.add(cn.DragStart,d1),this.windowListeners.add(cn.VisibilityChange,this.handleCancel),this.windowListeners.add(cn.ContextMenu,d1),this.documentListeners.add(cn.Keydown,this.handleKeydown),n){if(p1(n))return;if(h1(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(cn.Click,XT,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(cn.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){const{activated:n,initialCoordinates:r,props:o}=this,{onMove:s,options:{activationConstraint:i}}=o;if(!r)return;const a=bd(t),c=Xm(r,a);if(!n&&i){if(h1(i))return _d(c,i.tolerance)?this.handleCancel():void 0;if(p1(i))return i.tolerance!=null&&_d(c,i.tolerance)?this.handleCancel():_d(c,i.distance)?this.handleStart():void 0}t.cancelable&&t.preventDefault(),s(a)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Ae.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const JT={move:{name:"pointermove"},end:{name:"pointerup"}};class Td extends Pd{constructor(t){const{event:n}=t,r=Jo(n.target);super(t,JT,r)}}Td.activators=[{eventName:"onPointerDown",handler:({nativeEvent:e},{onActivation:t})=>!e.isPrimary||e.button!==0?!1:(t==null||t({event:e}),!0)}];const QT={move:{name:"mousemove"},end:{name:"mouseup"}};var Ad;(function(e){e[e.RightClick=2]="RightClick"})(Ad||(Ad={}));class eA extends Pd{constructor(t){super(t,QT,Jo(t.event.target))}}eA.activators=[{eventName:"onMouseDown",handler:({nativeEvent:e},{onActivation:t})=>e.button===Ad.RightClick?!1:(t==null||t({event:e}),!0)}];const Md={move:{name:"touchmove"},end:{name:"touchend"}};class tA extends Pd{constructor(t){super(t,Md)}static setup(){return window.addEventListener(Md.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Md.move.name,t)};function t(){}}}tA.activators=[{eventName:"onTouchStart",handler:({nativeEvent:e},{onActivation:t})=>{const{touches:n}=e;return n.length>1?!1:(t==null||t({event:e}),!0)}}];function nA(e,{transform:t,...n}){return e!=null&&e.length?e.reduce((r,o)=>o({transform:r,...n}),t):t}const rA=[{sensor:Td,options:{}},{sensor:Od,options:{}}],oA={current:{}},g1=f.createContext({...pr,scaleX:1,scaleY:1}),sA=f.memo(function({id:t,autoScroll:n=!0,announcements:r,children:o,sensors:s=rA,collisionDetection:i=AT,measuring:a,modifiers:c,screenReaderInstructions:u=fT,...d}){var p,h,g,v,b;const y=f.useReducer(gT,void 0,hT),[m,x]=y,[w,S]=f.useState(()=>({type:null,event:null})),[C,j]=f.useState(!1),{draggable:{active:E,nodes:O,translate:A},droppable:{containers:_}}=m,T=E?O[E]:null,N=f.useRef({initial:null,translated:null}),B=f.useMemo(()=>{var jt;return E!=null?{id:E,data:(jt=T==null?void 0:T.data)!=null?jt:oA,rect:N}:null},[E,T]),$=f.useRef(null),[M,L]=f.useState(null),[F,R]=f.useState(null),I=f.useRef(d),z=ai("DndDescribedBy",t),U=f.useMemo(()=>_.getEnabled(),[_]),{layoutRectMap:K,recomputeLayouts:ee,willRecomputeLayouts:X}=$T(U,{dragging:C,dependencies:[A.x,A.y],config:a==null?void 0:a.droppable}),Q=kT(O,E),ce=F?bd(F):null,te=l1(Q,(p=a==null||(h=a.draggable)==null?void 0:h.measure)!=null?p:jd),G=Ed(Q),W=f.useRef(null),se=W.current,ne=f.useRef({active:null,activeNode:Q,collisionRect:null,droppableRects:K,draggableNodes:O,draggingNodeRect:null,droppableContainers:_,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),be=_.getNodeFor((g=ne.current.over)==null?void 0:g.id),ye=Ed(Q?Q.ownerDocument.defaultView:null),Oe=Ed(Q?Q.parentElement:null),He=HT(E?be??Q:null),_t=FT(He),dt=KT({disabled:E==null,forceRecompute:X}),Je=(v=dt.rect)!=null?v:te,br=Je===te?xT(te,se):pr,ft=nA(c,{transform:{x:A.x-br.x,y:A.y-br.y,scaleX:1,scaleY:1},activatorEvent:F,active:B,activeNodeRect:G,containerNodeRect:Oe,draggingNodeRect:Je,over:ne.current.over,overlayNodeRect:dt.rect,scrollableAncestors:He,scrollableAncestorRects:_t,windowRect:ye}),qt=ce?li(ce,A):null,En=IT(He),yt=li(ft,En),st=Je?e1(Je,ft):null,gt=st?e1(st,En):null,_n=B&&gt?i({active:B,collisionRect:gt,droppableContainers:U}):null,[Ot,On]=f.useState(null),xo=yT(ft,(b=Ot==null?void 0:Ot.rect)!=null?b:null,te),ls=f.useCallback((jt,{sensor:fn,options:$t})=>{if(!$.current)return;const Yn=O[$.current];if(!Yn)return;const pn=new fn({active:$.current,activeNode:Yn,event:jt.nativeEvent,options:$t,context:ne,onStart(hn){const Mi=$.current;if(!Mi)return;const ki=O[Mi];if(!ki)return;const{onDragStart:Gl}=I.current,Li={active:{id:Mi,data:ki.data,rect:N}};Pt.unstable_batchedUpdates(()=>{x({type:Ke.DragStart,initialCoordinates:hn,active:Mi}),S({type:Ke.DragStart,event:Li})}),Gl==null||Gl(Li)},onMove(hn){x({type:Ke.DragMove,coordinates:hn})},onEnd:Ai(Ke.DragEnd),onCancel:Ai(Ke.DragCancel)});Pt.unstable_batchedUpdates(()=>{L(pn),R(jt.nativeEvent)});function Ai(hn){return async function(){const{active:ki,over:Gl,scrollAdjustedTranslate:Li}=ne.current;let us=null;if(ki&&Li){const{cancelDrop:Kl}=I.current;us={active:ki,delta:Li,over:Gl},hn===Ke.DragEnd&&typeof Kl=="function"&&await Promise.resolve(Kl(us))&&(hn=Ke.DragCancel)}if($.current=null,Pt.unstable_batchedUpdates(()=>{x({type:hn}),On(null),j(!1),L(null),R(null),us&&S({type:hn,event:us})}),us){const{onDragCancel:Kl,onDragEnd:Db}=I.current,Ib=hn===Ke.DragEnd?Db:Kl;Ib==null||Ib(us)}}}},[x,O]),cs=f.useCallback((jt,fn)=>($t,Yn)=>{const pn=$t.nativeEvent;$.current!==null||pn.dndKit||pn.defaultPrevented||jt($t,fn.options)===!0&&(pn.dndKit={capturedBy:fn.sensor},$.current=Yn,ls($t,fn))},[ls]),Ti=LT(s,cs);BT(s),ho(()=>{I.current=d},Object.values(d)),f.useEffect(()=>{E!=null&&j(!0)},[E]),f.useEffect(()=>{B||(W.current=null),B&&te&&!W.current&&(W.current=te)},[te,B]),f.useEffect(()=>{const{onDragMove:jt}=I.current,{active:fn,over:$t}=ne.current;if(!fn)return;const Yn={active:fn,delta:{x:yt.x,y:yt.y},over:$t};S({type:Ke.DragMove,event:Yn}),jt==null||jt(Yn)},[yt.x,yt.y]),f.useEffect(()=>{const{active:jt,droppableContainers:fn,scrollAdjustedTranslate:$t}=ne.current;if(!jt||!$.current||!$t)return;const{onDragOver:Yn}=I.current,pn=fn.get(_n),Ai=pn&&pn.rect.current?{id:pn.id,rect:pn.rect.current,data:pn.data,disabled:pn.disabled}:null,hn={active:jt,delta:{x:$t.x,y:$t.y},over:Ai};Pt.unstable_batchedUpdates(()=>{On(Ai),S({type:Ke.DragOver,event:hn}),Yn==null||Yn(hn)})},[_n]),ho(()=>{ne.current={active:B,activeNode:Q,collisionRect:gt,droppableRects:K,draggableNodes:O,draggingNodeRect:Je,droppableContainers:_,over:Ot,scrollableAncestors:He,scrollAdjustedTranslate:yt,translatedRect:st},N.current={initial:Je,translated:st}},[B,Q,gt,O,Je,K,_,Ot,He,yt,st]),MT({...z4(),draggingRect:st,pointerCoordinates:qt,scrollableAncestors:He,scrollableAncestorRects:_t});const Of=f.useMemo(()=>({active:B,activeNode:Q,activeNodeRect:te,activeNodeClientRect:G,activatorEvent:F,activators:Ti,ariaDescribedById:{draggable:z},containerNodeRect:Oe,dispatch:x,dragOverlay:dt,draggableNodes:O,droppableContainers:_,droppableRects:K,over:Ot,recomputeLayouts:ee,scrollableAncestors:He,scrollableAncestorRects:_t,willRecomputeLayouts:X,windowRect:ye}),[B,Q,G,te,F,Ti,Oe,dt,x,O,z,_,K,Ot,ee,He,_t,X,ye]);return f.createElement(Zm.Provider,{value:w},f.createElement(Fa.Provider,{value:Of},f.createElement(g1.Provider,{value:xo},o)),f.createElement(vT,{announcements:r,hiddenTextDescribedById:z,screenReaderInstructions:u}));function z4(){const jt=(M==null?void 0:M.autoScrollEnabled)===!1,fn=typeof n=="object"?n.enabled===!1:n===!1,$t=!jt&&!fn;return typeof n=="object"?{...n,enabled:$t}:{enabled:$t}}}),iA=f.createContext(null),m1="button",aA="Droppable";function lA({id:e,data:t,disabled:n=!1,attributes:r}){const o=ai(aA),{active:s,activeNodeRect:i,activatorEvent:a,ariaDescribedById:c,draggableNodes:u,droppableRects:d,activators:p,over:h}=f.useContext(Fa),{role:g=m1,roleDescription:v="draggable",tabIndex:b=0}=r??{},y=(s==null?void 0:s.id)===e,m=f.useContext(y?g1:iA),[x,w]=md(),S=zT(p,e),C=i1(t);f.useEffect(()=>(u[e]={id:e,key:o,node:x,data:C},()=>{const E=u[e];E&&E.key===o&&delete u[e]}),[u,e]);const j=f.useMemo(()=>({role:g,tabIndex:b,"aria-pressed":y&&g===m1?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[g,b,y,v,c.draggable]);return{active:s,activeNodeRect:i,activatorEvent:a,attributes:j,droppableRects:d,isDragging:y,listeners:n?void 0:S,node:x,over:h,setNodeRef:w,transform:m}}function cA(){return f.useContext(Fa)}const uA="Droppable";function dA({data:e,disabled:t=!1,id:n}){const r=ai(uA),{active:o,dispatch:s,over:i}=f.useContext(Fa),a=f.useRef(null),[c,u]=md(),d=i1(e);return ho(()=>(s({type:Ke.RegisterDroppable,element:{id:n,key:r,disabled:t,node:c,rect:a,data:d}}),()=>s({type:Ke.UnregisterDroppable,key:r,id:n})),[n]),f.useEffect(()=>{s({type:Ke.SetDroppableDisabled,id:n,key:r,disabled:t})},[t]),{active:o,rect:a,isOver:(i==null?void 0:i.id)===n,node:c,over:i,setNodeRef:u}}function fA(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}const pA=({draggingNodeRect:e,transform:t,scrollableAncestorRects:n})=>{const r=n[0];return!e||!r?t:fA(t,e,r)},hA=({transform:e})=>({...e,x:0});function v1(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function gA(e,t){return e.reduce((n,r,o)=>{const s=t.get(r);return s&&(n[o]=s),n},Array(e.length))}function Ga(e){return e!==null&&e>=0}const b1=({layoutRects:e,activeIndex:t,overIndex:n,index:r})=>{const o=v1(e,n,t),s=e[r],i=o[r];return!i||!s?null:{x:i.offsetLeft-s.offsetLeft,y:i.offsetTop-s.offsetTop,scaleX:i.width/s.width,scaleY:i.height/s.height}},Ka={scaleX:1,scaleY:1},mA=({activeIndex:e,activeNodeRect:t,index:n,layoutRects:r,overIndex:o})=>{var s;const i=(s=r[e])!=null?s:t;if(!i)return null;if(n===e){const c=r[o];return c?{x:0,y:e<o?c.offsetTop+c.height-(i.offsetTop+i.height):c.offsetTop-i.offsetTop,...Ka}:null}const a=vA(r,n,e);return n>e&&n<=o?{x:0,y:-i.height-a,...Ka}:n<e&&n>=o?{x:0,y:i.height+a,...Ka}:{x:0,y:0,...Ka}};function vA(e,t,n){const r=e[t],o=e[t-1],s=e[t+1];return r?n<t?o?r.offsetTop-(o.offsetTop+o.height):s?s.offsetTop-(r.offsetTop+r.height):0:s?s.offsetTop-(r.offsetTop+r.height):o?r.offsetTop-(o.offsetTop+o.height):0:0}const y1="Sortable",x1=f.createContext({activeIndex:-1,containerId:y1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:b1,wasDragging:{current:!1}});function bA({children:e,id:t,items:n,strategy:r=b1}){const{active:o,dragOverlay:s,droppableRects:i,over:a,recomputeLayouts:c,willRecomputeLayouts:u}=cA(),d=ai(y1,t),p=s.rect!==null,h=f.useMemo(()=>n.map(E=>typeof E=="string"?E:E.id),[n]),g=o!=null,v=f.useRef(!1),b=o?h.indexOf(o.id):-1,y=b!==-1,m=a?h.indexOf(a.id):-1,x=f.useRef(h),w=gA(h,i),S=!yA(h,x.current),C=m!==-1&&b===-1||S;ho(()=>{S&&y&&!u&&c()},[S,y,c,u]),f.useEffect(()=>{x.current=h},[h]),f.useEffect(()=>{const E=setTimeout(()=>{v.current=g},100);return()=>clearTimeout(E)},[g]);const j=f.useMemo(()=>({activeIndex:b,containerId:d,disableTransforms:C,items:h,overIndex:m,useDragOverlay:p,sortedRects:w,strategy:r,wasDragging:v}),[b,d,C,h,m,w,p,r,v]);return f.createElement(x1.Provider,{value:j},e)}function yA(e,t){return e.join()===t.join()}const xA=({id:e,items:t,activeIndex:n,overIndex:r})=>v1(t,n,r).indexOf(e),wA=({containerId:e,isSorting:t,wasDragging:n,index:r,items:o,newIndex:s,previousItems:i,previousContainerId:a,transition:c})=>!c||!n||i!==o&&r===s?!1:t?!0:s!==r&&e===a,SA={duration:200,easing:"ease"},w1="transform",jA=ci.Transition.toString({property:w1,duration:0,easing:"linear"}),CA={roleDescription:"sortable"};function EA({disabled:e,index:t,node:n,rect:r}){const[o,s]=f.useState(null),i=f.useRef(t);return ho(()=>{if(!e&&t!==i.current&&n.current){const a=r.current;if(a){const c=Ua(n.current),u={x:a.offsetLeft-c.offsetLeft,y:a.offsetTop-c.offsetTop,scaleX:a.width/c.width,scaleY:a.height/c.height};(u.x||u.y)&&s(u)}}t!==i.current&&(i.current=t)},[e,t,n,r]),f.useEffect(()=>{o&&requestAnimationFrame(()=>{s(null)})},[o]),o}function _A({animateLayoutChanges:e=wA,attributes:t,disabled:n,data:r,getNewIndex:o=xA,id:s,strategy:i,transition:a=SA}){const{items:c,containerId:u,activeIndex:d,disableTransforms:p,sortedRects:h,overIndex:g,useDragOverlay:v,strategy:b,wasDragging:y}=f.useContext(x1),m=c.indexOf(s),x=f.useMemo(()=>({sortable:{containerId:u,index:m,items:c},...r}),[u,r,m,c]),{rect:w,node:S,setNodeRef:C}=dA({id:s,data:x}),{active:j,activeNodeRect:E,activatorEvent:O,attributes:A,setNodeRef:_,listeners:T,isDragging:N,over:B,transform:$}=lA({id:s,data:x,attributes:{...CA,...t},disabled:n}),M=nT(C,_),L=!!j,F=L&&y.current&&!p&&Ga(d)&&Ga(g),R=!v&&N,I=R&&F?$:null,U=F?I??(i??b)({layoutRects:h,activeNodeRect:E,activeIndex:d,overIndex:g,index:m}):null,K=Ga(d)&&Ga(g)?o({id:s,items:c,activeIndex:d,overIndex:g}):m,ee=f.useRef(c),X=c!==ee.current,Q=f.useRef(K),ce=f.useRef(u),te=e({active:j,containerId:u,isDragging:N,isSorting:L,id:s,index:m,items:c,newIndex:Q.current,previousItems:ee.current,previousContainerId:ce.current,transition:a,wasDragging:y.current}),G=EA({disabled:!te,index:m,node:S,rect:w});return f.useEffect(()=>{L&&Q.current!==K&&(Q.current=K),u!==ce.current&&(ce.current=u),c!==ee.current&&(ee.current=c)},[L,K,u,c]),{active:j,attributes:A,activatorEvent:O,rect:w,index:m,isSorting:L,isDragging:N,listeners:T,node:S,overIndex:g,over:B,setNodeRef:M,setDroppableNodeRef:C,setDraggableNodeRef:_,transform:G??U,transition:W()};function W(){if(G||X&&Q.current===m)return jA;if(!(R||!a)&&(L||te))return ci.Transition.toString({...a,property:w1})}}const OA=[Ae.Down,Ae.Right,Ae.Up,Ae.Left],PA=(e,{context:{active:t,droppableContainers:n,translatedRect:r,scrollableAncestors:o}})=>{if(OA.includes(e.code)){if(e.preventDefault(),!t||!r)return;const i=[];n.getEnabled().forEach(c=>{if(!c||c!=null&&c.disabled)return;const u=c==null?void 0:c.node.current;if(!u)return;const d=jd(u),p={...c,rect:{current:d}};switch(e.code){case Ae.Down:r.top+r.height<=d.top&&i.push(p);break;case Ae.Up:r.top>=d.top+d.height&&i.push(p);break;case Ae.Left:r.left>=d.left+d.width&&i.push(p);break;case Ae.Right:r.left+r.width<=d.left&&i.push(p);break}});const a=PT({active:t,collisionRect:r,droppableContainers:i});if(a){var s;const c=(s=n.get(a))==null?void 0:s.node.current;if(c){const d=xd(c).some((v,b)=>o[b]!==v),p=jd(c),h=d?{x:0,y:0}:{x:r.width-p.width,y:r.height-p.height};return{x:p.left-h.x,y:p.top-h.y}}}}};function TA(e){const{id:t,item:n,className:r,select:o,remove:s,renderItem:i,previewStyle:a}=e,{attributes:c,listeners:u,setNodeRef:d,transform:p,transition:h}=_A({id:t}),g={transform:ci.Transform.toString(p),transition:h},v=()=>o==null?void 0:o(n);return l.jsx("div",{ref:d,style:g,...c,children:l.jsxs(D,{space:"s",onClick:v,className:r,items:"center",nowrap:!0,children:[l.jsx(k,{className:P(We.hover,"cursor-grab"),...u,children:l.jsx(Z,{icon:Y.dotsVertical,size:ie.sx})}),l.jsx(k,{grow:!0,className:P("overflow-hidden"),children:l.jsxs(D,{children:[l.jsx(k,{grow:!0,className:P("overflow-ellipsis overflow-hidden"),children:i(n)}),!!a&&l.jsx(k,{children:l.jsx("div",{className:P("w-4 h-4 gjs-bg-white",J.b,J.rnd),style:a(n)})})]})}),l.jsx(k,{className:P(We.click),onClick:b=>{Lo(b),s==null||s(n)},children:l.jsx(Z,{icon:Y.close,size:ie.sx})})]},n.getIndex?n.getIndex():n.id||n.cid)})}const AA={position:{x:"left-edge",y:"top-bottom"},offset:{x:7,y:0}},qa=e=>e.cid??e.id;function hr({className:e,items:t,selected:n,children:r,title:o,titleAdd:s,label:i,select:a,add:c,move:u,remove:d,renderItem:p,previewStyle:h}){const g=qT(u1(Td),u1(Od,{coordinateGetter:PA}));function v(y){const{active:m,over:x}=y;if(m.id!==(x==null?void 0:x.id)){const w=t.find(C=>qa(C)===m.id),S=t.findIndex(C=>qa(C)===(x==null?void 0:x.id));w&&(u==null||u(w,S))}}const b=P(J.rnd,V.br,t.length&&J.b,t.length&&"gjs-mt-1");return l.jsxs("div",{className:P(e,"w-full"),children:[!!(i||c)&&l.jsxs(D,{items:"center",children:[l.jsx(k,{grow:!0,children:l.jsx(vt,{size:"s",children:i})}),!!c&&l.jsx(k,{children:l.jsx(lt,{title:s,inline:!0,children:l.jsx(ze,{onClick:c,size:"s",children:l.jsx(Z,{icon:Y.plus,size:ie.s})})})})]}),l.jsx(ur,{pos:AA,size:"s",buttonAs:"div",title:o,open:!!n,onClose:()=>a==null?void 0:a(null),handler:l.jsx(sA,{sensors:g,collisionDetection:bT,onDragEnd:v,modifiers:[hA,pA],children:l.jsx(bA,{items:t.map(qa),strategy:mA,children:l.jsx("div",{className:b,children:t.map((y,m)=>{const x=qa(y),w=y===n,S=P("gjs-px-2 gjs-py-2 text-xs",V.br,m&&J.bt,!w&&V.hBgH2,w&&V.bgH);return l.jsx(TA,{id:x,item:y,className:S,select:a,remove:d,renderItem:p,previewStyle:h},x)})})})}),children:r})]})}function hi({className:e,value:t,label:n,btnLabel:r,size:o,isContain:s,clear:i,onChange:a,onOpen:c,description:u}){var g;const d=((g=t.replace(/^"|"$/gi,"").split("/").pop())==null?void 0:g.split("?")[0])||"",p=t?{backgroundImage:`url("${t}")`}:{},h=P("w-12 h-12 bg-checker bg-no-repeat bg-center",s?"bg-contain":"bg-cover",J.b,J.rnd,V.br);return l.jsxs("div",{className:P(e),children:[!!n&&l.jsx(vt,{size:o,children:n}),!!u&&l.jsx(vt,{size:o,as:"span",className:P(V.txtLowEmphasis),capitalize:!1,children:u}),l.jsxs(D,{className:P(V.bg),items:"center",space:"s",nowrap:!0,children:[l.jsx(k,{children:l.jsx("div",{className:h,style:p})}),l.jsxs(k,{grow:!0,className:P("overflow-hidden"),children:[d&&l.jsx(vt,{as:"div",size:o,className:P("gjs-mb-2",We.txtEllips),capitalize:!1,children:d}),l.jsxs(D,{space:"s",nowrap:!0,children:[l.jsx(ze,{onClick:()=>c==null?void 0:c(t),size:o,type:"button",block:!0,full:!0,children:r||"Select image"}),!!t&&i&&l.jsx(Ct,{onClick:()=>a==null?void 0:a(""),title:i.tooltip,size:o,icon:{icon:Y.close,size:ie.s},type:"button",block:!0})]})]})]})]})}function Ya(e){return e.isFull()||["slider","composite","stack","file"].includes(e.getType())}function MA(e){return["composite","stack"].includes(e.getType())}function Xa({property:e}){switch(e.getType()){case"number":case"slider":case"integer":return l.jsx(je,{...Ue(e)});case"color":return l.jsx(dr,{...gr(e)});case"select":return l.jsx(Ee,{...Ve(e)});case"radio":return l.jsx(At,{...Ve(e)});case"file":return l.jsx(hi,{...qA(e)});case"composite":return l.jsx(Lt,{property:e,corners:e.get("corners"),generic:e.get("generic")});case"stack":return l.jsx(hr,{...Dr(e),children:e.getProperties().map(t=>l.jsx(ae,{property:t,className:H(Ya(t)&&"col-span-full"),children:l.jsx(Xa,{property:t})},t.getId()))});default:return l.jsx(rt,{...gr(e)})}}function kA({sector:e}){const t=e.getProperties().filter(n=>n.isVisible());return l.jsx("div",{className:H("grid grid-cols-2 gap-2"),children:t.map(n=>MA(n)?l.jsx("div",{className:H(Ya(n)&&"col-span-full"),children:l.jsx(Xa,{property:n})},n.getId()):l.jsx(ae,{property:n,className:H(Ya(n)&&"col-span-full"),children:l.jsx(Xa,{property:n})},n.getId()))})}function de({className:e,children:t,bottom:n,separator:r,separatorTop:o,...s}){const i=l.jsx("div",{className:P("gjs-mb-2 -gjs-ml-2 -gjs-mr-2",J.bb,V.br)}),a=P(e,"w-full",n||"gjs-mb-2");return l.jsxs(l.Fragment,{children:[o&&i,l.jsx(D,{className:a,space:"s",nowrap:!0,...s,children:t}),r&&i]})}function gi(e,t,n={}){const r=e.getType(),{compact:o=!1}=n,s=e.getParent(),i=e.getDefaultValue();if(r==="select"){const c={property:s.getName()};return l.jsx(Ee,{...Ve(e,c),...t?{value:t.same?e.getValue({noDefault:!0}):"",emptyState:t.same?e.getOptionLabel(i,c)||i:"Custom",onChange:u=>t.all.map(d=>d.upValue(u))}:{}})}else return r==="color"?l.jsx(dr,{...gr(e),...t?{value:t.same?e.getValue({noDefault:!0}):"",placeholder:t.same?i:"Custom",onChange:(a,c)=>t.all.map(u=>u.upValue(a,{partial:c}))}:{}}):l.jsx(je,{...Ue(e),...o?{pan:e.getLabel()[0]}:{},...t?{value:t.same?e.getValue({noDefault:!0}):"",valueUnit:t.same?e.getUnit():"",placeholder:t.same?i:"Custom",onChange:(a,c)=>t.all.map(u=>u.upValue(a,{partial:c})),onChangeUnit:a=>t.all.map(c=>c.upUnit(a))}:{}})}function Lt({property:e,corners:t,compact:n,generic:r,children:o,options:s}){const i={id:"custom",label:l.jsx(Z,{icon:Y.borderStyle,size:ie.sx}),title:"Custom"},a=[{id:"all",label:l.jsx(Z,{icon:Y.borderAllVariant,size:ie.sx}),title:"All"},i],[c,u]=f.useState(null),d=e.isDetached(),p=e.getProperties(),h=p.length,[g,v,b,y]=p,m=g.getFullValue(),w=p.map($=>$.getFullValue()).every($=>$===m),S=c!==null?c:w||s?"all":i.id,C=s?[...s,i]:[],j=e.getFullValue(),E=C.some($=>$.id===j),O=S===i.id||(s?!E:!1)||!!r,A=l.jsx(ae,{property:n?null:g,shallow:!d,children:gi(g,null,{compact:n})}),_=l.jsx(ae,{property:n?null:v,shallow:!d,children:gi(v,null,{compact:n})}),T=!!b&&l.jsx(ae,{property:n?null:b,shallow:!d,children:gi(b,null,{compact:n})}),N=!!y&&l.jsx(ae,{property:n?null:y,shallow:!d,children:gi(y,null,{compact:n})}),B=n?{label:e.getLabel()}:{property:e};return l.jsxs("div",{className:P("w-full"),children:[l.jsx(de,{children:l.jsx(ae,{...B,children:!r&&l.jsx(de,{bottom:"0",children:o!==void 0?o:s?l.jsx(l.Fragment,{children:l.jsx(k,{grow:!0,children:l.jsx(At,{size:"s",options:C,value:O?i.id:j,onChange:$=>{$===i.id?u($):(e.upValue($),u(""))}})})}):l.jsxs(l.Fragment,{children:[l.jsx(k,{grow:!0,children:gi(g,{same:w,all:p})}),l.jsx(k,{grow:!0,children:l.jsx(At,{size:"s",options:a,value:S,onChange:u})})]})})})}),O&&l.jsx(de,{col:!0,className:P("gjs-px-2 gjs-py-1",V.bgH2,J.rnd,J.b,V.br),children:r?l.jsx("div",{className:P("grid grid-cols-2 gap-2"),children:p.map($=>l.jsx(ae,{property:$,shallow:!d,className:P(Ya($)&&"col-span-full"),children:l.jsx(Xa,{property:$})},$.getId()))}):h===2?l.jsx(l.Fragment,{children:l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:A}),l.jsx(k,{grow:!0,children:_})]})}):h===3?l.jsxs(l.Fragment,{children:[l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:A}),l.jsx(k,{grow:!0,children:_})]}),l.jsx(D,{space:"s",children:l.jsx(k,{grow:!0,children:T})})]}):t?l.jsxs(l.Fragment,{children:[l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:A}),l.jsx(k,{grow:!0,children:_})]}),l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:N}),l.jsx(k,{grow:!0,children:T})]})]}):l.jsxs(l.Fragment,{children:[l.jsx(D,{className:P("gs-utl-w-1/2 gjs-m-auto"),children:A}),l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:N}),l.jsx(k,{grow:!0,children:_})]}),l.jsx(D,{className:P("gs-utl-w-1/2 gjs-m-auto"),children:T})]})})]})}function LA({sector:e}){const t=e.getProperty("border-radius");return l.jsxs(l.Fragment,{children:[l.jsx(Lt,{property:t,corners:!0}),l.jsx(Lt,{property:e.getProperty("border-width")}),l.jsx(Lt,{property:e.getProperty("border-style")}),l.jsx(Lt,{property:e.getProperty("border-color")})]})}const go=e=>Ba({value:parseFloat(e),min:-3,max:3}),kd=(e,t="filter")=>{const n=e.getProperty(`${t}-value`),r=e.getProperty(`${t}-name`).getOption()||{},o=r.units||[],s=n.getUnit(),i=eT(s,o)?s:o[0];return{...Ue(n),units:o,valueUnit:i,onChange:(a,c)=>{n.upValue(a,{partial:c,units:o,min:r.min,max:r.max})}}},S1=(e,t)=>{const n=e.getProperty(`${t}-name`),r=e.getProperty(`${t}-value`);return{...Ve(n),onChange:o=>{n.upValue(o),r.upValue("")}}},NA={"text-shadow-h":"1px","text-shadow-v":"1px","text-shadow-blur":"5px"};function $A({sector:e}){const t=e.getProperty("box-shadow"),n=e.getProperty("text-shadow"),r=e.getProperty("filter"),o=e.getProperty("backdrop-filter"),s=e.getProperty("transition"),i=e.getProperty("transform"),a=e.getProperty("perspective-origin"),c=d=>{const{boxShadowH:p,boxShadowV:h,boxShadowBlur:g,boxShadowColor:v,boxShadowSpread:b,boxShadowType:y}=d.getValues({camelCase:!0}),m=go(p),x=go(h),w=go(g),S=go(b),C=`${m}px ${x}px ${w}px ${S}px ${v} ${y}`.trim();return l.jsxs(D,{space:"s",items:"center",children:[l.jsxs(k,{grow:!0,children:[p," ",h," ",g," ",b]}),l.jsx(k,{children:l.jsx("div",{className:P("w-4 h-4 gjs-bg-white",J.b,J.rnd),style:{boxShadow:C}})})]})},u=d=>{const{textShadowH:p,textShadowV:h,textShadowBlur:g,textShadowColor:v}=d.getValues({camelCase:!0}),b=go(p),y=go(h),m=go(g),x=`${b}px ${y}px ${m}px ${v}`.trim();return l.jsxs(D,{space:"s",items:"center",children:[l.jsxs(k,{grow:!0,children:[p," ",h," ",g]}),l.jsx(k,{children:l.jsx("div",{className:P("w-4 h-4 gjs-bg-white",J.b,J.rnd),style:{boxShadow:x}})})]})};return l.jsxs(l.Fragment,{children:[l.jsxs(de,{children:[l.jsx(ae,{property:e.getProperty("opacity"),children:l.jsx(je,{...Ue(e.getProperty("opacity"))})}),l.jsx(ae,{property:e.getProperty("mix-blend-mode"),children:l.jsx(Ee,{...Ve(e.getProperty("mix-blend-mode"))})})]}),l.jsx(de,{separator:!0,children:l.jsx(ae,{property:e.getProperty("cursor"),children:l.jsx(Ee,{...Ve(e.getProperty("cursor"))})})}),l.jsx(de,{separator:!0,children:l.jsxs(hr,{...Dr(t),renderItem:c,children:[l.jsx(de,{children:l.jsx(At,{...Ve(t.getProperty("box-shadow-type"))})}),l.jsxs(de,{children:[l.jsx(ae,{label:"X offset",children:l.jsx(je,{...Ue(t.getProperty("box-shadow-h"))})}),l.jsx(ae,{label:"Y offset",children:l.jsx(je,{...Ue(t.getProperty("box-shadow-v"))})})]}),l.jsxs(de,{children:[l.jsx(ae,{label:"Blur",children:l.jsx(je,{...Ue(t.getProperty("box-shadow-blur"))})}),l.jsx(ae,{label:"Spread",children:l.jsx(je,{...Ue(t.getProperty("box-shadow-spread"))})})]}),l.jsx(de,{children:l.jsx(ae,{label:"Color",children:l.jsx(dr,{...gr(t.getProperty("box-shadow-color"))})})})]})}),l.jsx(de,{separator:!0,children:l.jsxs(hr,{...Dr(n,NA),renderItem:u,children:[l.jsxs(de,{children:[l.jsx(ae,{label:"X offset",children:l.jsx(je,{...Ue(n.getProperty("text-shadow-h"))})}),l.jsx(ae,{label:"Y offset",children:l.jsx(je,{...Ue(n.getProperty("text-shadow-v"))})})]}),l.jsx(de,{children:l.jsx(ae,{label:"Blur",children:l.jsx(je,{...Ue(n.getProperty("text-shadow-blur"))})})}),l.jsx(de,{children:l.jsx(ae,{label:"Color",children:l.jsx(dr,{...gr(n.getProperty("text-shadow-color"))})})})]})}),l.jsx(de,{separator:!0,children:l.jsx(hr,{...Dr(r,{"filter-name":"blur","filter-value":"3px"}),children:l.jsxs(de,{children:[l.jsx(ae,{label:"Type",children:l.jsx(Ee,{...S1(r,"filter")})}),l.jsx(ae,{label:"Value",children:l.jsx(je,{...kd(r)})})]})})}),l.jsx(de,{separator:!0,children:l.jsx(hr,{...Dr(o,{"backdrop-filter-name":"blur","backdrop-filter-value":"3px"}),children:l.jsxs(de,{children:[l.jsx(ae,{label:"Type",children:l.jsx(Ee,{...Ve(o.getProperty("backdrop-filter-name"))})}),l.jsx(ae,{label:"Value",children:l.jsx(je,{...kd(o,"backdrop-filter")})})]})})}),l.jsx(de,{separator:!0,children:l.jsxs(hr,{...Dr(s),children:[l.jsx(de,{children:l.jsx(ae,{label:"Type",children:l.jsx(Ee,{...Ve(s.getProperty("transition-property"))})})}),l.jsx(de,{children:l.jsx(ae,{label:"Easing",children:l.jsx(Ee,{...Ve(s.getProperty("transition-timing-function"))})})}),l.jsxs(de,{children:[l.jsx(ae,{label:"Duration",children:l.jsx(je,{...Ue(s.getProperty("transition-duration"))})}),l.jsx(ae,{label:"Delay",children:l.jsx(je,{...Ue(s.getProperty("transition-delay"))})})]})]})}),l.jsx(de,{separator:!0,children:l.jsx(hr,{...Dr(i),children:l.jsxs(de,{children:[l.jsx(ae,{label:"Type",children:l.jsx(Ee,{...S1(i,"transform")})}),l.jsx(ae,{label:"Value",children:l.jsx(je,{...kd(i,"transform")})})]})})}),l.jsx(Lt,{property:e.getProperty("transform-origin")}),l.jsx(Lt,{property:e.getProperty("overflow")}),l.jsx(de,{children:l.jsx(ae,{property:e.getProperty("backface-visibility"),children:l.jsx(At,{...Ve(e.getProperty("backface-visibility"))})})}),l.jsx(de,{separatorTop:!0,children:"Children transform"}),l.jsxs(de,{children:[l.jsx(ae,{property:e.getProperty("perspective"),children:l.jsx(je,{...Ue(e.getProperty("perspective"))})}),l.jsx(ae,{property:e.getProperty("transform-style"),children:l.jsx(At,{...Ve(e.getProperty("transform-style"))})})]}),l.jsx(Lt,{property:a})]})}function DA(e,t){return e.indexOf(t)>=0}const Xe=ie.s,Za="M6 6v12h13V6H6zm0 13v5H5V0h1v5h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6zm6-14h1v14h-1V5z",Ja="M6 6v12h13V6H6zm0-1h13c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm6-5h1v24h-1V0z",Qa="M6 6v12h13V6H6zm13-1V0h1v24h-1v-5H6a1 1 0 01-1-1V6c0-.6.4-1 1-1h13zm-7 0h1v14h-1V5z",j1="M2 6v12h6V6H2zm0 13v5H1V0h1v5h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H2zM16 6v12h6V6h-6zm6-1V0h1v24h-1v-5h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1h6z",C1="M11 0h1v24h-1V0zM1 6h6v12H1V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H1a1 1 0 01-1-1V6c0-.6.4-1 1-1zm15 1h6v12h-6V6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1z",IA="M3 6v12h6V6H3zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1H3a1 1 0 01-1-1V6c0-.6.4-1 1-1zM0 0h1v24H0V0zm14 6v12h6V6h-6zm0-1h6c.6 0 1 .4 1 1v12c0 .6-.4 1-1 1h-6a1 1 0 01-1-1V6c0-.6.4-1 1-1zm8-5h1v24h-1V0zM11 0h1v24h-1V0z",Ld="M15 19H9V6h6v13zM8 6v13H0v1h24v-1h-8V6h8V5H0v1h8z";function VA({sector:e}){const{editor:t}=ve(),n=Te(),[r,o]=f.useState({}),[s,i]=f.useState({}),a=e.getProperty("display"),c=e.getProperty("flex-direction"),u=e.getProperty("justify-content"),d=e.getProperty("align-items"),p=e.getProperty("flex-wrap"),h=e.getProperty("align-content"),g=e.getProperty("align-self"),v=e.getProperty("order"),b=N=>n.t(`styleManager.layout.${N}`),y=a.getValue(),m=y==="flex",x=(s.display||"").indexOf("flex")>=0,w=c.getValue(),S=w.indexOf("reverse")>=0,C=!DA(["column","column-reverse"],w),j=[{id:"row",label:l.jsx(Z,{icon:Y.arrowRight,size:ie.sx}),title:b("direction.title.row")},{id:"row-reverse",label:l.jsx(Z,{icon:Y.arrowRight,size:Xe,horizontal:!0}),title:b("direction.title.row-reverse")},{id:"column",label:l.jsx(Z,{icon:Y.arrowDown,size:ie.sx}),title:b("direction.title.column")},{id:"column-reverse",label:l.jsx(Z,{icon:Y.arrowDown,size:Xe,vertical:!0}),title:b("direction.title.column-reverse")}],E=[{id:"flex-start",title:"Start",label:l.jsx(Z,{icon:Za,size:Xe,rotate:C?0:90,horizontal:C&&S,vertical:!C&&S})},{id:"center",title:"Center",label:l.jsx(Z,{icon:Ja,size:Xe,rotate:C?0:90})},{id:"flex-end",title:"End",label:l.jsx(Z,{icon:Qa,size:Xe,rotate:C?0:90,horizontal:C&&S,vertical:!C&&S})},{id:"space-between",title:"Space between",label:l.jsx(Z,{icon:j1,size:Xe,rotate:C?0:90})},{id:"space-around",title:"Space around",label:l.jsx(Z,{icon:C1,size:Xe,rotate:C?0:90})},{id:"space-evenly",title:"Space evenly",label:l.jsx(Z,{icon:IA,size:Xe,rotate:C?0:90})}],O=[{id:"stretch",title:"Stretch",label:l.jsx(Z,{icon:Ld,size:Xe,rotate:C?0:90})},{id:"flex-start",title:"Start",label:l.jsx(Z,{icon:Za,size:Xe,rotate:C?90:0})},{id:"center",title:"Center",label:l.jsx(Z,{icon:Ja,size:Xe,rotate:C?90:0})},{id:"flex-end",title:"End",label:l.jsx(Z,{icon:Qa,size:Xe,rotate:C?90:0})}],A=[{id:"flex-start",title:"Start",label:l.jsx(Z,{icon:Za,size:Xe,rotate:C?90:0,horizontal:C&&S,vertical:!C&&S})},{id:"center",title:"Center",label:l.jsx(Z,{icon:Ja,size:Xe,rotate:C?90:0})},{id:"flex-end",title:"End",label:l.jsx(Z,{icon:Qa,size:Xe,rotate:C?90:0,horizontal:C&&S,vertical:!C&&S})},{id:"space-between",title:"Space between",label:l.jsx(Z,{icon:j1,size:Xe,rotate:C?90:0})},{id:"space-around",title:"Space around",label:l.jsx(Z,{icon:C1,size:Xe,rotate:C?90:0})},{id:"stretch",title:"Stretch",label:l.jsx(Z,{icon:Ld,size:Xe,rotate:C?0:90})}],_=[{id:"auto",title:"Auto",label:l.jsx(Z,{icon:Y.close,size:Xe})},{id:"flex-start",title:"Start",label:l.jsx(Z,{icon:Za,size:Xe,rotate:90})},{id:"center",title:"Center",label:l.jsx(Z,{icon:Ja,size:Xe,rotate:90})},{id:"flex-end",title:"End",label:l.jsx(Z,{icon:Qa,size:Xe,rotate:90})},{id:"stretch",title:"Stretch",label:l.jsx(Z,{icon:Ld,size:Xe,rotate:0})}],T=[{id:"0 0 auto",label:l.jsx(Z,{icon:Y.close,size:Xe}),title:"Auto"},{id:"1 1 0%",label:l.jsx(Z,{icon:Y.unfoldMoreHorizontal,size:Xe,rotate:90}),title:"Fill container"},{id:"0 1 auto",label:l.jsx(Z,{icon:Y.unfoldLessHorizontal,size:Xe,rotate:90}),title:"Hug contents"}];return f.useEffect(()=>{if(!t)return()=>{};const{Styles:N}=t,B=()=>{const M=t.getSelected();let L={},F={};if(M){const R=M.getEl();if(R){L=window.getComputedStyle(R);const I=R.parentElement;I&&(F=window.getComputedStyle(I))}}o(L),i(F)},$=N.events.target;return t.on($,B),B(),()=>t.off($,B)},[t]),l.jsxs(l.Fragment,{children:[l.jsx(de,{children:l.jsx(ae,{property:a,tooltip:b(`display.tips.${y}`),row:!0,children:l.jsx(Ee,{...Ve(a)})})}),m&&l.jsxs(l.Fragment,{children:[l.jsx(de,{children:l.jsx(ae,{property:c,children:l.jsx(At,{...Ve(c),options:j})})}),l.jsx(de,{children:l.jsx(ae,{property:u,children:l.jsx(At,{...Ve(u),options:E})})}),l.jsx(de,{children:l.jsx(ae,{property:d,children:l.jsx(At,{...Ve(d),options:O})})}),l.jsx(de,{children:l.jsx(Lt,{property:e.getProperty("gap")})}),l.jsx(de,{children:l.jsx(ae,{property:p,row:!0,children:l.jsx(Ee,{...Ve(p)})})}),p.getValue()!=="nowrap"&&l.jsx(de,{children:l.jsx(ae,{property:h,children:l.jsx(At,{...Ve(h),options:A})})})]}),x&&l.jsxs(l.Fragment,{children:[l.jsx(de,{separatorTop:!0,children:b("flexChild")}),l.jsx(de,{children:l.jsx(Lt,{property:e.getProperty("flex"),options:T})}),l.jsx(de,{children:l.jsx(ae,{property:g,children:l.jsx(At,{...Ve(g),options:_})})}),l.jsx(de,{children:l.jsx(ae,{property:v,row:!0,children:l.jsx(je,{...Ue(v)})})})]})]})}const HA=["topLeft","topRight","bottomLeft","bottomRight","left","right","bottom","top","full"];function BA({sector:e}){var h;const t=Te(),n=e.getProperty("position"),r=n.getValue(),o=e.getProperty("top"),s=e.getProperty("right"),i=e.getProperty("bottom"),a=e.getProperty("left"),c=g=>t.t(`styleManager.position.${g}`),u=HA.map(g=>({id:g,label:c(`presets.options.${g}`)})),d=["absolute","fixed"].includes(r),p=g=>{let v="auto",b="auto",y="auto",m="auto";switch(g){case"topLeft":v="0%",m="0%";break;case"topRight":v="0%",b="0%";break;case"bottomLeft":y="0%",m="0%";break;case"bottomRight":y="0%",b="0%";break;case"left":v="0%",y="0%",m="0%";break;case"right":v="0%",y="0%",b="0%";break;case"bottom":m="0%",y="0%",b="0%";break;case"top":m="0%",v="0%",b="0%";break;case"full":m="0%",v="0%",b="0%",y="0%";break}o.upValue(v),s.upValue(b),i.upValue(y),a.upValue(m)};return l.jsxs(l.Fragment,{children:[l.jsxs(de,{children:[l.jsx(ae,{property:n,tooltip:c(`tips.${(h=n.getOption())==null?void 0:h.id}`),row:!0,children:l.jsx(Ee,{...Ve(n)})}),d&&l.jsx(k,{children:l.jsx(lt,{title:c("presets.title"),children:l.jsx(Ee,{options:u,onChange:p,emptyState:"P",size:"s",caret:"",value:!0})})})]}),r!=="static"&&l.jsxs(l.Fragment,{children:[l.jsxs(de,{col:!0,children:[l.jsx(D,{className:P("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(ae,{property:o,children:l.jsx(je,{...Ue(o)})})}),l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:l.jsx(ae,{property:a,children:l.jsx(je,{...Ue(a)})})}),l.jsx(k,{grow:!0,children:l.jsx(ae,{property:s,children:l.jsx(je,{...Ue(s)})})})]}),l.jsx(D,{className:P("gs-utl-w-1/2 gjs-m-auto"),children:l.jsx(ae,{property:i,children:l.jsx(je,{...Ue(i)})})})]}),l.jsx(de,{children:l.jsx(ae,{property:e.getProperty("z-index"),children:l.jsx(je,{...Ue(e.getProperty("z-index"))})})})]})]})}function zA({sector:e}){const t=e.getProperty("width"),n=e.getProperty("min-width"),r=e.getProperty("max-width"),o=e.getProperty("height"),s=e.getProperty("min-height"),i=e.getProperty("max-height");return l.jsxs(l.Fragment,{children:[l.jsxs(de,{children:[l.jsx(ae,{property:t,children:l.jsx(je,{...Ue(t)})}),l.jsx(ae,{property:o,children:l.jsx(je,{...Ue(o)})})]}),l.jsxs(de,{children:[l.jsx(ae,{property:n,children:l.jsx(je,{...Ue(n)})}),l.jsx(ae,{property:s,children:l.jsx(je,{...Ue(s)})})]}),l.jsxs(de,{children:[l.jsx(ae,{property:r,children:l.jsx(je,{...Ue(r)})}),l.jsx(ae,{property:i,children:l.jsx(je,{...Ue(i)})})]})]})}function FA({sector:e}){return l.jsxs(l.Fragment,{children:[l.jsx(Lt,{property:e.getProperty("padding")}),l.jsx(Lt,{property:e.getProperty("margin")})]})}function RA({sector:e}){const t=e.getProperty("font-family"),n=e.getProperty("color"),r=e.getProperty("font-size"),o=e.getProperty("font-weight"),s=e.getProperty("line-height"),i=e.getProperty("letter-spacing"),a=e.getProperty("text-align"),c=e.getProperty("text-decoration"),u=e.getProperty("text-transform"),d=e.getProperty("direction"),p=e.getProperty("white-space");return l.jsxs(l.Fragment,{children:[!!t&&l.jsx(de,{children:l.jsx(ae,{property:t,children:l.jsx(Ee,{...Ve(t)})})}),!!n&&l.jsx(de,{children:l.jsx(ae,{property:n,children:l.jsx(dr,{...gr(n)})})}),l.jsxs(de,{children:[!!r&&l.jsx(ae,{property:r,children:l.jsx(je,{...Ue(r)})}),!!o&&l.jsx(ae,{property:o,children:l.jsx(Ee,{...Ve(o)})})]}),l.jsxs(de,{children:[!!s&&l.jsx(ae,{property:s,children:l.jsx(je,{...Ue(s)})}),!!i&&l.jsx(ae,{property:i,children:l.jsx(je,{...Ue(i)})})]}),l.jsxs(de,{children:[!!a&&l.jsx(ae,{property:a,children:l.jsx(Ee,{...Ve(a)})}),!!c&&l.jsx(ae,{property:c,children:l.jsx(Ee,{...Ve(c)})})]}),l.jsxs(de,{children:[!!u&&l.jsx(ae,{property:u,children:l.jsx(Ee,{...Ve(u)})}),!!d&&l.jsx(ae,{property:d,children:l.jsx(Ee,{...Ve(d)})})]}),!!p&&l.jsx(de,{children:l.jsx(ae,{property:p,children:l.jsx(Ee,{...Ve(p)})})})]})}const E1="gs-style-manager",Nd=`${E1}-sector`,UA=`${Nd}-header`,WA=`${Nd}-content`,_1=(e,t=0,n=!0)=>P(UA,V.bgH2,_e.xyS,V.br,t&&J.bt,(e||n)&&J.bb),GA=(e,t={})=>e.getOptions().map(n=>({id:e.getOptionId(n),label:e.getOptionLabel(e.getOptionId(n),t),title:n.title})),KA=(e,t)=>t.map(n=>({...n,title:e.getOptionLabel(e.getOptionId(n))})),Ve=(e,t={})=>({size:"s",options:GA(e,t),value:e.getValue(),onChange:n=>e.upValue(n)}),Dr=(e,t={})=>({title:e.getLabel(),titleAdd:`Add new ${e.getLabel()}`,items:e.getLayers(),selected:e.getSelectedLayer(),renderItem:n=>e.getLayerLabel(n),add:()=>e.addLayer(t,{at:0}),select:n=>e.selectLayer(n),remove:n=>e.removeLayer(n),move:(n,r=0)=>e.moveLayer(n,r),label:l.jsx(ae,{property:e})}),Ue=e=>({size:"s",value:e.getValue({noDefault:!0}),valueUnit:e.getUnit(),units:e.getUnits(),placeholder:e.getDefaultValue(),onChangeUnit:t=>e.upUnit(t),onChange:(t,n)=>e.upValue(t,{partial:n})}),gr=e=>({size:"s",value:e.getValue({noDefault:!0}),placeholder:e.getDefaultValue(),onChange:(t,n)=>e.upValue(t,{partial:n})}),qA=e=>({...gr(e),onOpen(){const t=e.em.Assets;t.open({select(n){e.upValue(n.getSrc()),t.close()}})}}),YA=e=>{const t=e.getId();let n=kA;switch(t){case"gs-layout":n=VA;break;case"gs-size":n=zA;break;case"gs-space":n=FA;break;case"gs-position":n=BA;break;case"gs-borders":n=LA;break;case"gs-effects":n=$A;break;case"gs-typography":n=RA;break;case"gs-background":n=r3;break}return l.jsx(n,{sector:e})};function O1({className:e,sectors:t}){const{Styles:n}=ct(),r=n.getSelected(),o=t.length?t:n.getSectors({visible:!0});return r?l.jsx("div",{className:P(E1,e,"select-none"),children:o.map((s,i)=>l.jsx(Uo,{classNameWrap:Nd,sticky:!0,handler:()=>{const a=s.getProperties({withValue:!0}).length>0,c=s.getProperties({withParentValue:!0}).length>0;return l.jsxs(D,{space:"xs",items:"center",children:[l.jsx(k,{className:P("gjs-mr-2"),children:s.getName()}),a&&l.jsx(k,{children:l.jsx("div",{className:P(We.dot,V.bgA2)})}),c&&l.jsx(k,{children:l.jsx("div",{className:P(We.dot,V.bgW)})})]})},className:a=>_1(a,i,i===o.length-1),children:l.jsx(D,{className:P(WA,"gjs-p-2"),col:!0,children:YA(s)})},s.getId()))}):null}function el({value:e,label:t,border:n,size:r="m",onChange:o}){const s=!!e,i=P("relative inline-flex items-center h-6 gjs-rounded-full w-11 transition-colors focus:gs-utl-outline-none",s?V.bgA:V.bgH,_s.focus,n&&`${V.br} ${J.b}`);return l.jsx(xu.Group,{children:l.jsxs(D,{full:!0,items:"center",children:[!!t&&l.jsx(xu.Label,{className:P("gjs-mr-4 flex-1"),passive:!0,children:l.jsx(vt,{as:"span",size:r,m:"",children:t})}),l.jsx(xu,{checked:s,onChange:o,className:i,children:l.jsx("span",{className:P(V.bg,"inline-block w-4 h-4 transform gjs-rounded-full transition-transform",s?"translate-x-6":"translate-x-1")})})]})})}const XA=/^-?[0-9]+(\.[0-9]+)?[a-zA-Z%]{0,}$/,ZA=/,(?![^(]*\))/,$d=/\s(?![^(]*\))/,JA=/^(closest-side|closest-corner|farthest-side|farthest-corner)/i,Dd=/^circle|ellipse/i,Id=e=>{var d;const t=[],{name:n,value:r}=Ta(e),[o,...s]=r.split(ZA).map(p=>p.trim()).filter(Boolean),i=s.length>1,a=i?o:"",c={type:"none"},u=i?s:[o,...s];if(XA.test(a))c.type="angle",c.value=a;else if(/^to\s/.test(a))c.type="side-or-corner",c.value=a;else if(JA.test(a))c.type="size",c.value=a;else if(Dd.test(a)||/^at\s/.test(a)||/\sat\s/.test(a)){c.type="at",c.value=a;const p=((d=a.match(Dd))==null?void 0:d[0])||"circle";c.shape=p;const h={x:"0%",y:"0%"},g={x:"0%",y:"0%"},[v,b]=a.replace(Dd,"").trim().split("at").map(y=>y.trim());if(v){const[y,m]=v.split($d);h.x=y,h.y=m||y}if(b){const[y,m]=b.split($d);g.x=y,g.y=m||y}c.size=h,c.position=g}return u.forEach(p=>{const[h,g]=p.split($d);t.push({color:h,hint:g?parseFloat(g):null})}),t.forEach((p,h)=>{p.hint===null&&(p.hint=h/(t.length-1)*100)}),{name:n,orientation:c,colorStops:t}},Ir=({stops:e,orientation:t="to right",name:n="linear-gradient"})=>{const o=(e.length===1?[{color:e[0].color,hint:null},{color:e[0].color,hint:null}]:e).map(s=>`${s.color} ${s.hint?`${s.hint}%`:""}`.trim()).join(", ");return o?`${n}(${t}, ${o})`:"none"},QA=e=>e.slice().sort((t,n)=>(t.hint||0)-(n.hint||0));function e3({className:e,value:t,onChange:n}){var L,F,R;const r=Id(t),[o,s]=f.useState(r.colorStops),[i,a]=f.useState(null),c=f.useRef(null),u=P("grad-picker select-none",e,J.rnd),d=r.name||"linear-gradient",p=d.indexOf("radial")>=0,h=d.indexOf("repeating")>=0,g=r.orientation.value,v=`${parseFloat(`${g}`)||180}`,b=`${parseFloat(`${(L=r.orientation.size)==null?void 0:L.x}`)||0}`,y=`${parseFloat(`${(F=r.orientation.position)==null?void 0:F.x}`)||0}`,m=`${parseFloat(`${(R=r.orientation.position)==null?void 0:R.y}`)||0}`,x=0,w=100,S=(I,z=!1)=>{const U=QA(I);s(U),n==null||n(Ir({name:d,orientation:g,stops:U}),z)},C=(I,z=!1)=>{n==null||n(Ir({stops:o,name:d,orientation:`${I}deg`}),z)},j=(I,z=!1)=>{n==null||n(Ir({stops:o,name:d,orientation:`${I}px at ${y}% ${m}%`}),z)},E=(I,z=!1)=>{n==null||n(Ir({stops:o,name:d,orientation:`${b}px at ${I}% ${m}%`}),z)},O=(I,z=!1)=>{n==null||n(Ir({stops:o,name:d,orientation:`${b}px at ${y}% ${I}%`}),z)},A=I=>{const z=`${I?"repeating-":""}${p?"radial":"linear"}-gradient`;n==null||n(Ir({stops:o,orientation:g,name:z}))},_=I=>{const z=`${h?"repeating-":""}${I?"radial":"linear"}-gradient`;n==null||n(Ir({stops:o,orientation:I?"100px at 50% 50%":"90deg",name:z}))};f.useEffect(()=>{if(!i)return;const I=parseFloat(`${i.stop.hint}`),z=K=>{let X=(K.clientX-i.x)*100;X=X/i.w,X=I+X,X=X<x?x:X,X=X>w?w:X,i.stop.hint=parseInt(`${X}`,10),S(o,!0)},U=()=>{a(null),S(o)};return window.addEventListener("pointermove",z),window.addEventListener("pointerup",U),()=>{window.removeEventListener("pointermove",z),window.removeEventListener("pointerup",U),U()}},[i]);const T=(I,z)=>{const U=c.current;a({stop:z,w:(U==null?void 0:U.clientWidth)||0,h:(U==null?void 0:U.clientHeight)||0,x:I.clientX,y:I.clientY})},N=I=>{const z=c.current,U=(z==null?void 0:z.clientWidth)||0,K=(z==null?void 0:z.clientHeight)||0,ee=I.nativeEvent.offsetX-((z==null?void 0:z.clientLeft)||0),X=I.nativeEvent.offsetY-((z==null?void 0:z.clientTop)||0),Q=ee/U*100,ce=document.createElement("canvas"),te=ce.getContext("2d");if(!te)return;ce.width=U,ce.height=K;const G=te.createLinearGradient(0,0,U,K);o.forEach(ye=>G.addColorStop(parseFloat(`${ye.hint}`)/100,ye.color)),te.fillStyle=G,te.fillRect(0,0,ce.width,ce.height),ce.style.background="black";const W=te.getImageData(ee,X,1,1).data,se=W[3]?(100/255*W[3]/100).toFixed(2):0,ne=`rgba(${W[0]}, ${W[1]}, ${W[2]}, ${se})`,be=ne==="rgba(0, 0, 0, 0)"?"#000":ne;S([...o,{color:be,hint:Q}])},B=I=>{S(o.filter(z=>z!==I))},$=(I,z,U)=>{z&&(I.color=z),S(o,U)},M=I=>(i==null?void 0:i.stop)===I;return l.jsxs("div",{className:u,children:[!!(i!=null&&i.stop)&&l.jsx("div",{className:P("fixed inset-0 z-50 cursor-colr")}),l.jsxs("div",{className:P("relative gjs-mb-6 gjs-mt-3"),children:[l.jsx("div",{className:P("bg-checker h-8",J.rnd),children:l.jsx("div",{ref:c,className:P("w-full h-full cursor-cross",J.b,J.rnd,V.br),style:{backgroundImage:Ir({stops:o})},onClick:N})}),o.map((I,z)=>l.jsxs("div",{className:P("absolute top-0 h-full"),style:{left:`${I.hint}%`},children:[l.jsx("div",{className:P("cursor-pointer absolute gs-utl-translate-x-[-50%] gs-utl-top-[-14px]"),onClick:()=>B(I),children:l.jsx(Z,{icon:Y.close,size:ie.s3x})}),l.jsx("div",{onPointerDown:U=>T(U,I),className:P("h-full w-1 gs-utl-translate-x-[-50%] cursor-colr opacity-50 gjs-border-white",J.br,J.bl,M(I)?"gjs-bg-white":"gjs-bg-black")}),l.jsx("div",{className:P("cursor-pointer gs-utl-bottom-[-17px] gs-utl-left-[-7px] absolute"),children:l.jsx(wm,{value:I.color,onChange:(U,K)=>$(I,U,K),className:P("h-4 w-4 gjs-rounded-full gjs-border-2")})})]},z))]}),l.jsxs(D,{space:"s",items:"center",children:[l.jsx(k,{grow:!0,children:l.jsx(el,{label:"Repeat",value:h,onChange:A})}),l.jsx(k,{grow:!0,children:l.jsx(el,{label:"Radial",value:p,onChange:_})})]}),p?l.jsxs(D,{space:"s",col:!0,children:[l.jsx(k,{children:l.jsx(D,{space:"s",items:"center",children:l.jsx(k,{grow:!0,children:l.jsx(je,{pan:"S",size:"s",value:b,onChange:j,valueUnit:"px",units:["px"]})})})}),l.jsx(k,{children:l.jsxs(D,{space:"s",children:[l.jsx(k,{grow:!0,children:l.jsx(je,{pan:"X",size:"s",value:y,onChange:E,valueUnit:"%",units:["%"]})}),l.jsx(k,{grow:!0,children:l.jsx(je,{pan:"Y",size:"s",value:m,onChange:O,valueUnit:"%",units:["%"]})})]})})]}):l.jsx(D,{space:"s",items:"center",nowrap:!0,children:l.jsx(k,{grow:!0,children:l.jsx(je,{pan:"A",size:"s",value:v,onChange:C,valueUnit:"deg",units:["deg"]})})})]})}var Vr=(e=>(e.Image="image",e.Gradient="gradient",e.Color="color",e))(Vr||{});const tl="background-image",Fn="__background-type",mi=tl,P1="https://placehold.co/150/777/white.png?text=IMAGE",Vd="50px",t3={[Fn]:"image","background-image":`url("${P1}")`,"background-size":`${Vd} ${Vd}`,"background-repeat":"repeat","background-position":"0px 0px"},n3=e=>(e.includes("gradient(")?Id(e).colorStops[0].color:e)||"";function r3({sector:e}){var y;const t=ct(),n=e.getProperty("background"),r=n.getProperty(Fn),o=n.getProperty("background-image"),s=n.getProperty("background-position"),i=n.getProperty("background-size"),a=e.getProperty("background-color"),c=e.getProperty("background-clip"),u=((y=n.getSelectedLayer())==null?void 0:y.getIndex())||-1,d=r.getValue(),p=d==="image",h=o.getValue(),g=()=>{const m=t.Assets;m.open({select(x){const w=x.getSrc();o.upValue(`url("${w}")`),m.close()}})},v=m=>{let x="none",w="100%";m==="image"?(x=`url("${P1}")`,w=Vd):m==="gradient"?x="linear-gradient(90deg, black 10%, white 90%)":m==="color"&&(x="rgba(0, 0, 0, 0.5)"),o.upValue(x),r.upValue(m),s.upValue("0 0"),i.upValue(`${w} ${w}`)},b=KA(r,[{id:"image",label:l.jsx(Z,{icon:Y.image,size:ie.s})},{id:"gradient",label:l.jsx(Z,{icon:Y.gradientVertical,size:ie.s})},{id:"color",label:l.jsx(Z,{icon:Y.checkboxBlank,size:ie.s})}]);return l.jsxs(l.Fragment,{children:[l.jsx(de,{separator:!0,children:l.jsxs(hr,{...Dr(n,t3),previewStyle:m=>n.getStyleFromLayer(m,{camelCase:!0}),children:[l.jsx(de,{children:l.jsx(ae,{label:"Type",children:l.jsx(At,{...Ve(r),options:b,onChange:v})})}),l.jsx(de,{children:l.jsxs(ae,{children:[p&&l.jsx(hi,{value:Ta(h).value,onOpen:g}),d==="color"&&l.jsx(dr,{...gr(o),value:n3(h)}),d==="gradient"&&l.jsx(e3,{value:h,onChange:(m,x)=>o.upValue(m,{partial:x})},u)]})}),p&&l.jsxs(l.Fragment,{children:[l.jsx(de,{col:!0,children:l.jsx(Lt,{property:s})}),l.jsx(de,{col:!0,children:l.jsx(Lt,{property:i})}),l.jsxs(de,{children:[l.jsx(ae,{label:n.getProperty("background-repeat").getLabel(),children:l.jsx(Ee,{...Ve(n.getProperty("background-repeat"))})}),l.jsx(ae,{label:n.getProperty("background-attachment").getLabel(),children:l.jsx(Ee,{...Ve(n.getProperty("background-attachment"))})})]}),l.jsx(de,{children:l.jsx(ae,{label:n.getProperty("background-origin").getLabel(),children:l.jsx(Ee,{...Ve(n.getProperty("background-origin"))})})})]})]})}),l.jsx(de,{children:l.jsx(ae,{property:a,children:l.jsx(dr,{...gr(a)})})}),l.jsx(de,{children:l.jsx(ae,{property:c,children:l.jsx(Ee,{...Ve(c)})})})]})}const nl=["%"],rl=["s","ms"],vi=["deg","rad","grad"],Rn=["px","%","em","rem","vw","vh"],T1={type:"select",options:["visible","hidden","scroll","auto"].map(e=>({id:e})),default:"visible"},o3=e=>`linear-gradient(${e} 1%, ${e} 100%)`,Hd=e=>({id:e,label:e.split("-").map(nr).join(" ")}),A1=e=>({property:t,to:n})=>{if(n.value){const r=t.getOption(),o=t.getParent().getProperty(e),s=o.getUnit(),i={units:r.units||[],min:r.min,max:r.max,unit:""};(!s||(i==null?void 0:i.units.indexOf(s))<0)&&(i.unit=(i==null?void 0:i.units[0])||""),o.up(i)}},s3=e=>{const t=`${e}-name`,n=`${e}-value`;return(r,{separatorLayers:o})=>{const s=r[e]||"";return s?s.split(o).map(i=>{const{name:a,value:c}=Ta(i);return{[t]:a,[n]:c}}):[]}},M1=e=>{const t={[mi]:e};if(e.indexOf("url(")>-1)t[Fn]=Vr.Image;else if(e.indexOf("gradient(")>-1){const n=Id(e),r=n.colorStops,o=n.name.indexOf("linear")>=0;r.length===2&&o&&r[0].color===r[1].color?t[Fn]=Vr.Color:t[Fn]=Vr.Gradient}else t[Fn]=Vr.Color,t[mi]=o3(e);return t},k1=(e="filter")=>{const t=`${e}-name`,n=`${e}-value`;return{property:e,type:"stack",layerSeparator:" ",fromStyle(r,{separatorLayers:o}){const s=r[e]||"";return s?s.split(o).map(i=>{const{name:a,value:c}=Ta(i);return{[t]:a,[n]:c}}):[]},toStyle(r,{name:o}){return{[o]:`${r[t]}(${r[n]||"0"})`}},properties:[{property:t,type:"select",default:"blur",options:[{id:"blur",label:"Blur",min:0,units:["px","em","rem","vw","vh"]},{id:"brightness",label:"Brightness",min:0,units:["%"]},{id:"contrast",label:"Contrast",min:0,units:["%"]},{id:"grayscale",label:"Grayscale",min:0,max:100,units:["%"]},{id:"hue-rotate",label:"Hue rotate",min:0,max:360,units:["deg","rad","grad"]},{id:"invert",label:"Invert",min:0,max:100,units:["%"]},{id:"saturate",label:"Saturate",min:0,units:["%"]},{id:"sepia",label:"Sepia",min:0,max:100,units:["%"]}],onChange:A1(n)},{property:n,type:"integer"}]}},ol=(e,{x:t,y:n,mergable:r}={})=>{const o={property:`${e}-x`,type:"integer",units:Rn,...t},s={property:`${e}-y`,type:"integer",units:Rn,...n};return{property:e,type:"composite",properties:[o,s],...r&&{fromStyle(i,{name:a,separator:c,property:u}){const[d,p]=u.getProperties(),[h,g]=(i[a]||"").split(c);return{[d.getId()]:i[d.getName()]||h||"",[p.getId()]:i[p.getName()]||g||h||""}},toStyle(i,{name:a,property:c}){const[u,d]=c.getProperties(),p=i[u.getId()],h=i[d.getId()];return{[a]:p===h?p:`${p} ${h}`}}}}},i3=(e,t="")=>{const n=`${e}-name`,r=`${e}-value`;return(o,{name:s})=>({[s]:`${o[n]}(${o[r]||t})`})},a3=[{name:"Size",open:!1,buildProps:["width","height","max-width","min-height"],properties:[{property:"icon-size",type:"number",defaults:"20px",units:["px","%"]}]},{name:"Space",open:!1,buildProps:["margin","padding","vertical-align"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"},{name:"Left",property:"margin-left"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]},{property:"vertical-align",type:"select",options:["top","middle","bottom"].map(Hd)}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","align","text-decoration","font-style"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"align",defaults:"left",type:"select",options:[{id:"left",label:"Left"},{id:"center",label:"Center"},{id:"right",label:"Right"},{id:"justify",label:"Justify"}]},{property:"text-decoration",type:"select",defaults:"none",options:[{id:"none",label:"None"},{id:"underline",label:"underline"},{id:"line-through",label:"Line-through"}]},{property:"font-style",type:"select",defaults:"normal",options:[{id:"normal",label:"Normal"},{id:"italic",label:"Italic"}]}]},{name:"Borders",open:!1,buildProps:["border-radius","border"],properties:[{property:"border-radius",corners:!0,properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border",generic:!0},{property:"border-detached",name:"Border",type:"composite",detached:!0,generic:!0,properties:[{name:"Width",property:"border-width",type:"integer",units:["px","%"]},{name:"Style",property:"border-style",type:"select",options:["none","solid","dotted","dashed","double","groove","ridge","inset","outset"].map(Hd)},{name:"Color",property:"border-color",type:"color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","container-background-color","background-url","background-repeat","background-size"],properties:[{name:"Background color",property:"container-background-color",full:!0,type:"color"},{property:"background-url",type:"file"}]}],l3=[{id:"gs-layout",name:"Layout",properties:[{extend:"display"},{extend:"flex-direction",name:"Direction",type:"radio",default:"row"},{extend:"justify-content",type:"radio",default:"flex-start"},{extend:"align-items",type:"radio",default:"stretch"},ol("gap",{x:{property:"row-gap",min:0,default:"0"},y:{property:"column-gap",min:0,default:"0"},mergable:!0}),{extend:"flex-wrap"},{extend:"align-content"},{extend:"align-self"},{extend:"order"},{property:"flex",type:"composite",properties:[{type:"integer",property:"flex-grow",default:"0",min:0},{type:"integer",property:"flex-shrink",default:"0",min:0},{type:"integer",property:"flex-basis",fixedValues:["auto"],default:"auto",units:Rn,min:0}]}]},{id:"gs-size",name:"Size",properties:[{extend:"width"},{extend:"min-width"},{extend:"max-width"},{extend:"height"},{extend:"min-height"},{extend:"max-height"}]},{id:"gs-space",name:"Space",properties:[{extend:"padding",detached:!0},{extend:"margin",detached:!0}]},{id:"gs-position",name:"Position",properties:[{extend:"position",options:[{id:"static",label:"Static"},{id:"relative",label:"Relative"},{id:"absolute",label:"Absolute"},{id:"fixed",label:"Fixed"},{id:"sticky",label:"Sticky"}],onChange({opts:e,property:t}){if(e.__clear){const n={top:"",right:"",bottom:"",left:"","z-index":""};t.__upTargetsStyle(n,e)}}},{extend:"top"},{extend:"right"},{extend:"bottom"},{extend:"left"},{extend:"z-index",type:"integer",default:"0"}]},{id:"gs-typography",name:"Typography",properties:[{extend:"font-family"},{extend:"color"},{extend:"font-size"},{extend:"font-weight"},{extend:"line-height",min:0},{extend:"letter-spacing"},{extend:"text-align"},{extend:"text-decoration",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"underline",label:"Underline"},{id:"overline",label:"Overline"},{id:"line-through",label:"Line through"}]},{extend:"text-transform",type:"select",default:"none",options:[{id:"none",label:"None"},{id:"capitalize",label:"Capitalize"},{id:"uppercase",label:"Uppercase"},{id:"lowercase",label:"Lowercase"}]},{extend:"direction",type:"radio",default:"ltr",options:[{id:"ltr",label:"LTR"},{id:"rtl",label:"RTL"}]},{extend:"white-space",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"nowrap",label:"No wrap"},{id:"pre",label:"Pre"},{id:"pre-wrap",label:"Pre wrap"},{id:"pre-line",label:"Pre line"},{id:"break-spaces",label:"Break spaces"}]}]},{id:"gs-background",name:"Background",properties:[{property:"background",type:"stack",layerSeparator:new RegExp("(?<!\\(.*[^)]),(?![^(]*\\))"),layerJoin:", ",detached:!0,layerLabel:(e,{values:t,property:n})=>n.getProperty(Fn).getOptionLabel(t[Fn]),toStyle(e){const t=e[Fn];let n=e[mi];return t==="color"&&n.indexOf("linear-gradient")<0&&(n=`linear-gradient(${n} 1%, ${n} 100%)`),{...e,[mi]:n}},fromStyle(e,{property:t,name:n,separatorLayers:r}){const o=r,s=t.getProperties();let i=[];return e[tl]?(i=t.__splitStyleName(e,tl,o).map(M1),s.forEach(a=>{const c=a.getId(),u=a.getName();u!==tl&&t.__splitStyleName(e,u,o).map(d=>({[c]:d||a.getDefaultValue()})).forEach((d,p)=>{i[p]=i[p]?{...i[p],...d}:d})})):e[n]&&(i=t.__splitStyleName(e,n,/(?![^)(]*\([^)(]*?\)\)),(?![^\(]*\))/).map(a=>a.substring(0,a.lastIndexOf(")")+1)).map(M1)),i},properties:[{property:Fn,type:"radio",default:"image",options:[{id:Vr.Image},{id:Vr.Gradient},{id:Vr.Color}]},{property:mi,default:"none"},{property:"background-position",type:"composite",properties:["background-position-x","background-position-y"].map(e=>({type:"integer",property:e,units:Rn,default:"0px"}))},{property:"background-size",type:"composite",properties:["background-size-x","background-size-y"].map(e=>({type:"integer",property:e,units:Rn,default:"auto"}))},{property:"background-repeat",default:"repeat",type:"select",options:[{id:"repeat",label:"Repeat"},{id:"repeat-x",label:"Repeat x"},{id:"repeat-y",label:"Repeat y"},{id:"no-repeat",label:"No repeat"},{id:"space",label:"Space"},{id:"round",label:"Round"}]},{property:"background-attachment",default:"scroll",type:"select",options:[{id:"scroll",label:"Scroll"},{id:"fixed",label:"Fixed"}]},{property:"background-origin",default:"padding-box",type:"select",options:[{id:"padding-box",label:"Padding box"},{id:"border-box",label:"Border box"},{id:"content-box",label:"Content box"}]}]},{property:"background-color",type:"color",default:"none"},{property:"background-clip",default:"border-box",type:"select",options:[{id:"border-box",label:"Border box"},{id:"padding-box",label:"Padding box"},{id:"content-box",label:"Content box"},{id:"text",label:"Text"}],onChange({to:e,property:t,opts:n}){const{value:r}=e;if(r!==void 0){const o=r==="text";t.__upTargetsStyle({"-webkit-background-clip":o?r:"","-webkit-text-fill-color":o?"transparent":""},n)}}}]},{id:"gs-borders",name:"Borders",properties:[{extend:"border-radius",detached:!0},{extend:"border-width",type:"composite",detached:!0,properties:["border-top-width","border-right-width","border-bottom-width","border-left-width"].map(e=>({type:"integer",property:e,default:"0",units:Rn}))},{extend:"border-style",type:"composite",detached:!0,properties:["border-top-style","border-right-style","border-bottom-style","border-left-style"].map(e=>({type:"select",property:e,default:"none",options:[{id:"none",label:"None"},{id:"solid",label:"Solid"},{id:"dotted",label:"Dotted"},{id:"dashed",label:"Dashed"},{id:"double",label:"Double"},{id:"groove",label:"Groove"},{id:"ridge",label:"Ridge"},{id:"inset",label:"Inset"},{id:"outset",label:"Outset"}]}))},{extend:"border-color",type:"composite",detached:!0,properties:["border-top-color","border-right-color","border-bottom-color","border-left-color"].map(e=>({type:"color",property:e,default:"currentColor"}))}]},{id:"gs-effects",name:"Effects",properties:[{property:"opacity",type:"integer",min:0,max:100,default:"100",units:["%"]},{property:"mix-blend-mode",type:"select",default:"normal",options:[{id:"normal",label:"Normal"},{id:"multiply",label:"Multiply"},{id:"screen",label:"Screen"},{id:"overlay",label:"Overlay"},{id:"darken",label:"Darken"},{id:"lighten",label:"Lighten"},{id:"color-dodge",label:"Color dodge"},{id:"color-burn",label:"Color burn"},{id:"hard-light",label:"Hard light"},{id:"soft-light",label:"Soft light"},{id:"difference",label:"Difference"},{id:"exclusion",label:"Exclusion"},{id:"hue",label:"Hue"},{id:"saturation",label:"Saturation"},{id:"color",label:"Color"},{id:"luminosity",label:"Luminosity"}]},{extend:"cursor"},ol("overflow",{x:T1,y:T1,mergable:!0}),{extend:"box-shadow",fromStyle(e,{separatorLayers:t}){const n=e["box-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:i,blur:a,spread:c,inset:u,color:d}=Ug(o);return{"box-shadow-h":s,"box-shadow-v":i,"box-shadow-blur":a,"box-shadow-spread":c,"box-shadow-color":d,"box-shadow-type":u?"inset":""}}):[]}},{extend:"text-shadow",fromStyle(e,{separatorLayers:t}){const n=e["text-shadow"]||"";return n?n.split(t).map(o=>{const{x:s,y:i,blur:a,color:c}=Ug(o);return{"text-shadow-h":s,"text-shadow-v":i,"text-shadow-blur":a,"text-shadow-color":c}}):[]}},k1(),k1("backdrop-filter"),{property:"transition",type:"stack",layerLabel:(e,{values:t})=>`${nr(t["transition-property"])}: ${t["transition-duration"]}`,properties:[{property:"transition-property",type:"select",default:"opacity",options:["width","height","min-width","min-height","max-width","max-height","padding","margin","color","font-size","line-height","letter-height","border","border-radius","background","opacity","box-shadow","text-shadow","filter","backdrop-filter","transform","all"].map(Hd)},{property:"transition-duration",type:"integer",default:"1s",unit:rl[0],units:rl,min:0},{property:"transition-timing-function",type:"select",default:"ease",options:[{id:"ease",label:"Ease"},{id:"ease-in",label:"Ease-In"},{id:"ease-in-out",label:"Ease-In-Out"},{id:"ease-out",label:"Ease-Out"},{id:"linear",label:"Linear"}]},{property:"transition-delay",type:"integer",default:"0s",unit:rl[0],units:rl}]},{property:"transform",type:"stack",layerSeparator:" ",layerLabel:(e,{values:t,property:n})=>{const r=n.getProperty("transform-name").getOptionLabel(t["transform-name"]);return`${nr(r)}: ${t["transform-value"]}`},fromStyle:s3("transform"),toStyle:i3("transform","0"),properties:[{property:"transform-name",type:"select",default:"translateX",options:[{id:"translateX",label:"Move X",units:Rn},{id:"translateY",label:"Move Y",units:Rn},{id:"translateZ",label:"Move Z",units:Rn},{id:"rotateX",label:"Rotate X",units:vi},{id:"rotateY",label:"Rotate Y",units:vi},{id:"rotateZ",label:"Rotate Z",units:vi},{id:"scale",label:"Scale",units:nl},{id:"scaleX",label:"Scale X",units:nl},{id:"scaleY",label:"Scale Y",units:nl},{id:"scaleZ",label:"Scale Z",units:nl},{id:"skewX",label:"Skew X",units:vi},{id:"skewY",label:"Skew Y",units:vi}],onChange:A1("transform-value")},{property:"transform-value",type:"integer",default:"0"}]},ol("transform-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"backface-visibility",type:"radio",default:"visible",options:[{id:"visible",label:"Visible"},{id:"hidden",label:"Hidden"}]},{property:"perspective",type:"integer",min:0,default:"none",units:Rn},ol("perspective-origin",{x:{default:"50%"},y:{default:"50%"}}),{property:"transform-style",type:"radio",default:"flat",options:[{id:"flat",label:"2D"},{id:"preserve-3d",label:"3D"}]}]}],L1=[{id:"desktop",name:"Desktop",width:""},{id:"mobilePortrait",name:"Mobile",width:"320px",widthMedia:"480px"}];function N1(e,t){return[...Bg[e],...Bg.global,n=>BO(n,t),yO(e,t)]}function c3(e,t={}){var i;const n=e===Ze.email,{devices:r}=t,o=r?{default:r.selected,devices:r.default??(n?L1:void 0)}:n?{devices:L1}:{},s={undoManager:{trackSelection:!1},showOffsets:!0,cssIcons:"",assetManager:{},blockManager:{},styleManager:{sectors:n?a3:l3},selectorManager:{componentFirst:!0},storageManager:{onStore:a=>{const c=ts().appEditorStore.projectDataCustom;return a.custom=c?JSON.parse(JSON.stringify(c)):{},a},onLoad:(a,c)=>(fg(c,a.custom),a)},i18n:{messagesAdd:Oc({en:AE},((i=t.i18n)==null?void 0:i.locales)??{})},deviceManager:o,canvasCss:`
      [contenteditable] { outline: 0px solid transparent;}
    `,canvas:{customSpots:{select:!0,hover:!0,spacing:!0,target:!0}},telemetry:!1};return Oc(s,t.gjsOptions??{})}var es=(e=>(e.Projects="projects",e.Settings="settings",e))(es||{}),$1=(e=>(e.gjs="gjs",e.gjsStudio="gjs-studio",e))($1||{});const D1={},u3=1,d3=(e={})=>new Promise((t,n)=>{const r=(e==null?void 0:e.db)||"gjs",o=r==="gjs-studio"?u3:1,s=D1[r];if(s)t(s);else{if(!tr())return n(new Error("window context not found"));const i=window.indexedDB.open(r,o);i.onerror=n,i.onsuccess=()=>{const a=i.result;a.onerror=n,D1[r]=a,t(a)},i.onupgradeneeded=()=>{const a=i.result;a.objectStoreNames.contains("projects")||a.createObjectStore("projects"),a.objectStoreNames.contains("settings")||a.createObjectStore("settings")}}}),sl=async(e,t)=>(await d3(t)).transaction([e],"readwrite").objectStore(e),f3=async(e,t)=>{const n=await sl(e,t);return new Promise((r,o)=>{const s=[],i=n.openCursor();i.onerror=o,i.onsuccess=function(a){const u=a.target.result;if(u){const d=u.primaryKey,p=u.value;s.push({key:d,data:p}),u.continue()}else r(s)}})},p3=async(e,t,n)=>{const r=await sl(e,n);return new Promise((o,s)=>{const i=r.get(t);i.onerror=s,i.onsuccess=()=>o(i.result)})},I1=async(e,t,n,r)=>{const o=await sl(e,r);return new Promise((s,i)=>{const a=o.put(n,t);a.onerror=i,a.onsuccess=()=>s()})},h3=async(e,t,n)=>{const r=await sl(e,n);return new Promise((o,s)=>{const i=r.delete(t);i.onerror=s,i.onsuccess=()=>o()})};class g3{constructor(t){this.loadCounter=0,this.pendingInstalled=[],this.pendingUninstalled=[],this.selectedShown=!1,this.store=t,yn(this,{},{autoBind:!0})}get hasPending(){return!!this.pendingInstalled.length||!!this.pendingUninstalled.length}*initProjectPlugins(t){this.pendingInstalled=[],this.pendingUninstalled=[];const r=(yield bi()).filter(o=>o.projectType.includes(t));this.projectPlugins=[...r]}getPluginsToLoad(t,n){const r=[...N1(t,{appStore:n}),...this.projectPlugins||[]],o=n.sdkOptions.plugins||[];return xt(o)?o({plugins:r}):[...r,...o]}addPendingInstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;r.includes(o)?this.pendingUninstalled=r.filter(s=>s!==o):n.includes(o)||n.push(o)}addPendingUninstalled(t){const{pendingInstalled:n,pendingUninstalled:r}=this,o=t.id;n.includes(o)?this.pendingInstalled=n.filter(s=>s!==o):r.push(o)}setSelectedShown(t){this.selectedShown=t}}const Bd={db:$1.gjsStudio},bi=()=>new Promise(async e=>{let t=[];try{t=await p3(es.Settings,"plugins",Bd)||[]}catch(n){tr()&&console.error(n)}e(t)}),m3=e=>new Promise(async t=>{try{const r=[...await bi(),e];V1().addPendingInstalled(e),await I1(es.Settings,"plugins",r,Bd)}catch(n){console.error(n)}t()}),v3=e=>new Promise(async t=>{try{const r=(await bi()).filter(o=>o.id!==e.id);V1().addPendingUninstalled(e),await I1(es.Settings,"plugins",r,Bd)}catch(n){console.error(n)}t()}),zd=()=>un().pluginStore,V1=()=>ts().pluginStore;class b3{constructor(t){this.isActive=!1,this.content="",this.store=t,yn(this,{},{autoBind:!0})}show(t){this.isActive=!0,this.content=t}hide(){this.isActive=!1,setTimeout(this.clear,101)}clear(){this.content=""}}const H1=()=>un().pointerBadgeStore;var Fd=(e=>(e.canvas="canvas",e.layers="layers",e))(Fd||{}),Hr=(e=>(e.selectParent="selectParent",e.duplicate="duplicate",e.delete="delete",e.symbolCreate="symbolCreate",e.symbolDetach="symbolDetach",e.symbolOverride="symbolOverride",e.symbolOverrideClear="symbolOverrideClear",e))(Hr||{});class y3{constructor(t){this.isOpen=!1,this.items=[],this.coordinates={x:0,y:0},this.getItemsForComponent=Zr(function*(n,r={}){var m;if(!(n!=null&&n.em))return[];const o=n.em.getEditor(),{isSymbol:s,isRoot:i}=o.Components.getSymbolInfo(n),a=!!n.getSymbolOverride(),c=!!n.get("removable"),u=!!n.parent()&&!!n.toolbar.length,d=!!n.get("copyable"),p=[u&&{id:Hr.selectParent,label:"Select parent",onClick:()=>{o.runCommand("core:component-exit",{force:!0})}},d&&{id:Hr.duplicate,label:"Duplicate",onClick:()=>{o.runCommand("tlb-clone")}},!s&&c&&{id:Hr.symbolCreate,label:"Create Symbol",onClick:()=>{o.runCommand(he.symbolAdd)}},s&&i&&{id:Hr.symbolDetach,label:"Detach instance",onClick:()=>{o.runCommand(he.symbolDetach)}},s&&!a&&{id:Hr.symbolOverride,label:"Make overridable",onClick:()=>{o.runCommand(he.symbolOverride,{override:!0})}},s&&a&&{id:Hr.symbolOverrideClear,label:"Clear overridable",onClick:()=>{o.runCommand(he.symbolOverride)}},c&&{id:Hr.delete,label:"Delete",onClick:()=>{o.runCommand("core:component-delete")}}].filter(Boolean),h=n.get("contextMenu"),g={items:p,component:n,editor:o,type:n.get("type")||"default",source:r.source||Fd.canvas},v=yield B1(h,g),b=(m=this.store.appEditorStore.sdkComponentsConfig)==null?void 0:m.contextMenu;return yield B1(b,{...g,items:v})}),this.store=t,yn(this,{},{autoBind:!0})}*showForComponent(t,n){if(!(t!=null&&t.em))return;const r=yield this.getItemsForComponent(t,{source:n.source});r.length&&this.show({...n,items:r})}show({items:t,x:n,y:r,w:o,h:s}){this.isOpen=!0,this.coordinates={x:n,y:r,w:o,h:s},this.items=t}hide(){this.isOpen=!1,setTimeout(this.clear,101)}clear(){this.items=[],this.coordinates={x:0,y:0}}}const B1=async(e,t)=>xt(e)?(await e(t)).filter(Boolean):t.items,Rd=()=>un().contextMenu,z1="gs-custom-layout",il=le(f.forwardRef(function({children:t,className:n,component:r,noWrapper:o,id:s,...i},a){const{editor:c}=ve(),u=r,d=u&&c?l.jsx(u,{editor:c}):t,p=re(z1,s&&`${z1}__${s}`,n);return o?d:l.jsx("div",{className:p,ref:a,...i,children:d})}));class x3{constructor(t){this.layouts=[],this.layoutsById=new Map,this.store=t,yn(this,{},{autoBind:!0})}get editor(){return this.store.appEditorStore.editor}add(t,n){var r;this.get(t)||(this.layouts.push({id:t,...n}),(r=this.editor)==null||r.trigger(`${lo.layoutToggleId}${t}`,{isOpen:!0}))}remove(t,n){var r;this.layouts=n!=null&&n.force?this.layouts.filter(o=>o.id!==t):this.layouts.map(o=>o.id===t?{...o,toRemove:!0}:o),(r=this.editor)==null||r.trigger(`${lo.layoutToggleId}${t}`,{isOpen:!1})}get(t){return this.layouts.find(n=>n.id===t)}clear(){this.layouts=[]}get layoutChildren(){var r;const{children:t}=this.store.appEditorStore.sdkProps,n=((r=Tt(t,il))==null?void 0:r.filter(Boolean))||[];return new Map(n.map(({props:o})=>[o.id,o]))}}const Ud=()=>un().layoutStore,w3=()=>ts().layoutStore;function S3(e){const t=new Map,n={items:[]};return e.forEach(o=>{const{category:s,item:i}=o;if(s){const a=t.get(s.id);a?(a.items.push(i),a.category={...a.category,...s}):t.set(s.id,{category:s,items:[i]})}else n.items.push(i)}),[...Array.from(t).map(([,o])=>o),n].filter(o=>o.items.length)}const F1=e=>e.get("groups")||[],R1=(e,t)=>F1(e).includes(t),j3=(e,t)=>{R1(e,t)||e.set("groups",[...F1(e),t])};class C3{constructor(t){this.dataSourceKeyid="globalStyles",this.records=[],this.openCategories=new Map,this.store=t,yn(this,{openCategories:!1},{autoBind:!0})}get sdkOptionStyles(){var t;return((t=this.store.appEditorStore.sdkOptions.globalStyles)==null?void 0:t.default)||[]}get editor(){return this.store.appEditorStore.editor}get DataSources(){var t;return(t=this.editor)==null?void 0:t.DataSources}get recordsByCategory(){const{records:t,sdkOptionStyles:n}=this,r=[],o=t.reduce((s,i)=>(s.set(i.get("id"),i),s),new Map);return n.forEach(({id:s})=>{const i=o.get(s);i&&(r.push(i),o.delete(s))}),Array.from(o).map(([,s])=>{s.get("_internal")||r.push(s)}),S3(r.map(s=>({category:s.get("category"),item:s})))}setCategoryOpen(t,n){this.openCategories.set(t,n)}getDataSource(){var t;return(t=this.DataSources)==null?void 0:t.get(this.dataSourceKeyid)}getRuleByGroup(t){var n;return(n=this.editor)==null?void 0:n.CssComposer.getAll().find(r=>R1(r,t))}addStyleRule(t){var u;const n=t.get("id"),r=t.get("selector"),o=t.get("property"),s=t.getPath("value"),i=`globalStyles:${n}`,a={[o]:{type:"data-variable",path:s,defaultValue:t.get("defaultValue")}},c=this.getRuleByGroup(i);if(c)c.addStyle(a);else{const d=(u=this.editor)==null?void 0:u.CssComposer.addCollection([{selectors:[],selectorsAdd:r,style:a}],{extend:!0,at:t.index})[0];d&&j3(d,i)}}createDataSource(){return this.DataSources.add({id:this.dataSourceKeyid,records:[]})}onLoad(){var r;const{sdkOptionStyles:t}=this;if(!t.length){this.records=[];return}let n=this.getDataSource();n||(n=this.createDataSource()),t.forEach(o=>{const s=n.getRecord(o.id);if(s){const i={label:o.label,field:o.field,category:o.category};s.set({...i,_undo:!0})}else n.addRecord({value:void 0,...o,_internal:!0,_undo:!0})}),n.getRecords().forEach(o=>{this.addStyleRule(o)}),n.listenTo(n.records,"add",o=>{this.addStyleRule(o)}),(r=this.editor)==null||r.UndoManager.add(n.records),this.records=n.getRecords()}}const E3=()=>un().globalStylesStore;let al;const U1=f.createContext(void 0);class _3{constructor(t){this.blockManagerStore=new jE(this),this.appEditorStore=new MM(this,t==null?void 0:t.appEditorStore),this.localSettingsStore=new _E(t==null?void 0:t.localSettingsStore),this.toastStore=new TE(this),this.modalStore=new CE(this),this.i18nStore=new PE(this),this.pluginStore=new g3(this),this.pointerBadgeStore=new b3(this),this.contextMenu=new y3(this),this.layoutStore=new x3(this),this.globalStylesStore=new C3(this),this.appEditorStore.init(),_c()&&(window.__gjss=this)}}const O3=e=>{OE(e.localSettingsStore),LM(e.appEditorStore)},P3=({children:e,initialState:t})=>(al=f.useMemo(()=>{const n=new _3(t);return O3(n),n},[]),l.jsx(U1.Provider,{value:al,children:e})),un=()=>{const e=f.useContext(U1);if(!e)throw new Error("useStore must be used inside of StoreProvider");return e},ts=()=>{if(!al)throw new Error("Store has not been initialized");return al},ll=0,Br=1,ns=2,W1=4;function T3(e,t){return n=>e(t(n))}function A3(e,t){return t(e)}function G1(e,t){return n=>e(t,n)}function K1(e,t){return()=>e(t)}function Wd(e,t){return t(e),e}function mo(...e){return e}function M3(e){e()}function q1(e){return()=>e}function k3(...e){return()=>{e.map(M3)}}function cl(){}function St(e,t){return e(Br,t)}function ht(e,t){e(ll,t)}function Gd(e){e(ns)}function rs(e){return e(W1)}function qe(e,t){return St(e,G1(t,ll))}function Y1(e,t){const n=e(Br,r=>{n(),t(r)});return n}function tt(){const e=[];return(t,n)=>{switch(t){case ns:e.splice(0,e.length);return;case Br:return e.push(n),()=>{const r=e.indexOf(n);r>-1&&e.splice(r,1)};case ll:e.slice().forEach(r=>{r(n)});return;default:throw new Error(`unrecognized action ${t}`)}}}function fe(e){let t=e;const n=tt();return(r,o)=>{switch(r){case Br:o(t);break;case ll:t=o;break;case W1:return t}return n(r,o)}}function L3(e){let t,n;const r=()=>t&&t();return function(o,s){switch(o){case Br:return s?n===s?void 0:(r(),n=s,t=St(e,s),t):(r(),cl);case ns:r(),n=null;return;default:throw new Error(`unrecognized action ${o}`)}}}function yi(e){return Wd(tt(),t=>qe(e,t))}function os(e,t){return Wd(fe(t),n=>qe(e,n))}function N3(...e){return t=>e.reduceRight(A3,t)}function me(e,...t){const n=N3(...t);return(r,o)=>{switch(r){case Br:return St(e,n(o));case ns:Gd(e);return}}}function X1(e,t){return e===t}function Nt(e=X1){let t;return n=>r=>{e(t,r)||(t=r,n(r))}}function bt(e){return t=>n=>{e(n)&&t(n)}}function Qe(e){return t=>T3(t,e)}function zr(e){return t=>()=>t(e)}function ul(e,t){return n=>r=>n(t=e(t,r))}function Kd(e){return t=>n=>{e>0?e--:t(n)}}function xi(e){let t=null,n;return r=>o=>{t=o,!n&&(n=setTimeout(()=>{n=void 0,r(t)},e))}}function Z1(e){let t,n;return r=>o=>{t=o,n&&clearTimeout(n),n=setTimeout(()=>{r(t)},e)}}function Un(...e){const t=new Array(e.length);let n=0,r=null;const o=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const a=Math.pow(2,i);St(s,c=>{const u=n;n=n|a,t[i]=c,u!==o&&n===o&&r&&(r(),r=null)})}),s=>i=>{const a=()=>s([i].concat(t));n===o?a():r=a}}function J1(...e){return function(t,n){switch(t){case Br:return k3(...e.map(r=>St(r,n)));case ns:return;default:throw new Error(`unrecognized action ${t}`)}}}function Me(e,t=X1){return me(e,Nt(t))}function mr(...e){const t=tt(),n=new Array(e.length);let r=0;const o=Math.pow(2,e.length)-1;return e.forEach((s,i)=>{const a=Math.pow(2,i);St(s,c=>{n[i]=c,r=r|a,r===o&&ht(t,n)})}),function(s,i){switch(s){case Br:return r===o&&i(n),St(t,i);case ns:return Gd(t);default:throw new Error(`unrecognized action ${s}`)}}}function Wn(e,t=[],{singleton:n}={singleton:!0}){return{id:$3(),constructor:e,dependencies:t,singleton:n}}const $3=()=>Symbol();function D3(e){const t=new Map,n=({id:r,constructor:o,dependencies:s,singleton:i})=>{if(i&&t.has(r))return t.get(r);const a=o(s.map(c=>n(c)));return i&&t.set(r,a),a};return n(e)}function I3(e,t){const n={},r={};let o=0;const s=e.length;for(;o<s;)r[e[o]]=1,o+=1;for(const i in t)r.hasOwnProperty(i)||(n[i]=t[i]);return n}const dl=typeof document<"u"?f.useLayoutEffect:f.useEffect;function V3(e,t,n){const r=Object.keys(t.required||{}),o=Object.keys(t.optional||{}),s=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),a=f.createContext({});function c(m,x){m.propsReady&&ht(m.propsReady,!1);for(const w of r){const S=m[t.required[w]];ht(S,x[w])}for(const w of o)if(w in x){const S=m[t.optional[w]];ht(S,x[w])}m.propsReady&&ht(m.propsReady,!0)}function u(m){return s.reduce((x,w)=>(x[w]=S=>{const C=m[t.methods[w]];ht(C,S)},x),{})}function d(m){return i.reduce((x,w)=>(x[w]=L3(m[t.events[w]]),x),{})}const p=f.forwardRef((m,x)=>{const{children:w,...S}=m,[C]=f.useState(()=>Wd(D3(e),O=>c(O,S))),[j]=f.useState(K1(d,C));dl(()=>{for(const O of i)O in S&&St(j[O],S[O]);return()=>{Object.values(j).map(Gd)}},[S,j,C]),dl(()=>{c(C,S)}),f.useImperativeHandle(x,q1(u(C)));const E=n;return l.jsx(a.Provider,{value:C,children:n?l.jsx(E,{...I3([...r,...o,...i],S),children:w}):w})}),h=m=>f.useCallback(G1(ht,f.useContext(a)[m]),[m]),g=m=>{const w=f.useContext(a)[m],S=f.useCallback(C=>St(w,C),[w]);return f.useSyncExternalStore(S,()=>rs(w),()=>rs(w))},v=m=>{const w=f.useContext(a)[m],[S,C]=f.useState(K1(rs,w));return dl(()=>St(w,j=>{j!==S&&C(q1(j))}),[w,S]),S},b=f.version.startsWith("18")?g:v;return{Component:p,usePublisher:h,useEmitterValue:b,useEmitter:(m,x)=>{const S=f.useContext(a)[m];dl(()=>St(S,x),[x,S])}}}const Q1=typeof document<"u"?f.useLayoutEffect:f.useEffect;var qd=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(qd||{});const H3={0:"debug",1:"log",2:"warn",3:"error"},B3=()=>typeof globalThis>"u"?window:globalThis,ev=Wn(()=>{const e=fe(3);return{log:fe((n,r,o=1)=>{var s;const i=(s=B3().VIRTUOSO_LOG_LEVEL)!=null?s:rs(e);o>=i&&console[H3[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",n,r)}),logLevel:e}},[],{singleton:!0});function tv(e,t,n){const r=f.useRef(null);let o=s=>{};if(typeof ResizeObserver<"u"){const s=f.useMemo(()=>new ResizeObserver(i=>{const a=()=>{const c=i[0].target;c.offsetParent!==null&&e(c)};n?a():requestAnimationFrame(a)}),[e]);o=i=>{i&&t?(s.observe(i),r.current=i):(r.current&&s.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:o}}function fl(e,t,n){return tv(e,t,n).callbackRef}function pl(e,t){return Math.round(e.getBoundingClientRect()[t])}function nv(e,t){return Math.abs(e-t)<1.01}function rv(e,t,n,r=cl,o,s){const i=f.useRef(null),a=f.useRef(null),c=f.useRef(null),u=f.useCallback(h=>{const g=h.target,v=g===window||g===document,b=s?v?window.pageXOffset||document.documentElement.scrollLeft:g.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:g.scrollTop,y=s?v?document.documentElement.scrollWidth:g.scrollWidth:v?document.documentElement.scrollHeight:g.scrollHeight,m=s?v?window.innerWidth:g.offsetWidth:v?window.innerHeight:g.offsetHeight,x=()=>{e({scrollTop:Math.max(b,0),scrollHeight:y,viewportHeight:m})};h.suppressFlushSync?x():Pt.flushSync(x),a.current!==null&&(b===a.current||b<=0||b===y-m)&&(a.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t]);f.useEffect(()=>{const h=o||i.current;return r(o||i.current),u({target:h,suppressFlushSync:!0}),h.addEventListener("scroll",u,{passive:!0}),()=>{r(null),h.removeEventListener("scroll",u)}},[i,u,n,r,o]);function d(h){const g=i.current;if(!g||(s?"offsetWidth"in g&&g.offsetWidth===0:"offsetHeight"in g&&g.offsetHeight===0))return;const v=h.behavior==="smooth";let b,y,m;g===window?(y=Math.max(pl(document.documentElement,s?"width":"height"),s?document.documentElement.scrollWidth:document.documentElement.scrollHeight),b=s?window.innerWidth:window.innerHeight,m=s?document.documentElement.scrollLeft:document.documentElement.scrollTop):(y=g[s?"scrollWidth":"scrollHeight"],b=pl(g,s?"width":"height"),m=g[s?"scrollLeft":"scrollTop"]);const x=y-b;if(h.top=Math.ceil(Math.max(Math.min(x,h.top),0)),nv(b,y)||h.top===m){e({scrollTop:m,scrollHeight:y,viewportHeight:b}),v&&t(!0);return}v?(a.current=h.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,a.current=null,t(!0)},1e3)):a.current=null,s&&(h={left:h.top,behavior:h.behavior}),g.scrollTo(h)}function p(h){s&&(h={left:h.top,behavior:h.behavior}),i.current.scrollBy(h)}return{scrollerRef:i,scrollByCallback:p,scrollToCallback:d}}const hl=Wn(()=>{const e=tt(),t=tt(),n=fe(0),r=tt(),o=fe(0),s=tt(),i=tt(),a=fe(0),c=fe(0),u=fe(0),d=fe(0),p=tt(),h=tt(),g=fe(!1),v=fe(!1),b=fe(!1);return qe(me(e,Qe(({scrollTop:y})=>y)),t),qe(me(e,Qe(({scrollHeight:y})=>y)),i),qe(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:s,headerHeight:a,fixedHeaderHeight:c,fixedFooterHeight:u,footerHeight:d,scrollHeight:i,smoothScrollTargetReached:r,horizontalDirection:v,skipAnimationFrameInResizeObserver:b,scrollTo:p,scrollBy:h,statefulScrollTop:o,deviation:n,scrollingInProgress:g}},[],{singleton:!0}),z3=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function F3(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!z3)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const gl="up",wi="down",R3="none",U3={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},W3=0,ov=Wn(([{scrollContainerState:e,scrollTop:t,viewportHeight:n,headerHeight:r,footerHeight:o,scrollBy:s}])=>{const i=fe(!1),a=fe(!0),c=tt(),u=tt(),d=fe(4),p=fe(W3),h=os(me(J1(me(Me(t),Kd(1),zr(!0)),me(Me(t),Kd(1),zr(!1),Z1(100))),Nt()),!1),g=os(me(J1(me(s,zr(!0)),me(s,zr(!1),Z1(200))),Nt()),!1);qe(me(mr(Me(t),Me(p)),Qe(([x,w])=>x<=w),Nt()),a),qe(me(a,xi(50)),u);const v=yi(me(mr(e,Me(n),Me(r),Me(o),Me(d)),ul((x,[{scrollTop:w,scrollHeight:S},C,j,E,O])=>{const A=w+C-S>-O,_={viewportHeight:C,scrollTop:w,scrollHeight:S};if(A){let N,B;return w>x.state.scrollTop?(N="SCROLLED_DOWN",B=x.state.scrollTop-w):(N="SIZE_DECREASED",B=x.state.scrollTop-w||x.scrollTopDelta),{atBottom:!0,state:_,atBottomBecause:N,scrollTopDelta:B}}let T;return _.scrollHeight>x.state.scrollHeight?T="SIZE_INCREASED":C<x.state.viewportHeight?T="VIEWPORT_HEIGHT_DECREASING":w<x.state.scrollTop?T="SCROLLING_UPWARDS":T="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:T,state:_}},U3),Nt((x,w)=>x&&x.atBottom===w.atBottom))),b=os(me(e,ul((x,{scrollTop:w,scrollHeight:S,viewportHeight:C})=>{if(nv(x.scrollHeight,S))return{scrollTop:w,scrollHeight:S,jump:0,changed:!1};{const j=S-(w+C)<1;return x.scrollTop!==w&&j?{scrollHeight:S,scrollTop:w,jump:x.scrollTop-w,changed:!0}:{scrollHeight:S,scrollTop:w,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),bt(x=>x.changed),Qe(x=>x.jump)),0);qe(me(v,Qe(x=>x.atBottom)),i),qe(me(i,xi(50)),c);const y=fe(wi);qe(me(e,Qe(({scrollTop:x})=>x),Nt(),ul((x,w)=>rs(g)?{direction:x.direction,prevScrollTop:w}:{direction:w<x.prevScrollTop?gl:wi,prevScrollTop:w},{direction:wi,prevScrollTop:0}),Qe(x=>x.direction)),y),qe(me(e,xi(50),zr(R3)),y);const m=fe(0);return qe(me(h,bt(x=>!x),zr(0)),m),qe(me(t,xi(100),Un(h),bt(([x,w])=>!!w),ul(([x,w],[S])=>[w,S],[0,0]),Qe(([x,w])=>w-x)),m),{isScrolling:h,isAtTop:a,isAtBottom:i,atBottomState:v,atTopStateChange:u,atBottomStateChange:c,scrollDirection:y,atBottomThreshold:d,atTopThreshold:p,scrollVelocity:m,lastJumpDueToItemResize:b}},mo(hl)),G3=Wn(([{log:e}])=>{const t=fe(!1),n=yi(me(t,bt(r=>r),Nt()));return St(t,r=>{r&&rs(e)("props updated",{},qd.DEBUG)}),{propsReady:t,didMount:n}},mo(ev),{singleton:!0});function sv(e,t){e==0?t():requestAnimationFrame(()=>sv(e-1,t))}function K3(e,t){const n=t-1;return typeof e=="number"?e:e.index==="LAST"?n:e.index}function Yd(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}function q3(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}const ml="top",vl="bottom",iv="none";function av(e,t,n){return typeof e=="number"?n===gl&&t===ml||n===wi&&t===vl?e:0:n===gl?t===ml?e.main:e.reverse:t===vl?e.main:e.reverse}function lv(e,t){return typeof e=="number"?e:e[t]||0}const Y3=Wn(([{scrollTop:e,viewportHeight:t,deviation:n,headerHeight:r,fixedHeaderHeight:o}])=>{const s=tt(),i=fe(0),a=fe(0),c=fe(0),u=os(me(mr(Me(e),Me(t),Me(r),Me(s,Yd),Me(c),Me(i),Me(o),Me(n),Me(a)),Qe(([d,p,h,[g,v],b,y,m,x,w])=>{const S=d-x,C=y+m,j=Math.max(h-S,0);let E=iv;const O=lv(w,ml),A=lv(w,vl);return g-=x,g+=h+m,v+=h+m,v-=x,g>d+C-O&&(E=gl),v<d-j+p+A&&(E=wi),E!==iv?[Math.max(S-h-av(b,ml,E)-O,0),S-j-m+p+av(b,vl,E)+A]:null}),bt(d=>d!=null),Nt(Yd)),[0,0]);return{listBoundary:s,overscan:c,topListHeight:i,increaseViewportBy:a,visibleRange:u}},mo(hl),{singleton:!0}),X3=Wn(([{scrollVelocity:e}])=>{const t=fe(!1),n=tt(),r=fe(!1);return qe(me(e,Un(r,t,n),bt(([o,s])=>!!s),Qe(([o,s,i,a])=>{const{exit:c,enter:u}=s;if(i){if(c(o,a))return!1}else if(u(o,a))return!0;return i}),Nt()),t),St(me(mr(t,e,n),Un(r)),([[o,s,i],a])=>o&&a&&a.change&&a.change(s,i)),{isSeeking:t,scrollSeekConfiguration:r,scrollVelocity:e,scrollSeekRangeChanged:n}},mo(ov),{singleton:!0});function Z3(e){let t=!1,n;return()=>(t||(t=!0,n=e()),n)}const J3=Wn(([{scrollTo:e,scrollContainerState:t}])=>{const n=tt(),r=tt(),o=tt(),s=fe(!1),i=fe(void 0);return qe(me(mr(n,r),Qe(([{viewportHeight:a,scrollTop:c,scrollHeight:u},{offsetTop:d}])=>({scrollTop:Math.max(0,c-d),scrollHeight:u,viewportHeight:a}))),t),qe(me(e,Un(r),Qe(([a,{offsetTop:c}])=>({...a,top:a.top+c}))),o),{useWindowScroll:s,customScrollParent:i,windowScrollContainerState:n,windowViewportRect:r,windowScrollTo:o}},mo(hl)),Xd="-webkit-sticky",cv="sticky",uv=Z3(()=>{if(typeof document>"u")return cv;const e=document.createElement("div");return e.style.position=Xd,e.style.position===Xd?Xd:cv});function Q3(e,t,n){const r=f.useRef(null),o=f.useCallback(c=>{if(c===null||!c.offsetParent)return;const u=c.getBoundingClientRect(),d=u.width;let p,h;if(t){const g=t.getBoundingClientRect(),v=u.top-g.top;p=g.height-Math.max(0,v),h=v+t.scrollTop}else p=window.innerHeight-Math.max(0,u.top),h=u.top+window.pageYOffset;r.current={offsetTop:h,visibleHeight:p,visibleWidth:d},e(r.current)},[e,t]),{callbackRef:s,ref:i}=tv(o,!0,n),a=f.useCallback(()=>{o(i.current)},[o,i]);return f.useEffect(()=>{if(t){t.addEventListener("scroll",a);const c=new ResizeObserver(()=>{requestAnimationFrame(a)});return c.observe(t),()=>{t.removeEventListener("scroll",a),c.unobserve(t)}}else return window.addEventListener("scroll",a),window.addEventListener("resize",a),()=>{window.removeEventListener("scroll",a),window.removeEventListener("resize",a)}},[a,t]),s}f.createContext(void 0);const dv=f.createContext(void 0);function eM(e){return e}uv();const tM={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},nM={outline:"none",overflowX:"auto",position:"relative"},fv=e=>({width:"100%",height:"100%",position:"absolute",top:0,...e?{display:"flex",flexDirection:"column"}:{}});uv();function vo(e,t){if(typeof e!="string")return{context:t}}function rM({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:s,children:i,...a}){const c=e("scrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("scrollerRef"),h=n("context"),g=n("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:b,scrollToCallback:y}=rv(c,d,u,p,void 0,g);t("scrollTo",y),t("scrollBy",b);const m=g?nM:tM;return l.jsx(u,{ref:v,style:{...m,...s},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...a,...vo(u,h),children:i})})}function oM({usePublisher:e,useEmitter:t,useEmitterValue:n}){return f.memo(function({style:s,children:i,...a}){const c=e("windowScrollContainerState"),u=n("ScrollerComponent"),d=e("smoothScrollTargetReached"),p=n("totalListHeight"),h=n("deviation"),g=n("customScrollParent"),v=n("context"),{scrollerRef:b,scrollByCallback:y,scrollToCallback:m}=rv(c,d,u,cl,g);return Q1(()=>(b.current=g||window,()=>{b.current=null}),[b,g]),t("windowScrollTo",m),t("scrollBy",y),l.jsx(u,{style:{position:"relative",...s,...p!==0?{height:p+h}:{}},"data-virtuoso-scroller":!0,...a,...vo(u,v),children:i})})}const pv={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},sM={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:hv,ceil:gv,floor:bl,min:Zd,max:Si}=Math;function iM(e){return{...sM,items:e}}function mv(e,t,n){return Array.from({length:t-e+1}).map((r,o)=>{const s=n===null?null:n[o+e];return{index:o+e,data:s}})}function aM(e,t){return e&&e.column===t.column&&e.row===t.row}function yl(e,t){return e&&e.width===t.width&&e.height===t.height}const lM=Wn(([{overscan:e,visibleRange:t,listBoundary:n,increaseViewportBy:r},{scrollTop:o,viewportHeight:s,scrollBy:i,scrollTo:a,smoothScrollTargetReached:c,scrollContainerState:u,footerHeight:d,headerHeight:p},h,g,{propsReady:v,didMount:b},{windowViewportRect:y,useWindowScroll:m,customScrollParent:x,windowScrollContainerState:w,windowScrollTo:S},C])=>{const j=fe(0),E=fe(0),O=fe(pv),A=fe({height:0,width:0}),_=fe({height:0,width:0}),T=tt(),N=tt(),B=fe(0),$=fe(null),M=fe({row:0,column:0}),L=tt(),F=tt(),R=fe(!1),I=fe(0),z=fe(!0),U=fe(!1),K=fe(!1);St(me(b,Un(I),bt(([G,W])=>!!W)),()=>{ht(z,!1)}),St(me(mr(b,z,_,A,I,U),bt(([G,W,se,ne,,be])=>G&&!W&&se.height!==0&&ne.height!==0&&!be)),([,,,,G])=>{ht(U,!0),sv(1,()=>{ht(T,G)}),Y1(me(o),()=>{ht(n,[0,0]),ht(z,!0)})}),qe(me(F,bt(G=>G!=null&&G.scrollTop>0),zr(0)),E),St(me(b,Un(F),bt(([,G])=>G!=null)),([,G])=>{G&&(ht(A,G.viewport),ht(_,G==null?void 0:G.item),ht(M,G.gap),G.scrollTop>0&&(ht(R,!0),Y1(me(o,Kd(1)),W=>{ht(R,!1)}),ht(a,{top:G.scrollTop})))}),qe(me(A,Qe(({height:G})=>G)),s),qe(me(mr(Me(A,yl),Me(_,yl),Me(M,(G,W)=>G&&G.column===W.column&&G.row===W.row),Me(o)),Qe(([G,W,se,ne])=>({viewport:G,item:W,gap:se,scrollTop:ne}))),L),qe(me(mr(Me(j),t,Me(M,aM),Me(_,yl),Me(A,yl),Me($),Me(E),Me(R),Me(z),Me(I)),bt(([,,,,,,,G])=>!G),Qe(([G,[W,se],ne,be,ye,Oe,He,,_t,dt])=>{const{row:Je,column:br}=ne,{height:ft,width:qt}=be,{width:En}=ye;if(He===0&&(G===0||En===0))return pv;if(qt===0){const Ti=K3(dt,G),Of=Math.max(Ti+He-1,0);return iM(mv(Ti,Of,Oe))}const yt=bv(En,qt,br);let st,gt;_t?W===0&&se===0&&He>0?(st=0,gt=He-1):(st=yt*bl((W+Je)/(ft+Je)),gt=yt*gv((se+Je)/(ft+Je))-1,gt=Zd(G-1,Si(gt,yt-1)),st=Zd(gt,Si(0,st))):(st=0,gt=-1);const _n=mv(st,gt,Oe),{top:Ot,bottom:On}=vv(ye,ne,be,_n),xo=gv(G/yt),cs=xo*ft+(xo-1)*Je-On;return{items:_n,offsetTop:Ot,offsetBottom:cs,top:Ot,bottom:On,itemHeight:ft,itemWidth:qt}})),O),qe(me($,bt(G=>G!==null),Qe(G=>G.length)),j),qe(me(mr(A,_,O,M),bt(([G,W,{items:se}])=>se.length>0&&W.height!==0&&G.height!==0),Qe(([G,W,{items:se},ne])=>{const{top:be,bottom:ye}=vv(G,ne,W,se);return[be,ye]}),Nt(Yd)),n);const ee=fe(!1);qe(me(o,Un(ee),Qe(([G,W])=>W||G!==0)),ee);const X=yi(me(Me(O),bt(({items:G})=>G.length>0),Un(j,ee),bt(([{items:G},W,se])=>se&&G[G.length-1].index===W-1),Qe(([,G])=>G-1),Nt())),Q=yi(me(Me(O),bt(({items:G})=>G.length>0&&G[0].index===0),zr(0),Nt())),ce=yi(me(Me(O),Un(R),bt(([{items:G},W])=>G.length>0&&!W),Qe(([{items:G}])=>({startIndex:G[0].index,endIndex:G[G.length-1].index})),Nt(q3),xi(0)));qe(ce,g.scrollSeekRangeChanged),qe(me(T,Un(A,_,j,M),Qe(([G,W,se,ne,be])=>{const ye=F3(G),{align:Oe,behavior:He,offset:_t}=ye;let dt=ye.index;dt==="LAST"&&(dt=ne-1),dt=Si(0,dt,Zd(ne-1,dt));let Je=Jd(W,be,se,dt);return Oe==="end"?Je=hv(Je-W.height+se.height):Oe==="center"&&(Je=hv(Je-W.height/2+se.height/2)),_t&&(Je+=_t),{top:Je,behavior:He}})),a);const te=os(me(O,Qe(G=>G.offsetBottom+G.bottom)),0);return qe(me(y,Qe(G=>({width:G.visibleWidth,height:G.visibleHeight}))),A),{data:$,totalCount:j,viewportDimensions:A,itemDimensions:_,scrollTop:o,scrollHeight:N,overscan:e,increaseViewportBy:r,scrollBy:i,scrollTo:a,scrollToIndex:T,smoothScrollTargetReached:c,windowViewportRect:y,windowScrollTo:S,useWindowScroll:m,customScrollParent:x,windowScrollContainerState:w,deviation:B,scrollContainerState:u,footerHeight:d,headerHeight:p,initialItemCount:E,gap:M,restoreStateFrom:F,...g,initialTopMostItemIndex:I,horizontalDirection:K,gridState:O,totalListHeight:te,...h,startReached:Q,endReached:X,rangeChanged:ce,stateChanged:L,propsReady:v,stateRestoreInProgress:R,...C}},mo(Y3,hl,ov,X3,G3,J3,ev));function vv(e,t,n,r){const{height:o}=n;if(o===void 0||r.length===0)return{top:0,bottom:0};const s=Jd(e,t,n,r[0].index),i=Jd(e,t,n,r[r.length-1].index)+o;return{top:s,bottom:i}}function Jd(e,t,n,r){const o=bv(e.width,n.width,t.column),s=bl(r/o),i=s*n.height+Si(0,s-1)*t.row;return i>0?i+t.row:i}function bv(e,t,n){return Si(1,bl((e+n)/(bl(t)+n)))}const cM=Wn(([e,t])=>({...e,...t}),mo(lM,Wn(()=>{const e=fe(p=>`Item ${p}`),t=fe({}),n=fe(null),r=fe("virtuoso-grid-item"),o=fe("virtuoso-grid-list"),s=fe(eM),i=fe("div"),a=fe(cl),c=(p,h=null)=>os(me(t,Qe(g=>g[p]),Nt()),h),u=fe(!1),d=fe(!1);return qe(Me(d),u),{readyStateChanged:u,reportReadyState:d,context:n,itemContent:e,components:t,computeItemKey:s,itemClassName:r,listClassName:o,headerFooterTag:i,scrollerRef:a,FooterComponent:c("Footer"),HeaderComponent:c("Header"),ListComponent:c("List","div"),ItemComponent:c("Item","div"),ScrollerComponent:c("Scroller","div"),ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}))),uM=f.memo(function(){const t=et("gridState"),n=et("listClassName"),r=et("itemClassName"),o=et("itemContent"),s=et("computeItemKey"),i=et("isSeeking"),a=dn("scrollHeight"),c=et("ItemComponent"),u=et("ListComponent"),d=et("ScrollSeekPlaceholder"),p=et("context"),h=dn("itemDimensions"),g=dn("gap"),v=et("log"),b=et("stateRestoreInProgress"),y=dn("reportReadyState"),m=fl(f.useMemo(()=>x=>{const w=x.parentElement.parentElement.scrollHeight;a(w);const S=x.firstChild;if(S){const{width:C,height:j}=S.getBoundingClientRect();h({width:C,height:j})}g({row:xv("row-gap",getComputedStyle(x).rowGap,v),column:xv("column-gap",getComputedStyle(x).columnGap,v)})},[a,h,g,v]),!0,!1);return Q1(()=>{t.itemHeight>0&&t.itemWidth>0&&y(!0)},[t]),b?null:l.jsx(u,{ref:m,className:n,...vo(u,p),style:{paddingTop:t.offsetTop,paddingBottom:t.offsetBottom},"data-testid":"virtuoso-item-list",children:t.items.map(x=>{const w=s(x.index,x.data,p);return i?l.jsx(d,{...vo(d,p),index:x.index,height:t.itemHeight,width:t.itemWidth},w):f.createElement(c,{...vo(c,p),className:r,"data-index":x.index,key:w},o(x.index,x.data,p))})})}),dM=f.memo(function(){const t=et("HeaderComponent"),n=dn("headerHeight"),r=et("headerFooterTag"),o=fl(f.useMemo(()=>i=>n(pl(i,"height")),[n]),!0,!1),s=et("context");return t?l.jsx(r,{ref:o,children:l.jsx(t,{...vo(t,s)})}):null}),fM=f.memo(function(){const t=et("FooterComponent"),n=dn("footerHeight"),r=et("headerFooterTag"),o=fl(f.useMemo(()=>i=>n(pl(i,"height")),[n]),!0,!1),s=et("context");return t?l.jsx(r,{ref:o,children:l.jsx(t,{...vo(t,s)})}):null}),pM=({children:e})=>{const t=f.useContext(dv),n=dn("itemDimensions"),r=dn("viewportDimensions"),o=fl(f.useMemo(()=>s=>{r(s.getBoundingClientRect())},[r]),!0,!1);return f.useEffect(()=>{t&&(r({height:t.viewportHeight,width:t.viewportWidth}),n({height:t.itemHeight,width:t.itemWidth}))},[t,r,n]),l.jsx("div",{style:fv(!1),ref:o,children:e})},hM=({children:e})=>{const t=f.useContext(dv),n=dn("windowViewportRect"),r=dn("itemDimensions"),o=et("customScrollParent"),s=Q3(n,o,!1);return f.useEffect(()=>{t&&(r({height:t.itemHeight,width:t.itemWidth}),n({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,n,r]),l.jsx("div",{ref:s,style:fv(!1),children:e})},gM=f.memo(function({...t}){const n=et("useWindowScroll"),r=et("customScrollParent"),o=r||n?bM:vM,s=r||n?hM:pM;return l.jsx(o,{...t,children:l.jsxs(s,{children:[l.jsx(dM,{}),l.jsx(uM,{}),l.jsx(fM,{})]})})}),{Component:mM,usePublisher:dn,useEmitterValue:et,useEmitter:yv}=V3(cM,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},gM),vM=rM({usePublisher:dn,useEmitterValue:et,useEmitter:yv}),bM=oM({usePublisher:dn,useEmitterValue:et,useEmitter:yv});function xv(e,t,n){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&n(`${e} was not resolved to pixel value correctly`,t,qd.WARN),t==="normal"?0:parseInt(t??"0",10)}const xl=mM,yM=e=>!!(e&&!Array.isArray(e)&&typeof e=="object");async function xM(e){const t=e.map(({id:i,src:a})=>({id:i,src:a})),n=e.reduce((i,a)=>(i[a.id]=a,i),{}),r=[],o=[];return(await Aw(t)).forEach(i=>{i.status==="fulfilled"?r.push(n[i.value]):o.push(n[i.reason])}),{loaded:r,failed:o}}const wM=async e=>{const t=[...e],n={};if(t.length){const r={},o=[];if(t.forEach((s,i)=>{yM(s)&&(r[s.id]={index:i},o.push(s))}),o.length){const{loaded:s}=await xM(o);s.forEach(({id:i,options:a})=>{r[i].loaded=!0,n[i]=a||{}})}Object.keys(r).forEach(s=>{const i=r[s];i.loaded?t[i.index]=s:t[i.index]=!1})}return{plugins:t.filter(Boolean),pluginOptions:n}},SM=(e,t,n)=>{e.loadData(t);let r=`${e.getHtml()}<style>${e.getCss()}</style>`;if(n===Ze.email)try{r=e.runCommand("mjml-code-to-html").html}catch(o){console.error(o)}return r.replace("<body","<div data-body").replace("</body>","</div>")},jM=async(e,t,n)=>{const r=N1(t,{appStore:n}),o=await wM(r);return e.init({headless:!0,projectData:{},noticeOnUnload:!1,storageManager:!1,plugins:[...o.plugins,s=>{s.Storage.setCurrent("")}],pluginsOpts:o.pluginOptions,protectedCss:`
      * { box-sizing: border-box; }
      [data-body] {
        margin: 0;
        background-color: white;
        width: 100%;
        height: 100%;
        color: initial;
        font-family: initial;
        font-weight: initial;
        line-height: initial;
      }
      [data-body]:before {
        content: "";
        display: block;
        height: 0px;
        overflow: hidden;
      }
    `})},CM=()=>[{id:Ze.web,label:nr(Ze.web),content:l.jsxs(D,{space:"s",children:[l.jsx(Z,{icon:Y.web,size:ie.s}),l.jsx("span",{children:nr(Ze.web)})]})},{id:Ze.email,label:nr(Ze.email),content:l.jsxs(D,{space:"s",children:[l.jsx(Z,{icon:Y.emailOutline,size:ie.s}),l.jsx("span",{children:nr(Ze.email)})]})}];function ut({children:e,label:t,s:n="m",pill:r,border:o,nopad:s,className:i,block:a,...c}){return l.jsx("div",{className:P([!a&&"inline-block",i,!s&&_e.xyS2,r?J.pill:J.rnd,o&&`${J.b} ${V.br}`,n==="s"&&"text-sm",n==="xs"&&"gjs-p-1"]),...c,children:t||e})}function Qd({children:e,text:t,onConfirm:n,onCancel:r,className:o="w-[200px]",confirmButtonProps:s={},...i}){const a=Te();return l.jsx(ur,{...i,overlay:!0,title:!1,buttonAs:"span",handler:e,children:({close:c})=>l.jsxs(D,{className:P(o),space:"m",col:!0,children:[l.jsx(k,{grow:!0,className:P("text-center"),children:t||a.t("confirmAction")}),l.jsxs(D,{justify:"center",items:"center",space:"m",children:[l.jsx(ze,{variant:"pr",size:"m2",onClick:()=>{c(),n==null||n()},...s,children:a.t("confirm")}),l.jsx(ze,{size:"m2",onClick:()=>{c(),r==null||r()},children:a.t("cancel")})]})]})})}const ji=f.forwardRef(function({full:t,abs:n,small:r,className:o},s){const i=H(t&&"w-full h-full",n&&We.coverAbs,o),a=H(r?"w-5 h-5":"w-10 h-10","animate-spin-fast","!gs-utl-border-y-transparent !gs-utl-border-r-transparent",J.pill,J.bS,J.bA);return l.jsx(D,{ref:s,className:i,items:"center",justify:"center",children:l.jsx("div",{className:a})})}),wl="gs-cmp-tabs";function bo({tabs:e,className:t,classNamePanel:n,classNameTab:r,variant:o,onChange:s=eh,value:i}){const a=o==="pills",c=a?P("gs-utl-rounded-full gs-utl-text-sm gs-utl-px-[2px] gs-utl-py-[2px]",V.bgH):"",u=g=>a?P("gs-utl-rounded-full gs-utl-px-3 gs-utl-py-1",g?V.bg:""):P("gs-utl-border-b-2",_e.xy),d=g=>{g&&(g.tabIndex=-1)},p=jr(i)?e.findIndex(g=>g.id===i):void 0,h=!e.some(g=>!!g.content);return l.jsxs(Bs.Group,{onChange:g=>s(e[g].id),defaultIndex:e.findIndex(g=>g.id===i),selectedIndex:p,children:[l.jsx(Bs.List,{as:D,className:P(wl,t,c),full:!0,nowrap:!0,children:e.map(g=>l.jsx(Bs,{disabled:g.disabled,className:({selected:v})=>P(`${wl}__tab`,"gs-utl-flex-1 focus:gs-utl-outline-none",g.disabled&&"gs-utl-cursor-not-allowed gs-utl-opacity-50",_s.focus,u(v),v?`${V.tAo} ${V.bA}`:V.br,r),children:g.label},g.id))}),l.jsx(Bs.Panels,{className:P(`${wl}__panels`,"hdl-tab-panels gs-utl-overflow-hidden gs-utl-flex-1 gs-utl-mt-2",h&&"gs-utl-hidden",n),children:e.map(g=>l.jsx(Bs.Panel,{tabIndex:-1,className:P(`${wl}__panel`,"hdl-tab-panel gs-utl-h-full"),ref:d,children:g.content},g.id))})]})}const wv=async(e=Ze.web)=>(await f3(es.Projects)).map(({key:r,data:o})=>{var s;return{id:`${r}`,name:`${((s=o.custom)==null?void 0:s.projectName)||r}`,data:o}}).filter(r=>{var o;return((o=r.data.custom)==null?void 0:o.projectType)===e}),EM=async({type:e})=>{try{const t=await Pn.get(`/api/templates/${e}`);return(t==null?void 0:t.result)??[]}catch(t){return console.error(`Failed to load templates for type ${e}:`,t),[]}},_M=e=>h3(es.Projects,e),Sv=new Map,jv=new Map,OM=async({html:e="",el:t})=>{const n=e,r={};if(document.body.attachShadow){const o=t.shadowRoot||t.attachShadow({mode:"open"});o.innerHTML=n}return r},PM=le(function({project:t,projectType:n,className:r,onSelect:o,onRemove:s}){var S;const i=Te(),a=ve(),c=a.editor,[u,d]=f.useState(""),p=f.useRef(null),h=i.t("projectManager.projectName"),g=!t.isTemplate&&a.currentProjectId===((S=t.data.custom)==null?void 0:S.id),v=n===Ze.web,b=()=>{!t.isTemplate&&(o==null||o(t))},y=C=>{C.preventDefault(),t.data.custom={...t.data.custom,projectName:u},o==null||o(t)};f.useEffect(()=>{const j=setTimeout(async()=>{if(!p.current||!c)return;const E=`${t.isTemplate?"t-":""}${t.id}`;let O=Sv.get(E);if(!O){let _=jv.get(n);_||(_=await jM(c.config.grapesjs,n,a),jv.set(n,_)),O=SM(_,t.data,n),Sv.set(E,O)}const A=p.current;OM({el:A,html:O})});return()=>clearTimeout(j)},[p,c,n,t.data]);const{media:m,author:x}=t,w=l.jsx(ze,{className:H("text-sm"),size:"m2",variant:"pr",onClick:b,disabled:g,children:i.t("select")});return l.jsx(Ut,{padding:!1,className:H("overflow-hidden max-w-full group",r),children:l.jsxs(D,{col:!0,children:[l.jsxs(k,{className:H("relative group h-36 bg-checker max-w-full"),children:[l.jsx("div",{className:H("relative h-full overflow-hidden"),children:m?l.jsx("img",{src:m,alt:t.name,className:H("max-w-full")}):l.jsx("div",{className:H("gs-utl-w-[1200px] gs-utl-scale-[0.232] gs-utl-h-[200vh] origin-top-left gjs-bg-white"),ref:p})}),g&&l.jsx(ut,{className:H("absolute top-2 right-2",V.bgA2),label:i.t("current"),s:"s",pill:!0}),l.jsx(D,{justify:"center",items:"center",className:H(We.coverAbs,V.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:t.isTemplate?l.jsx(ur,{overlay:!0,title:!1,buttonAs:"span",handler:w,children:()=>l.jsx("form",{onSubmit:y,children:l.jsxs(D,{space:"m",col:!0,children:[l.jsx(k,{children:l.jsx(rt,{size:"s",value:u,onChange:d,placeholder:h,required:!0})}),l.jsx(k,{children:l.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:i.t("load")})})]})})}):w})]}),l.jsxs(D,{className:H("gjs-p-2 max-w-full",J.bt,V.br),col:!0,space:"s",children:[l.jsxs(D,{className:H("text-sm w-full"),space:"s",nowrap:!0,children:[l.jsx(k,{className:H(We.txtEllips,"max-w-full"),grow:!0,children:t.name}),!!x&&l.jsxs(k,{children:["by"," ",l.jsx("a",{className:H(ro.link),href:x.link,rel:"noreferrer",target:"_blank",children:x.name})]})]}),l.jsxs(D,{items:"center",children:[v&&l.jsxs(k,{className:H("gjs-mr-auto"),children:[i.t("projectManager.pages"),": ",t.data.pages.length]}),!t.isTemplate&&l.jsx(k,{className:H("gjs-ml-auto"),children:l.jsx(Qd,{onConfirm:()=>s==null?void 0:s(t),className:"",children:l.jsx(Ct,{title:i.t("delete"),children:l.jsx(Z,{icon:Y.delete,size:ie.sx})})})})]})]})]})})}),TM=le(function(){var j;const[t,n]=f.useState(),[r,o]=f.useState(),[s,i]=f.useState("existent"),a=s==="existent"?t:r,c=ve(),u=Te(),d=Sn(),[p]=jl(),{projectType:h,sdkOptions:g}=c,[v,b]=f.useState(h),y=E=>u.t(`projectManager.${E}`),m=E=>{E.data.custom={...E.data.custom,projectType:v},c.setProject(E),d.close()},x=async E=>{await _M(E.id),n(void 0)},w=f.useMemo(()=>[{id:"existent",label:y("existentProjects")},{id:"templates",label:y("templates")}],[u]);f.useEffect(()=>{(async()=>{if(s==="existent"&&!t){const O=await wv(v);n(O)}else if(s==="templates"&&!r){const O=await EM({type:v});o(O)}})()},[s,t,r,v]);const S=E=>{b(E),n(void 0),o(void 0)},C=((j=g.project)==null?void 0:j.types)&&_c();return l.jsxs(D,{col:!0,full:!0,space:"m",children:[C&&l.jsx(D,{items:"center",space:"m",children:l.jsx(k,{className:H("gjs-ml-auto"),children:l.jsx(Ee,{value:v,onChange:S,options:CM(),handlerSelected:E=>l.jsxs(l.Fragment,{children:[l.jsx("b",{children:"Project type"}),": ",E.label]})})})}),l.jsx(k,{children:l.jsx(bo,{tabs:w,value:s,onChange:i})}),l.jsx(k,{grow:!0,children:a?a.length?l.jsx(xl,{data:a,listClassName:H("grid grid-cols-3 gap-2 gjs-pr-2"),itemContent:(E,O)=>l.jsx(PM,{projectType:v,project:O,onSelect:m,onRemove:x},O.id)},p):l.jsx(D,{justify:"center",children:y("notFound")}):l.jsx(ji,{})})]})}),Sl=({icon:e,layout:t,tooltip:n,className:r,forceRemove:o,removeLayouts:s})=>({type:"button",icon:e,tooltip:n,className:r,size:"s",editorEvents:{[`${lo.layoutToggleId}${t.id}`]:({fromEvent:i,setState:a})=>{a({active:i.isOpen})}},onClick:({editor:i})=>{s==null||s.forEach(a=>i.runCommand(he.layoutRemove,{id:a,force:o})),i.runCommand(he.layoutToggle,{...t})}}),Cv={type:"static",layoutId:"leftPanelsContainer"},Ev={width:240,overflow:"hidden"};Sl({tooltip:"Blocks",removeLayouts:["pagesLayers","ps"],layout:{id:"blocks",layout:"panelBlocks",header:{label:"Blocks"},style:Ev,placer:Cv}}),Sl({tooltip:"Pages & Layers",removeLayouts:["blocks","ps"],layout:{id:"pagesLayers",layout:"panelPagesLayers",header:!1,style:Ev,placer:Cv}}),Sl({tooltip:"Page Settings",removeLayouts:["pagesLayers","blocks"],layout:{id:"ps",layout:"panelPageSettings",header:{label:"Page Settings"},style:{marginLeft:40}}}),Sl({icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,10.11C13.03,10.11 13.87,10.95 13.87,12C13.87,13 13.03,13.85 12,13.85C10.97,13.85 10.13,13 10.13,12C10.13,10.95 10.97,10.11 12,10.11M7.37,20C8,20.38 9.38,19.8 10.97,18.3C10.45,17.71 9.94,17.07 9.46,16.4C8.64,16.32 7.83,16.2 7.06,16.04C6.55,18.18 6.74,19.65 7.37,20M8.08,14.26L7.79,13.75C7.68,14.04 7.57,14.33 7.5,14.61C7.77,14.67 8.07,14.72 8.38,14.77C8.28,14.6 8.18,14.43 8.08,14.26M14.62,13.5L15.43,12L14.62,10.5C14.32,9.97 14,9.5 13.71,9.03C13.17,9 12.6,9 12,9C11.4,9 10.83,9 10.29,9.03C10,9.5 9.68,9.97 9.38,10.5L8.57,12L9.38,13.5C9.68,14.03 10,14.5 10.29,14.97C10.83,15 11.4,15 12,15C12.6,15 13.17,15 13.71,14.97C14,14.5 14.32,14.03 14.62,13.5M12,6.78C11.81,7 11.61,7.23 11.41,7.5C11.61,7.5 11.8,7.5 12,7.5C12.2,7.5 12.39,7.5 12.59,7.5C12.39,7.23 12.19,7 12,6.78M12,17.22C12.19,17 12.39,16.77 12.59,16.5C12.39,16.5 12.2,16.5 12,16.5C11.8,16.5 11.61,16.5 11.41,16.5C11.61,16.77 11.81,17 12,17.22M16.62,4C16,3.62 14.62,4.2 13.03,5.7C13.55,6.29 14.06,6.93 14.54,7.6C15.36,7.68 16.17,7.8 16.94,7.96C17.45,5.82 17.26,4.35 16.62,4M15.92,9.74L16.21,10.25C16.32,9.96 16.43,9.67 16.5,9.39C16.23,9.33 15.93,9.28 15.62,9.23C15.72,9.4 15.82,9.57 15.92,9.74M17.37,2.69C18.84,3.53 19,5.74 18.38,8.32C20.92,9.07 22.75,10.31 22.75,12C22.75,13.69 20.92,14.93 18.38,15.68C19,18.26 18.84,20.47 17.37,21.31C15.91,22.15 13.92,21.19 12,19.36C10.08,21.19 8.09,22.15 6.62,21.31C5.16,20.47 5,18.26 5.62,15.68C3.08,14.93 1.25,13.69 1.25,12C1.25,10.31 3.08,9.07 5.62,8.32C5,5.74 5.16,3.53 6.62,2.69C8.09,1.85 10.08,2.81 12,4.64C13.92,2.81 15.91,1.85 17.37,2.69M17.08,12C17.42,12.75 17.72,13.5 17.97,14.26C20.07,13.63 21.25,12.73 21.25,12C21.25,11.27 20.07,10.37 17.97,9.74C17.72,10.5 17.42,11.25 17.08,12M6.92,12C6.58,11.25 6.28,10.5 6.03,9.74C3.93,10.37 2.75,11.27 2.75,12C2.75,12.73 3.93,13.63 6.03,14.26C6.28,13.5 6.58,12.75 6.92,12M15.92,14.26C15.82,14.43 15.72,14.6 15.62,14.77C15.93,14.72 16.23,14.67 16.5,14.61C16.43,14.33 16.32,14.04 16.21,13.75L15.92,14.26M13.03,18.3C14.62,19.8 16,20.38 16.62,20C17.26,19.65 17.45,18.18 16.94,16.04C16.17,16.2 15.36,16.32 14.54,16.4C14.06,17.07 13.55,17.71 13.03,18.3M8.08,9.74C8.18,9.57 8.28,9.4 8.38,9.23C8.07,9.28 7.77,9.33 7.5,9.39C7.57,9.67 7.68,9.96 7.79,10.25L8.08,9.74M10.97,5.7C9.38,4.2 8,3.62 7.37,4C6.74,4.35 6.55,5.82 7.06,7.96C7.83,7.8 8.64,7.68 9.46,7.6C9.94,6.93 10.45,6.29 10.97,5.7Z" /></svg>',tooltip:"Custom Component",className:"gs-utl-mt-auto",layout:{id:"customLayout",layout:{type:"custom",component:()=>l.jsx("div",{children:"Custom Reat component"})},header:{label:"Custom"},style:{marginLeft:40}}});const AM={type:"row",style:{height:"100%"},children:[{type:"sidebarLeft"},{type:"canvasSidebarTop"},{type:"sidebarRight"}]};class MM{constructor(t,n){this.projectType=Ze.web,this.editor=void 0,this.sdkProps={},this.sdkLicenseError="",this.licenseCheckRetry=0,this.showPoweredBy=!1,this.isInPreview=!1,this.isCssPanelActive=!1,this.isLeftSidebarOpen=!0,this.isRightSidebarOpen=!0,this.isTopSidebarOpen=!0,this.isBottomSidebarOpen=!0,this.isSelectingTarget=!1,this.leftSidebarSize=240,this.rightSidebarSize=240,this.transitionTime=152,this.topBarSize=35,this.isDev=!1,this.isStage=!1,this.editorKey=0,this.appInstalled=!1,this.licenseKey="",this.studioSdkVersion="1.0.23",this.projectDataCustom={},this.displayMode="browser",this.projectPlugins=[],this.queryParams={},this.isCanvasPanning=!1,this.selectedDesignerTab="style",this.customAssets=void 0,this.nextProjectData=void 0,this.isLoadingAssets=!1,this.isSaving=!1,this.isReady=!1,this.sdkPagesConfigUpdates=0,this.panelPageSettings={isOpen:!1,width:300,page:void 0},this.rootElWidth=0,this._projectId="",this.store=t,n&&Object.keys(n).forEach(o=>{const s=o,i=n[s];i!==void 0&&(this[s]=i)});const r=tr()?window.location.search:"";this.queryParams=Bw(r),yn(this,{sdkProps:!1},{autoBind:!0})}get baseApiUrl(){const{isDev:t,isStage:n}=this;return Nw({isDev:t,isStage:n})}get projectId(){var r,o;const{project:t,storage:n}=this.sdkOptions;return this._projectId||((o=(r=(n==null?void 0:n.project)||(t==null?void 0:t.default))==null?void 0:r.custom)==null?void 0:o.id)||""}get projectIdToLoad(){return this.store.localSettingsStore.lastProjectId||this.projectId}get currentProjectId(){return this.projectDataCustom.id||this.projectId}get isBrowserMode(){return this.displayMode==="browser"}get sdkOptions(){return this.sdkProps.options}get sdkPagesConfig(){return this.sdkPagesConfigUpdates,this.sdkOptions.pages}get sdkLayoutConfig(){return this.sdkOptions.layout}get sdkComponentsConfig(){return this.sdkOptions.components}get sdkCurrentLayout(){const{sdkLayoutConfig:t,rootElWidth:n}=this,r=t==null?void 0:t.responsive;let o=(t==null?void 0:t.default)||AM;if(n&&r){const i=Object.keys(r).map(Number).sort((a,c)=>a-c).find(a=>n<=a);o=i?r[i]:o}return o}get sdkCustomIcons(){var t;return(t=this.sdkOptions.customTheme)==null?void 0:t.icons}get isProjectTypeEmail(){return this.projectType===Ze.email}get showPages(){return this.isReady&&this.sdkPagesConfig!==!1&&!this.isProjectTypeEmail}get showSelectors(){return!this.isProjectTypeEmail}get sdkMisconfigurationError(){var n,r;if(this.isUsingAssetCloud||this.isUsingProjectCloud){const o=(n=this.sdkOptions.project)==null?void 0:n.id,s=(r=this.sdkOptions.identity)==null?void 0:r.id;if(!o||!s)return'SDK Misconfiguration Error: When using assets.storageType == "cloud" or storage.type === "cloud", project.id and identity.id are required.'}return""}get isUsingAssetCloud(){var t;return((t=this.sdkOptions.assets)==null?void 0:t.storageType)===Pu.cloud}get isUsingProjectSelfHosted(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===Sa.self}get isUsingProjectCloud(){var t;return((t=this.sdkOptions.storage)==null?void 0:t.type)===Sa.cloud}*init(){var p,h;const{store:t,sdkOptions:n}=this,{lastProjectId:r,lastProjectType:o}=t.localSettingsStore,s=(p=n.project)==null?void 0:p.default,{project:i}=n.storage||{};let a,c;r&&(a=(h=(yield wv(o)).find(v=>v.id===r))==null?void 0:h.data),a?c=a:i?c=i:s&&(c=s);const u=(c==null?void 0:c.custom)||{},d=u.projectType;d&&(this.projectType=d),u.projectType=this.projectType,this.setProjectDataCustom({...u,id:this.projectIdToLoad}),yield t.pluginStore.initProjectPlugins(this.projectType),this.editorKey++}setInstallEvent(t){this.installEvent=t}setAppInstalled(t){this.appInstalled=t}setDisplayMode(t){this.displayMode=t}setProject(t){const n=this.editor,{id:r,data:o,isTemplate:s}=t,i=n.Storage.getConfig().options.local,a=s?`${r}__${zw()}`:r;this._projectId=a,i.key=a,Hw(o)||this.loadProjectData({...o,custom:{...o.custom,id:a}})}setProjectDataCustom(t){const n={...this.projectDataCustom,...t};this.projectDataCustom=n,this.projectType=n.projectType||Ze.web,this.editor&&fg(this.editor,n),n.id&&this.store.localSettingsStore.setLocalState({lastProjectId:n.id,lastProjectType:this.projectType})}loadProjectData(t){const n=t.custom||{};if(kM(t)!==this.projectType)this.setNextProjectData(t),this.setProjectDataCustom(n),this.updateStudio();else{const r=this.editor;r.loadProjectData(t),r.UndoManager.clear(),this.setProjectDataCustom(n)}}setNextProjectData(t){this.nextProjectData=t}setLeftSidebarSize(t){this.leftSidebarSize=t}setRightSidebarSize(t){this.rightSidebarSize=t}setEditor(t){this.editor=t}setPreview(t){this.isInPreview=t}toggleCssPanel(){this.isCssPanelActive=!this.isCssPanelActive}toggleLeftSidebar(){this.isLeftSidebarOpen=!this.isLeftSidebarOpen,this.refreshEditorPostTransition()}setLeftSidebarOpen(t){this.isLeftSidebarOpen=t,this.refreshEditorPostTransition()}toggleRightSidebar(){this.isRightSidebarOpen=!this.isRightSidebarOpen,this.refreshEditorPostTransition()}setRightSidebarOpen(t){this.isRightSidebarOpen=t,this.refreshEditorPostTransition()}setTopSidebarOpen(t){this.isTopSidebarOpen=t,this.refreshEditorPostTransition()}setBottomSidebarOpen(t){this.isBottomSidebarOpen=t,this.refreshEditorPostTransition()}refreshEditorPostTransition(){setTimeout(()=>{var t;return(t=this.editor)==null?void 0:t.refresh()},this.transitionTime)}setCanvasPanning(t){this.isCanvasPanning=t}setSelectingTarget(t){this.isSelectingTarget=t}setSelectedDesignerTab(t){this.selectedDesignerTab=t}setCustomAssets(t){this.customAssets=t}setIsLoadingAssets(t){this.isLoadingAssets=t}setIsSaving(t){this.isSaving=t}setIsReady(t){this.isReady=t}setPanelPageSettings(t){this.panelPageSettings={...this.panelPageSettings,...t}}setSdkPagesConfig(t){this.sdkProps.options.pages=t&&{...this.sdkPagesConfig,...t},++this.sdkPagesConfigUpdates}setRootElWidth(t){this.rootElWidth=t,this.refreshEditorCanvas()}*loadLicense(){var t,n,r;try{(t=this.editor)==null||t.trigger(Ew);const{licenseKey:o,baseApiUrl:s,studioSdkVersion:i}=this,a=yield Pn.post(`${s}/sdk/${o||"na"}`,{params:{d:window.location.hostname,v:i}}),{license:c,error:u,plan:d}=a.result||{};u?this.sdkLicenseError=u:(this.sdkLicense=c,d!=null&&d.poweredBy&&(this.showPoweredBy=!0)),(n=this.editor)==null||n.trigger(Zp,{sdkLicense:this.sdkLicense})}catch(o){this.licenseCheckRetry<3?(this.licenseCheckRetry++,setTimeout(()=>this.loadLicense(),3e3)):(console.log(o),this.showPoweredBy=!0,(r=this.editor)==null||r.trigger(Zp))}}*updateStudio(){const{pluginStore:t}=this.store,{projectType:n}=this.projectDataCustom;yield t.initProjectPlugins(n),this.editorKey++}refreshStudio(){var t;this.setNextProjectData((t=this.editor)==null?void 0:t.getProjectData()),this.editorKey++}refreshEditorCanvas(){var t;(t=this.editor)==null||t.refresh({tools:!0})}}const kM=e=>{var t;return((t=e.custom)==null?void 0:t.projectType)||Ze.web},LM=e=>{fp(()=>e.sdkCurrentLayout,()=>e.refreshStudio())},ve=()=>un().appEditorStore,NM=()=>{try{return ve()}catch{}},Ci=()=>ts().appEditorStore,jl=()=>{const[e,t]=f.useState(0),n=un().appEditorStore,{transitionTime:r}=n;return f.useEffect(()=>{setTimeout(()=>t(o=>++o),r)},[r]),[e]},_v=String.raw,Ne=(e,t)=>{if(t==null)return"";const n=e[0],r=e[1];return`${n}${t}${r}`},$M=(e,t="")=>{var n,r,o,s,i,a,c,u,d,p,h,g,v,b,y,m,x,w,S,C,j,E,O,A,_,T,N,B,$,M,L,F,R,I,z,U,K,ee,X,Q,ce,te,G,W,se,ne,be,ye,Oe,He,_t,dt,Je,br,ft,qt,En,yt,st,gt,_n,Ot,On,xo,ls,cs;return _v`
  ${t}.${Pe.txt} {
    ${Ne`color: ${(r=(n=e.colors)==null?void 0:n.global)==null?void 0:r.text};`}
  }

  ${t}.${Pe.bg} {
    ${Ne`background-color: ${(s=(o=e.colors)==null?void 0:o.global)==null?void 0:s.background3};`}
  }

  ${t}.${Pe.br} {
    ${Ne`border-color: ${(a=(i=e.colors)==null?void 0:i.global)==null?void 0:a.border};`}
  }

  ${t}.${Pe.bgA} {
    ${Ne`background-color: ${(u=(c=e.colors)==null?void 0:c.primary)==null?void 0:u.background1};`}
    ${Ne`color: ${(p=(d=e.colors)==null?void 0:d.primary)==null?void 0:p.text};`}
  }

  ${t}.${Pe.bgA2} {
    ${Ne`background-color: ${(g=(h=e.colors)==null?void 0:h.primary)==null?void 0:g.background1};`}
    ${Ne`color: ${(b=(v=e.colors)==null?void 0:v.primary)==null?void 0:b.text};`}
  }

  ${t}.${Pe.hBgAct}:hover.${Pe.hBgAct}:hover,
  ${t}.${Pe.hBgA2}:hover.${Pe.hBgA2}:hover {
    ${Ne`background-color: ${(m=(y=e.colors)==null?void 0:y.primary)==null?void 0:m.backgroundHover};`}
  }

  ${t}.${Pe.tA} {
    ${Ne`color: ${(w=(x=e.colors)==null?void 0:x.primary)==null?void 0:w.background1};`}
  }

  ${t}.${Pe.tAo} {
    ${Ne`color: ${(C=(S=e.colors)==null?void 0:S.primary)==null?void 0:C.background1};`}
  }

  ${t}.${Pe.hTAo}:hover.${Pe.hTAo}:hover,
  ${t}.group:hover .${Pe.grouphTAo} {
    ${Ne`color: ${(E=(j=e.colors)==null?void 0:j.primary)==null?void 0:E.backgroundHover};`}
  }

  ${t}.${Pe.bA} {
    ${Ne`border-color: ${(A=(O=e.colors)==null?void 0:O.primary)==null?void 0:A.background1};`}
  }

  ${t}.${Pe.bg0} {
    ${Ne`background-color: ${(T=(_=e.colors)==null?void 0:_.primary)==null?void 0:T.background3};`}
    ${Ne`color: ${(B=(N=e.colors)==null?void 0:N.primary)==null?void 0:B.background1};`}
  }

  ${t}.${Pe.bgH} {
    ${Ne`background-color: ${(M=($=e.colors)==null?void 0:$.global)==null?void 0:M.background1};`}
  }

  ${t}.${Pe.bgH2} {
    ${Ne`background-color: ${(F=(L=e.colors)==null?void 0:L.global)==null?void 0:F.background2};`}
  }

  ${t}.${Pe.hBgH}:hover,
  ${t}.${Pe.hBgH2}:hover {
    ${Ne`background-color: ${(I=(R=e.colors)==null?void 0:R.global)==null?void 0:I.backgroundHover};`}
  }

  ${t}.${Pe.sel} {
    ${Ne`background-color: ${(U=(z=e.colors)==null?void 0:z.selector)==null?void 0:U.background2};`}
    ${Ne`color: ${(ee=(K=e.colors)==null?void 0:K.selector)==null?void 0:ee.background1};`}
  }

  ${t}.${Pe.selBr} {
    ${Ne`border-color: ${(Q=(X=e.colors)==null?void 0:X.selector)==null?void 0:Q.background1};`}
  }

  ${t}.${Pe.cmp} {
    ${Ne`background-color: ${(te=(ce=e.colors)==null?void 0:ce.component)==null?void 0:te.background1};`}
    ${Ne`color: ${(W=(G=e.colors)==null?void 0:G.component)==null?void 0:W.text};`}
  }

  ${t}.${Pe.cmpBgSoft} {
    ${Ne`background-color: ${(ne=(se=e.colors)==null?void 0:se.component)==null?void 0:ne.background2};`}
  }

  ${t}.${Pe.cmpBgSoftX} {
    ${Ne`background-color: ${(ye=(be=e.colors)==null?void 0:be.component)==null?void 0:ye.background3};`}
  }

  ${t}.${Pe.cmpBr} {
    ${Ne`border-color: ${(He=(Oe=e.colors)==null?void 0:Oe.component)==null?void 0:He.background1};`}
  }

  ${t}.${Pe.cmpSymbol} {
    ${Ne`background-color: ${(dt=(_t=e.colors)==null?void 0:_t.symbol)==null?void 0:dt.background1};`}
    ${Ne`color: ${(br=(Je=e.colors)==null?void 0:Je.symbol)==null?void 0:br.text};`}
  }

  ${t}.${Pe.cmpBgSymbolSoft} {
    ${Ne`background-color: ${(qt=(ft=e.colors)==null?void 0:ft.symbol)==null?void 0:qt.background2};`}
  }

  ${t}.${Pe.cmpBgSymbolSoftX} {
    ${Ne`background-color: ${(yt=(En=e.colors)==null?void 0:En.symbol)==null?void 0:yt.background3};`}
  }

  ${t}.${Pe.cmpSymbolBr} {
    ${Ne`border-color: ${(gt=(st=e.colors)==null?void 0:st.symbol)==null?void 0:gt.background1};`}
  }

  ${t}.${Pe.cmpTxtActive} {
    ${Ne`color: ${(Ot=(_n=e.colors)==null?void 0:_n.component)==null?void 0:Ot.text};`}
  }

  ${t}.${Pe.focus}:focus-visible {
    ${Ne`box-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) ${(xo=(On=e.colors)==null?void 0:On.global)==null?void 0:xo.focus};`}
  }

  ${t}.${Pe.inputText}::placeholder {
    ${Ne`color: ${(cs=(ls=e.colors)==null?void 0:ls.global)==null?void 0:cs.placeholder};`}
  }
`},DM=()=>{const e=ve(),{sdkOptions:t}=e,{customTheme:n}=t;if(!n)return null;const r=_v`
    ${n.default?$M(n.default,t.theme===ar.light?`:not(.gs-utl-${ar.dark}) `:`.gs-utl-${ar.dark} `):""}
  `;return l.jsx("style",{children:r})};function Cl({action:e,icon:t,label:n,className:r,items:o,...s}){const i=f.useRef(null),[a,c]=f.useState(),u=i.current,d=P([r,"gs-utl-last:border-b-0 gs-utl-gap-2 gs-utl-select-none",V.br,_e.xy,J.bb,s.disabled&&We.disabled,...e?[V.hBgH,"gs-utl-cursor-pointer"]:["gs-utl-cursor-default"]]),p=g=>xt(e)&&e({event:g});f.useEffect(()=>{if(!u)return;const g=setTimeout(()=>c(u.getBoundingClientRect()),s.active?0:ih);return()=>clearTimeout(g)},[u,s.active]);const h=()=>{var g;return(g=s.onActive)==null?void 0:g.call(s)};return l.jsxs(D,{ref:i,items:"center",nowrap:!0,className:d,onClick:p,onPointerEnter:h,children:[t&&l.jsx(k,{children:l.jsx(Z,{icon:t,size:ie.s})}),l.jsx(k,{className:P(s.classNameLabel,We.txtEllips),grow:!0,children:n}),!!(o!=null&&o.length)&&l.jsxs(l.Fragment,{children:[l.jsx(k,{children:l.jsx(Z,{icon:Y.chevronRight,size:ie.s,className:P("-gs-utl-mr-2")})}),a&&s.active&&l.jsx(Pv,{items:o,x:a.left,y:a.top,w:a.width,h:a.height,open:!0})]})]})}const Ov=tr()&&document.body,IM={...pd,placement:"right-start",modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"flip",options:{boundary:Ov}},{name:"preventOverflow",options:{boundary:Ov}}]},El="gs-ctx-menu-list",Pv=le(function({open:t,items:n,x:r,y:o,w:s,h:i}){const a=Rd(),[c,u]=f.useState(),[d,p]=f.useState(null),h=f.useMemo(()=>({getBoundingClientRect:()=>new DOMRect(r,o,s,i)}),[r,o,s,i,t]),{styles:g,attributes:v}=Ha(h,d,IM),b=re(`${El}-wrp gs-utl-z-20`),y=re(`${El} gs-utl-z-20`),m=re(`${El}-body gs-utl-max-w-52`),x=re(`${El}-item`),w="gs-utl-max-w-40",S=C=>{const{action:j,onClick:E}=C;if(j||E)return O=>{const A={editor:a.store.appEditorStore.editor,...O};xt(j)?(j(A),a.hide()):xt(E)&&(E(A),a.hide())}};return l.jsx("div",{className:b,ref:p,style:g.popper,...v.popper,children:l.jsx(In,{show:!!t,...Es,unmount:!1,children:l.jsx(Ut,{padding:!1,className:y,classNameBody:m,children:n.map((C,j)=>f.createElement(Cl,{...C,key:C.id??j,className:x,classNameLabel:w,action:S(C),onActive:()=>u(C),active:c===C}))})})})}),VM=le(function(){const t=Rd(),{isOpen:n,items:r,coordinates:o}=t,{x:s,y:i}=o;return f.useEffect(()=>{const a=window.document,c=u=>u.key==="Escape"&&t.hide();return a.addEventListener("keydown",c),()=>{a.removeEventListener("keydown",c)}},[]),l.jsxs(l.Fragment,{children:[l.jsx(Pv,{open:n,items:r,x:s,y:i}),n&&l.jsx("div",{onClick:t.hide,className:H("z-10 fixed inset-0")})]})}),Tv=15,HM=le(function(){const{isActive:t,content:n}=H1(),[r,o]=f.useState({x:0,y:0});f.useEffect(()=>{const i=a=>{o({x:a.clientX,y:Math.max(0,a.clientY)})};return t&&window.addEventListener("pointermove",i),()=>{window.removeEventListener("pointermove",i)}},[t]);const s=f.useMemo(()=>({transform:`translate(${r.x+Tv}px, ${r.y+Tv}px)`}),[r]);return l.jsx(In,{show:t,...Es,children:l.jsx("div",{className:H("fixed top-0 left-0 pointer-badge pointer-events-none z-10"),style:s,children:l.jsx(ut,{className:H("gjs-px-4 gjs-py-2",V.bgBlur,V.txtHighEmphasis),pill:!0,border:!0,nopad:!0,children:n})})})}),BM=le(function(){const t=Au();return l.jsx(SE,{className:P("fixed top-5 right-5 z-20"),toasts:t.toasts,onDismiss:t.remove})}),ef=typeof window<"u"?window.location.hostname:"";ef||ef==="[::1]"||ef.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function zM(e){if("serviceWorker"in navigator){if(new URL({NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.23"}.PUBLIC_URL||"",window.location.href).origin!==window.location.origin)return;window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),Ci().setInstallEvent(o)}),window.addEventListener("appinstalled",()=>{Ci().setAppInstalled(!0)}),navigator.serviceWorker.addEventListener("controllerchange",()=>{});const n=o=>{let s="browser";const i=navigator.standalone||document.referrer.startsWith("android-app://");(o||i)&&(s="standalone"),Ci().setDisplayMode(s)},r=window.matchMedia("(display-mode: standalone)");r.addEventListener("change",o=>n(o.matches)),n(r.matches)}}const FM=f.forwardRef(function({children:t},n){const[r,o]=f.useState(""),s=Wt(),i=f.useRef(null),a=ve(),{style:c,className:u,options:d=_f,onUpdate:p,onEditor:h,onReady:g,...v}=a.sdkProps,{autoHeight:b=!0,serviceWorker:y}=d;f.useImperativeHandle(n,()=>i.current,[]);const m=f.useMemo(()=>({...c,height:r||(c==null?void 0:c.height)||""}),[c,r]);return f.useEffect(()=>{const x=i.current,w=()=>{var j;return(j=x==null?void 0:x.parentElement)==null?void 0:j.offsetHeight},S=w(),C=()=>{const j=x.style.position;x.style.position="absolute";const E=w();E&&o(`${E}px`),x.style.position=j};if(S&&b)return o(`${S}px`),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[b,i.current]),f.useEffect(()=>{const x=i.current;if(!x)return;s.rootEl||s.setRootEl(x),s.init();const w=new ResizeObserver(()=>{a.setRootElWidth(x.offsetWidth)});return w.observe(x),()=>{w.disconnect()}},[i.current]),f.useEffect(()=>{y&&zM()},[]),l.jsxs("div",{ref:i,className:re(H("gs-studio-editor overflow-hidden h-full w-full text-base"),u),style:m,...v,children:[l.jsx(DM,{}),t,l.jsxs("div",{className:H("gs-studio-els",V.txt),children:[l.jsx(BM,{}),l.jsx(HM,{}),l.jsx(VM,{})]})]})});function RM({children:e,accept:t,onChange:n,multiple:r=!0,...o}){const s=Te(),i=f.useRef(null),a=()=>{const{current:c}=i;c&&(c.value="",c.click())};return l.jsxs(l.Fragment,{children:[l.jsx("input",{className:P("hidden"),ref:i,type:"file",multiple:r,accept:t,onChange:n}),l.jsx(ze,{variant:"pr",size:"m2",...o,onClick:a,children:e||s.t("upload")})]})}const UM=le(RM),WM=le(function({asset:t,onSelect:n,onRemove:r,className:o}){const s=Te();return l.jsx(Ut,{padding:!1,className:H("overflow-hidden max-w-full group",o),children:l.jsxs(D,{col:!0,children:[l.jsxs(k,{className:H("relative group h-24 cursor-pointer bg-checker"),onClick:()=>n==null?void 0:n(t),children:[l.jsx("div",{className:H("w-full h-full bg-contain bg-no-repeat bg-center"),style:{backgroundImage:`url("${t.getSrc()}")`}}),l.jsx(D,{justify:"center",items:"center",className:H(We.coverAbs,V.bgH75,"group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),children:l.jsx(ze,{className:H("text-sm"),size:"m2",variant:"pr",children:s.t("select")})})]}),l.jsxs(D,{className:H("gjs-p-1 max-w-full"),space:"s",items:"center",nowrap:!0,children:[l.jsx(k,{className:H(We.txtEllips,"text-sm gjs-mr-auto"),children:t.get("name")||t.getFilename()}),l.jsx(Qd,{onConfirm:()=>r==null?void 0:r(t),text:l.jsxs(D,{col:!0,space:"m",items:"stretch",children:[l.jsx("p",{className:H("text-center",V.txtHighEmphasis),children:s.t("assetManager.deleteConfirmQuestion")}),l.jsx("p",{className:H("text-center"),children:s.t("assetManager.deleteConfirmExplanation")})]}),confirmButtonProps:{variant:"danger"},children:l.jsx(Ct,{title:s.t("delete"),children:l.jsx(Z,{icon:Y.delete,size:ie.sx})})})]})]})})}),tf="gs-asset-manager",GM=e=>{const t="gs-utl-grid-cols-4",n=parseInt(`${e||4}`,10);return n===1?"gs-utl-grid-cols-1":n===2?"gs-utl-grid-cols-2":n===3?"gs-utl-grid-cols-3":n===4?t:n===5?"gs-utl-grid-cols-5":t},Av=le(function({content:t,assets:n,select:r,close:o}){var te,G;const s=ve(),i=Au(),[a]=jl(),c=Te(),[u,d]=f.useState(""),[p,h]=f.useState(""),[g,v]=f.useState(n),b=c.tScoped("assetManager"),y=s.editor,{customAssets:m,isUsingAssetCloud:x}=s,{Assets:w}=y,S=w.getConfig(),C=s.sdkOptions.assets,j=(te=s.sdkOptions.project)==null?void 0:te.id,E=(G=s.sdkOptions.identity)==null?void 0:G.id,O=s.sdkOptions.licenseKey,A=GM(t==null?void 0:t.itemsPerRow),_=(t==null?void 0:t.header)===!0||!jr(t==null?void 0:t.header)?{}:t==null?void 0:t.header,T=[{id:"project",label:c.t("assetManager.projectAssets")},{id:"user",label:c.t("assetManager.userAssets")}],[N,B]=f.useState(T[0].id),M=x&&N==="user"?()=>jO(O,j,E):C==null?void 0:C.onLoad,F=x?({assets:W})=>PO(W,O,j,E):C==null?void 0:C.onDelete,R=M&&!m,I=n.map(W=>W.id).join(","),z=s.isLoadingAssets||R,U=g.filter(W=>!(u&&!No(W.getSrc(),u)&&!No(W.get("name"),u))),K=async()=>{if(!M){v(n);return}try{const se=(await M({editor:y})).map(ne=>({...ne,id:ne.id||ne.src}));s.setCustomAssets(se),v((s.customAssets??[]).map(ne=>new y.AssetManager.all.model.prototype.constructor(ne)))}catch(W){console.error(W),s.setCustomAssets([]),i.addError("assets-error-get",b("errorLoad"))}},ee=W=>{r(W),y.store(),o()},X=W=>{w.FileUploader().uploadFile(W.nativeEvent)},Q=W=>()=>{p&&(w.add(p),W())},ce=async W=>{try{s.setIsLoadingAssets(!0),await(F==null?void 0:F({assets:[W],editor:y})),w.remove(W),await K(),await y.store()}catch(se){console.error(se),i.addError("assets-error-delete",{header:b("errorDelete"),content:se==null?void 0:se.message})}finally{s.setIsLoadingAssets(!1)}};return f.useEffect(()=>{const W=setTimeout(()=>K(),100);return()=>clearTimeout(W)},[]),f.useEffect(()=>{M||v(n)},[I]),l.jsxs(D,{className:P(tf,"relative gs-utl-h-full",z&&We.disabled),nowrap:!0,col:!0,space:"m",children:[_&&l.jsxs(D,{className:P(`${tf}__header`,"gs-utl-gap-4"),justify:"between",items:"center",children:[l.jsxs(D,{items:"center",space:"m",children:[_.search!==!1&&l.jsx(k,{children:l.jsx(rt,{size:"s",type:"search",value:u,onInput:d,placeholder:`${c.t("search")}...`})}),x&&l.jsx(k,{children:l.jsx(Ee,{className:P("items-center"),size:"m",options:T,value:N,onChange:function(W){B(W)}})})]}),l.jsxs(D,{items:"center",space:"m",children:[_.upload!==!1&&l.jsx(k,{children:l.jsx(UM,{accept:"image/*",onChange:X})}),!!S.showUrlInput&&_.addUrl!==!1&&l.jsx(k,{children:l.jsx(ur,{overlay:!0,title:!1,buttonAs:"span",handler:l.jsx(ze,{variant:"pr",size:"m2",children:c.t("assetManager.addUrl")}),children:({close:W})=>l.jsxs(D,{space:"m",children:[l.jsx(k,{children:l.jsx(rt,{type:"url",size:"s",value:p,onChange:h,placeholder:c.t("assetManager.inputPlh")})}),l.jsx(k,{children:l.jsx(ze,{variant:"pr",size:"m2",onClick:Q(W),children:c.t("add")})})]})})})]})]}),l.jsx(D,{className:P(`${tf}__content`,"gs-utl-h-[75vh] gs-utl-flex-grow"),space:"m",col:!0,nowrap:!0,children:R?null:U.length?l.jsx(xl,{data:U,listClassName:P("gs-utl-grid gs-utl-gap-2",A),itemContent:(W,se)=>l.jsx(WM,{asset:se,onSelect:ee,onRemove:ce},se.getSrc())},a):l.jsx(D,{justify:"center",children:c.t("noItems")})}),z&&l.jsx(ji,{abs:!0})]})}),KM=H("text-sm text-center w-full",We.txtEllips),qM=le(({block:e,className:t})=>{const n=ct(),{Blocks:r}=n,s=Te().tScoped("blockManager.labels"),i=()=>{r.startDrag(e)},a=()=>{r.endDrag(!1)},c=!!e.get("full"),u=e.get("mediaReact"),d=e.getMedia(),p=s(e.getId())||e.getLabel(),h=H("gs-block-item cursor-pointer gjs-py-2 gjs-px-2 transition-colors",J.b,J.rnd,V.br,V.hTAo,V.hBgH,c&&"col-span-full",t);return l.jsxs(D,{className:h,onDragStart:i,onDragEnd:a,items:"center",draggable:!0,col:!0,children:[u||l.jsx("div",{className:H("h-10 w-10 block-media"),dangerouslySetInnerHTML:{__html:d}}),l.jsx("div",{className:KM,title:p,children:p})]})});function nf({className:e,value:t,onChange:n}){const[r,o]=f.useState(t),s=f.useRef(null),i=u=>{const{value:d}=u.target;o(d)},a=()=>{n(r||t)},c=u=>{switch(u.key){case"Escape":n(t);break;case"Enter":n(r||t);break}};return f.useEffect(()=>{s.current&&s.current.select()},[]),l.jsx("input",{autoFocus:!0,className:P([e,"w-full",V.bgTr]),value:r,onChange:i,onBlur:a,onKeyDown:c,ref:s})}function Mv({className:e,value:t,active:n,unstyled:r,activable:o,onChange:s,onActive:i,...a}){const[c,u]=f.useState(n);f.useEffect(()=>{u(n)},[n]);const d=h=>{i==null||i(h),u(h)},p=h=>{s(h),d(!1)};return l.jsx("div",{className:P("truncate",e),...a,onDoubleClick:()=>o&&d(!0),children:c?l.jsx(nf,{className:P(r&&We.noFocusOut),value:t,onChange:p}):l.jsx(l.Fragment,{children:t})})}const kv=H("text-sm w-full",We.txtEllips),YM=le(({symbol:e,className:t})=>{const n=ct(),{Components:r}=n,o=Te(),s=Sn(),i=o.tScoped("blockManager.symbols"),a=()=>{const{draggable:m,droppable:x,attributes:w,type:S,tagName:C}=e.attributes;n.Canvas.startDrag({content:()=>r.addSymbol(e),model:e,dragDef:{type:S,tagName:C,draggable:m,droppable:x,attributes:w}})},c=()=>{n.Canvas.endDrag()},u=e.getIcon(),d=e.getName(),p=r.getSymbolInfo(e).instances.length,h=H("h-10 w-10 block-media",V.grouphTAo),g=H("gjs-pt-1 gjs-mt-2",J.bt,V.br),v=H("cursor-pointer gjs-p-2 transition-colors group",J.b,J.rnd,V.br,V.hBgH,t),b=()=>{s.confirm({title:i("delete"),content:i("deleteConfirm"),onConfirm:()=>e.remove()})},y=m=>{e.set("custom-name",m)};return l.jsxs(D,{className:v,onDragStart:a,onDragEnd:c,items:"center",draggable:!0,col:!0,children:[l.jsx("div",{className:h,dangerouslySetInnerHTML:{__html:u}}),l.jsxs(D,{items:"center",justify:"between",className:g,space:"m",full:!0,children:[l.jsx(k,{children:l.jsx(D,{className:H(kv,"gjs-mr-auto"),children:l.jsx(lt,{title:`${p} ${i("instancesProject")}`,children:l.jsx(ut,{label:`${p}`,className:H(V.bgH75)})})})}),l.jsx(k,{className:H("truncate"),grow:!0,title:d,children:l.jsx(Mv,{activable:!0,value:d,className:kv,onChange:y})}),l.jsx(k,{className:H(We.hoverGroup),children:l.jsx(D,{justify:"end",full:!0,children:l.jsx(Ct,{onClick:b,title:i("delete"),border:!1,size:"",block:!0,children:l.jsx(Z,{icon:Y.delete,size:ie.s})})})})]})]})}),XM=[{id:"regular",label:"Regular"},{id:"symbols",label:"Symbols"}],ZM="gs-block-manager",Lv=le(function({isOpen:t,className:n,...r}){const o=ct(),{Blocks:s,Components:i}=o,a=Te(),[c,u]=f.useState("regular"),[d,p]=f.useState(""),[h,g]=f.useState(0),[v,b]=f.useState([]),y=a.tScoped("blockManager.labels"),m=c==="symbols",x=f.useRef(null);f.useEffect(()=>{const A=s.events.custom,_=i.events.symbol,T=()=>{b(i.getSymbols()),g(N=>++N)};return o.on(_,T),o.on(A,T),()=>{o.off(_,T),o.off(A,T)}},[o]),f.useEffect(()=>{if(x.current&&t){const A=x.current.querySelector("input");setTimeout(()=>A==null?void 0:A.focus(),ih)}},[x.current,t]);const w=A=>y(A.getId())||A.getLabel(),S=v.filter(A=>No(A.getName(),d)),C=s.getAll().reduce((A,_)=>{const T=_.getCategoryLabel();if(d&&!No(T,d)&&!No(w(_),d))return A;const N=A[T];return N?N.push(_):A[T]=[_],A},{}),j=a.t("search"),E=Object.keys(C),O=P("gjs-pb-3",_e.xyS,J.bb,V.br);return l.jsxs(D,{className:P(ZM,n),col:!0,full:!0,children:[l.jsxs(D,{className:O,space:"s",col:!0,children:[r.symbols!==!1&&l.jsx(bo,{tabs:XM,onChange:u,value:c,variant:"pills"}),r.search!==!1&&l.jsx(rt,{ref:x,size:"s",value:d,onInput:p,placeholder:`${j}...`,type:"search"})]}),l.jsxs(k,{grow:!0,className:P(We.scrollY),children:[m&&(S.length?l.jsx(D,{className:P("grid grid-cols-1 gap-2 gjs-p-2"),children:S.map(A=>l.jsx(YM,{symbol:A},`${h}_${A.getId()}`))}):l.jsx(D,{className:P("text-center gjs-p-4"),justify:"center",children:a.t("blockManager.symbols.notFound")})),!m&&(E.length?E.map((A,_)=>l.jsx(Uo,{sticky:!0,open:!0,handler:A,className:T=>P(ch.itemList({index:_,open:T,length:E.length})),children:l.jsx(D,{className:P("grid grid-cols-2 gap-2 gjs-p-2"),children:C[A].map(T=>l.jsx(qM,{block:T},T.id))})},A)):l.jsx(D,{className:P("text-center gjs-p-4"),justify:"center",children:a.t("blockManager.notFound")}))]})]})}),JM={add:Y.plus},Nv=(e,t)=>t||JM[e];function rf({className:e,icon:t,title:n,onClose:r,actions:o=[],children:s}){const{t:i}=Te();return l.jsxs(D,{className:P("gjs-card-title",e),items:"center",children:[l.jsx(k,{className:P("truncate"),grow:!0,children:n}),s,l.jsxs(D,{space:"s",children:[!!o.length&&l.jsx(D,{space:"xs",className:P("gjs-px-1"),children:o.map(({id:a,icon:c,className:u,...d})=>l.jsx(k,{children:l.jsx(Ct,{block:!0,border:!1,size:"xs",icon:Nv(a,c)?{icon:Nv(a,c),size:ie.s}:void 0,className:P(We.click,u),...d})},a))}),(r||t)&&l.jsx(Ct,{title:i("close"),onClick:r,border:!1,className:P(We.click),icon:{icon:Y.close,size:ie.s},size:"xs",block:!0})]})]})}const QM=[{id:"grapesjs-component-countdown",name:"Countdown",description:"Countdown component",src:"https://unpkg.com/grapesjs-component-countdown@1.0.1/dist/index.js",version:"1.0.1",projectType:[Ze.web],options:{props:{emptyState:!0}}},{id:"grapesjs-tabs",name:"Tabs",description:"Tabs component",src:"https://unpkg.com/grapesjs-tabs@1.0.6/dist/grapesjs-tabs.min.js",version:"1.0.6",projectType:[Ze.web],options:{tabsBlock:{category:"Extra",select:!0}}},{id:"grapesjs-custom-code",name:"Custom code",description:"Component for the embed of custom code",src:"https://unpkg.com/grapesjs-custom-code@1.0.1/dist/index.js",version:"1.0.1",projectType:[Ze.web]},{id:"grapesjs-tooltip",name:"Tooltip",description:"Simple, CSS only, tooltip component",src:"https://unpkg.com/grapesjs-tooltip@0.1.7/dist/index.js",version:"0.1.7",projectType:[Ze.web],options:{propsTooltip:{emptyState:{styleOut:"width: 80px;"}}}},{id:"grapesjs-typed",name:"Typed",description:"Typed component based on Typed.js library",src:"https://unpkg.com/grapesjs-typed@2.0.1/dist/index.js",version:"2.0.1",projectType:[Ze.web],options:{block:{category:"Extra"}}}],ek=()=>new Promise(e=>{setTimeout(()=>e(QM),100)}),$v=le(function({plugin:t,selected:n,className:r,installed:o,onInstall:s,onSelect:i}){const a=Te(),c=d=>a.t(`pluginManager.${d}`),u=o[t.id];return l.jsx(Ut,{className:H("overflow-hidden max-w-full group gjs-px-4 gjs-py-3",r),padding:!1,children:l.jsx(D,{space:"s",col:!0,children:l.jsx(D,{className:H("max-w-full"),nowrap:!0,children:l.jsx(k,{grow:!0,className:H("w-full"),children:l.jsxs(D,{space:"s",col:!0,children:[l.jsxs(D,{items:"center",space:"s",nowrap:!0,children:[l.jsx(k,{className:H(We.txtEllips,"cursor-pointer"),onClick:()=>i==null?void 0:i(t),children:l.jsx("b",{children:t.name})}),l.jsx(k,{grow:!0,children:l.jsx(ut,{className:H("opacity-90"),label:`v${t.version}`,s:"s",pill:!0,border:!0})}),l.jsx(D,{children:l.jsx(ze,{className:H("text-sm"),size:"m2",variant:"pr",onClick:()=>s(t),children:c(u?"uninstall":"install")})})]}),l.jsx(k,{className:H(!n&&We.txtEllips,"text-sm max-w-full"),children:t.description})]})})})})})}),Dv=le(function({selectedId:t}){const n=Te(),[r]=jl(),o=zd(),s=ve(),[i,a]=f.useState(),[c,u]=f.useState(),[d,p]=f.useState(),[h,g]=f.useState("all"),v=h==="all"?d:c,b=n.tScoped("pluginManager");f.useEffect(()=>{(async()=>{!c&&u(await bi()),!d&&p(await ek())})()},[c,d]),f.useEffect(()=>{if(t&&d&&!o.selectedShown){const S=d.find(C=>C.id===t);S&&a(S),o.setSelectedShown(!0)}},[d]);const y=f.useMemo(()=>[{id:"all",label:b("all")},{id:"installed",label:b("installed")}],[n]),m=f.useCallback(async S=>{c!=null&&c.find(C=>C.id===S.id)?await v3(S):await m3(S),u(await bi())},[c]),x=f.useMemo(()=>(c==null?void 0:c.reduce((S,C)=>(S[C.id]=C.version,S),{}))||{},[c]),w=!!(i||o.hasPending);return l.jsxs(D,{col:!0,full:!0,space:"m",children:[w&&l.jsxs(D,{children:[!!i&&l.jsx(ze,{onClick:()=>a(void 0),className:H(V.tAo),border:!1,children:l.jsxs(D,{space:"xs",items:"center",children:[l.jsx(Z,{icon:Y.chevronLeft,size:ie.s}),l.jsx("div",{children:b("allPlugins")})]})}),o.hasPending&&l.jsx(ze,{className:H("text-sm gjs-ml-auto"),size:"m2",variant:"out",onClick:s.updateStudio,children:b("updateStudio")})]}),i?l.jsx(k,{grow:!0,className:H("w-full"),children:l.jsx($v,{plugin:i,installed:x,onInstall:m,selected:!0})}):l.jsxs(l.Fragment,{children:[l.jsx(k,{children:l.jsx(bo,{tabs:y,onChange:g,value:h})}),l.jsx(k,{grow:!0,children:v?v.length?l.jsx(xl,{data:v,listClassName:H("grid grid-cols-1 gap-2 gjs-pr-2"),itemContent:(S,C)=>l.jsx($v,{plugin:C,installed:x,onInstall:m,onSelect:a},C.id)},r):l.jsx(D,{justify:"center",children:n.t("notItemsFound")}):l.jsx(ji,{})})]})]})}),of=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-block-manager-after"),n),ref:o,...r,children:t})}),sf=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-block-manager-before"),n),ref:o,...r,children:t})}),tk=le(function(){const{isOpen:t,toggleOpen:n}=sg(),{editor:r,sdkProps:o,sdkOptions:s,isProjectTypeEmail:i}=ve(),a=Sn(),c=Te(),u=o.children,d=c.tScoped("blockManager"),p=P("absolute left-0 top-0 h-full transition-transform z-10",!t&&"-translate-x-full",J.br,V.br,V.bg),h=()=>{a.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>l.jsx(Dv,{})})},g=f.useMemo(()=>[!!s.pluginManager&&!i&&{id:"add",title:d("add"),className:V.tAo,onClick:h,icon:Y.viewGridPlus}].filter(Boolean),[r]);return l.jsxs(D,{className:p,style:{width:240},col:!0,nowrap:!0,children:[l.jsx(k,{children:l.jsx(rf,{title:d("blocks"),onClose:n,className:P(_e.s),actions:g})}),l.jsxs(Lr,{children:[Tt(u,sf),l.jsx(k,{className:P("overflow-hidden"),grow:!0,children:l.jsx(Lv,{isOpen:t})}),Tt(u,of)]})]})}),nk={pointerEvents:"all"};function ss({spot:e,children:t,style:n,spotStyles:r,...o}){const s={...r||e.getStyle(),...n};return l.jsx("div",{...o,style:s,children:l.jsx("div",{style:nk,children:t})})}const Gn=f.forwardRef(function({children:t,className:n,position:r,out:o,...s},i){var h;const{Canvas:a}=ct(),c=((h=a.getCanvasView())==null?void 0:h.clsUnscale)||"",u=[],d={};switch(r){case"top-left":u.push("top-0","left-0"),d.transformOrigin="top left",o&&(d.translate="0 -100%",d.transformOrigin="bottom left");break;case"top-center":u.push("top-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="top center",o&&(d.translate="-50% -100%",d.transformOrigin="bottom center");break;case"top-right":u.push("top-0","right-0"),d.transformOrigin="top right",o&&(d.translate="0 -100%",d.transformOrigin="bottom right");break;case"center-left":u.push("left-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center left",o&&(d.translate="-100% -50%",d.transformOrigin="center right");break;case"center-center":d.top="50%",d.left="50%",d.translate="-50% -50%",d.transformOrigin="center";break;case"center-right":u.push("right-0"),d.top="50%",d.translate="0 -50%",d.transformOrigin="center right",o&&(d.translate="100% -50%",d.transformOrigin="center left");break;case"bottom-left":u.push("left-0","bottom-0"),d.transformOrigin="bottom left",o&&(d.translate="0 100%",d.transformOrigin="top left");break;case"bottom-center":u.push("bottom-0"),d.left="50%",d.translate="-50% 0",d.transformOrigin="bottom center",o&&(d.translate="-50% 100%",d.transformOrigin="top center");break;case"bottom-right":u.push("right-0","bottom-0"),d.transformOrigin="bottom right",o&&(d.translate="0 100%",d.transformOrigin="top right");break}const p={...d,...s.style};return l.jsx("div",{...s,className:re(c,H("gs-utl-flex gs-utl-absolute",n,u.join(" "))),style:p,ref:i,children:t})}),Iv="top-left";function Vv({spot:e,className:t}){const{Canvas:n}=ct(),[r,o]=f.useState(Iv),s=e.component,i=e.getBoxRect(),a=n.getWorldRectToScreen(i),c=f.useRef(null),u=n.getElement().clientHeight;return ym(c,{boxRectScreen:a,vwHeight:u,setPos:o,initialPos:Iv}),l.jsx(Gn,{className:H("pointer-events-none"),ref:c,style:Uv,position:r,out:!0,children:l.jsx(ut,{className:H("shadow-md",t||ia(s).bg),s:"s",children:l.jsxs(D,{space:"xs",items:"center",nowrap:!0,children:[ug(s),l.jsx("div",{className:H("whitespace-nowrap max-w-36 truncate"),children:s.getName()})]})})})}function rk({spot:e,className:t}){const n=H("gjs-border",ia(e.component).border,t);return l.jsx(ss,{spot:e,className:n,children:l.jsx(Vv,{spot:e})})}function ok({spot:e,className:t}){const n=ct(),r=f.useRef(null),[o]=f.useState(Uv),[s,i]=f.useState([]),[a,c]=f.useState("top-right"),u=e.component,d=e.getBoxRect(),p=n.Canvas.getWorldRectToScreen(d),h=e.getStyle({boxRect:d}),g=n.getSelected()===u,v=u.toolbar,b=n.Canvas.getElement().clientHeight,y=Rd();f.useEffect(()=>{const E=setTimeout(async()=>{const O=await y.getItemsForComponent(u);i(O)},10);return()=>clearTimeout(E)},[u]),ym(r,{boxRectScreen:p,vwHeight:b,setPos:c});const m=j=>{Bt(j)?n.runCommand(j):j==null||j(n,"",{})},x=j=>{const E=j.currentTarget.getBoundingClientRect();y.show({items:s,x:E.x+E.width,y:E.y})},w=ia(u),S=H("border-2",w.border,t),C=H(w.bg,"overflow-hidden shadow-md");return l.jsx(ss,{spot:e,spotStyles:h,className:S,children:g&&l.jsx(Gn,{ref:r,style:o,position:a,out:!0,children:l.jsx(ut,{className:C,s:"s",nopad:!0,block:!0,children:l.jsxs(D,{space:"x2s",items:"center",nowrap:!0,children:[v.map(({label:j,command:E=""})=>l.jsx(k,{children:l.jsx(ze,{border:!1,rounded:!1,size:"s",className:H("block gs-utl-py-1.5 gs-utl-px-1.5",V.hBgDark),onMouseDown:()=>m(E),children:j!=null&&j.startsWith("<svg")?l.jsx(kc,{className:H("w-4 fill-current"),svg:j}):j})},j)),!!s.length&&l.jsx(k,{children:l.jsx(ze,{border:!1,rounded:!1,size:"s",className:H("block",V.hBgDark),onClick:x,children:l.jsx(Z,{icon:Y.dotsVertical,size:ie.s})})})]})})})})}var Cn=(e=>(e.PaddingTop="padding-top",e.PaddingRight="padding-right",e.PaddingBottom="padding-bottom",e.PaddingLeft="padding-left",e.MarginTop="margin-top",e.MarginRight="margin-right",e.MarginBottom="margin-bottom",e.MarginLeft="margin-left",e))(Cn||{});const{PaddingTop:_l,PaddingRight:af,PaddingBottom:Ol,PaddingLeft:lf,MarginTop:Pl,MarginRight:cf,MarginBottom:Tl,MarginLeft:uf}=Cn,sk=(e,t)=>{const n=t!=null&&t.startsWith("p")?"padding":"margin";return DE(e,n,t)},Fr=(e,t,n={})=>{const r=ct(),o=H1(),[s,i]=f.useState(),a=d=>{const h=r.Canvas.getFramesEl().classList,g=d?"add":"remove";h[g]("gs-utl-pointer-events-none"),h[g]("gs-utl-select-none")},c=d=>{var p,h;(p=n.setAltKey)==null||p.call(n,d.altKey),(h=n.setShiftKey)==null||h.call(n,d.shiftKey)};return f.useEffect(()=>{var T;const d=[_l,Ol,Pl,Tl].includes(t),p=document.body.classList,h=e.component.getEl(),g=r.Styles.getSelected(),v=window.getComputedStyle(h),b=d?"!cursor-ns-resize":"!cursor-ew-resize",y=r.Canvas.getZoomMultiplier(),m={};let x=parseFloat(v[t])??0,w,S="",C={};for(const N of Object.values(Cn)){const B=N;m[B]=v[B]}const j=(N,B)=>{const $=t==null?void 0:t.startsWith("p"),{altKey:M,shiftKey:L}=B,F=m,R={[_l]:L||t===Ol&&M?N:F[_l],[af]:L||t===lf&&M?N:F[af],[Ol]:L||t===_l&&M?N:F[Ol],[lf]:L||t===af&&M?N:F[lf]},I={[Pl]:L||t===Tl&&M?N:F[Pl],[cf]:L||t===uf&&M?N:F[cf],[Tl]:L||t===Pl&&M?N:F[Tl],[uf]:L||t===cf&&M?N:F[uf]};return R[t]=N,I[t]=N,$?R:I},E=N=>{S&&(w?w.upValue(S,N):g==null||g.addStyle(C,N))},O=N=>{if(!s||!g)return;const B=d?N.clientY-s.y:N.clientX-s.x,$=Math.max(0,parseInt(`${x+B*y}`));S=`${$}px`,C=j(S,N),E({partial:!0}),o.show($)},A=()=>{!s||!g||(i(void 0),a(!1),o.hide(),E())},_=N=>{c(N),C=j(S,N),E({partial:!0})};return s&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",A),document.addEventListener("keydown",_),document.addEventListener("keyup",_),p.add(b),(T=n.onActive)==null||T.call(n,t),n.useStyleProperty&&(w=sk(r,t),x=(w==null?void 0:w.getValue())??x)),()=>{var N;document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",A),document.removeEventListener("keydown",_),document.removeEventListener("keyup",_),p.remove(b),(N=n.onActive)==null||N.call(n,void 0)}},[s]),[f.useCallback(d=>{if(d.button!==0)return;const{clientX:p,clientY:h}=d;i({x:p,y:h}),a(!0),c(d.nativeEvent)},[]),!!s]},Al="gs-utl-border-2 gs-utl-border-white !gs-utl-box-content",Hv="gs-utl-bg-[#7fc65e]",Bv="gs-utl-bg-[#ebae70]",zv="gs-utl-h-5 gs-utl-w-1 gs-utl-mx-2 gs-utl-cursor-ew-resize",Fv="gs-utl-h-1 gs-utl-w-5 gs-utl-my-2 gs-utl-cursor-ns-resize",ik=f.memo(function({spot:t,disabledHandler:n,useStyleProperty:r,onActive:o}){const[s,i]=f.useState(!1),[a,c]=f.useState(!1),u={onActive:o,setAltKey:i,setShiftKey:c,useStyleProperty:r},[d,p]=Fr(t,"padding-top",u),[h,g]=Fr(t,"padding-right",u),[v,b]=Fr(t,"padding-bottom",u),[y,m]=Fr(t,"padding-left",u),[x,w]=Fr(t,"margin-top",u),[S,C]=Fr(t,"margin-right",u),[j,E]=Fr(t,"margin-bottom",u),[O,A]=Fr(t,"margin-left",u),_=H(Al,Hv,zv),T=H(Al,Hv,Fv),N=H(Al,Bv,zv),B=H(Al,Bv,Fv),$=p||g||b||m,M=w||C||E||A,L=$||M,F=(G,W)=>{let se=!1;const ne=$&&a,be=M&&a;switch(W){case"padding-top":se=b&&s||ne;break;case"padding-right":se=m&&s||ne;break;case"padding-bottom":se=p&&s||ne;break;case"padding-left":se=g&&s||ne;break;case"margin-top":se=E&&s||be;break;case"margin-right":se=A&&s||be;break;case"margin-bottom":se=w&&s||be;break;case"margin-left":se=C&&s||be;break}return!L||G||se},R=!!(n!=null&&n.padding),I=!!(n!=null&&n.margin),z=!R&&F(p,"padding-top"),U=!R&&F(g,"padding-right"),K=!R&&F(b,"padding-bottom"),ee=!R&&F(m,"padding-left"),X=!I&&F(w,"margin-top"),Q=!I&&F(C,"margin-right"),ce=!I&&F(E,"margin-bottom"),te=!I&&F(A,"margin-left");return l.jsxs(l.Fragment,{children:[z&&l.jsx(Gn,{position:"top-center",onPointerDown:d,children:l.jsx(ut,{className:T,s:"s",pill:!0,block:!0,nopad:!0})}),U&&l.jsx(Gn,{position:"center-right",onPointerDown:h,children:l.jsx(ut,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),K&&l.jsx(Gn,{position:"bottom-center",onPointerDown:v,children:l.jsx(ut,{className:T,s:"s",pill:!0,block:!0,nopad:!0})}),ee&&l.jsx(Gn,{position:"center-left",onPointerDown:y,children:l.jsx(ut,{className:_,s:"s",pill:!0,block:!0,nopad:!0})}),X&&l.jsx(Gn,{position:"top-center",onPointerDown:x,out:!0,children:l.jsx(ut,{className:B,s:"s",pill:!0,block:!0,nopad:!0})}),Q&&l.jsx(Gn,{position:"center-right",onPointerDown:S,out:!0,children:l.jsx(ut,{className:N,s:"s",pill:!0,block:!0,nopad:!0})}),ce&&l.jsx(Gn,{position:"bottom-center",onPointerDown:j,out:!0,children:l.jsx(ut,{className:B,s:"s",pill:!0,block:!0,nopad:!0})}),te&&l.jsx(Gn,{position:"center-left",onPointerDown:O,out:!0,children:l.jsx(ut,{className:N,s:"s",pill:!0,block:!0,nopad:!0})})]})}),Rv=(e,t)=>{var n;return!!((n=gg(e,t))!=null&&n.isVisible())},ak=(e={})=>{const[t,n,r,o]=yg(e.padding||""),[s,i,a,c]=yg(e.margin||"");return{paddingTop:e[Cn.PaddingTop]||t,paddingRight:e[Cn.PaddingRight]||n,paddingBottom:e[Cn.PaddingBottom]||r,paddingLeft:e[Cn.PaddingLeft]||o,marginTop:e[Cn.MarginTop]||s,marginRight:e[Cn.MarginTop]||i,marginBottom:e[Cn.MarginTop]||a,marginLeft:e[Cn.MarginTop]||c}};function lk({spot:e,className:t}){const n=ct(),{isProjectTypeEmail:r}=ve(),[o,s]=f.useState(),[i,a]=f.useState({padding:!1,margin:!1}),{el:c,component:u}=e,d=e.getBoxRect(),p=n.Canvas.getZoomDecimal(),h=d.height*p,g=d.width*p,v=e.getStyle({boxRect:d}),b=n.getSelectedAll().includes(u),y=n.getSelected()===u,m=(o==null?void 0:o.startsWith("p"))??!1,x=(o==null?void 0:o.startsWith("m"))??!1,w=ak(r?u==null?void 0:u.getStyle():{});if(f.useEffect(()=>{b&&a({padding:!Rv(n,"padding"),margin:!Rv(n,"margin")})},[b]),e.type==="spacing"&&b)return null;const S={borderColor:"rgba(196, 222, 184, 0.5)",borderStyle:"solid"},C={borderColor:"rgba(249, 204, 158, 0.5)",borderStyle:"solid",boxSizing:"content-box"},j=window.getComputedStyle(c);S.borderTopWidth=w.paddingTop||j.paddingTop,S.borderRightWidth=w.paddingRight||j.paddingRight,S.borderBottomWidth=w.paddingBottom||j.paddingBottom,S.borderLeftWidth=w.paddingLeft||j.paddingLeft,C.borderTopWidth=w.marginTop||j.marginTop,C.borderRightWidth=w.marginTop||j.marginRight,C.borderBottomWidth=w.marginTop||j.marginBottom,C.borderLeftWidth=w.marginTop||j.marginLeft;const E={...v,...S},O={...v,...C,translate:`${d.x-parseFloat(j.marginLeft)}px ${d.y-parseFloat(j.marginTop)}px`};return l.jsxs(l.Fragment,{children:[(!b||m)&&l.jsx(ss,{spot:e,spotStyles:E,className:H(t)}),(!b||x)&&l.jsx(ss,{spot:e,spotStyles:O,className:H(t)}),y&&(h>60&&g>60||o)&&l.jsx(ss,{spot:e,spotStyles:v,className:H(t),children:l.jsx(ik,{spot:e,onActive:s,disabledHandler:i,useStyleProperty:r})})]})}function ck({spot:e,className:t}){const n=H("gjs-border-2",V.cmpTargetBr,V.cmpTargetBgOpac,t);return l.jsx(ss,{spot:e,className:n,children:l.jsx(Vv,{spot:e,className:H(V.cmpTargetBg)})})}const Uv={padding:"9px 0"};function uk({spot:e}){const t=ct(),{Canvas:n}=t,r=ve(),o=t.getEditing(),{type:s,component:i}=e,a=s==="select",c=s==="spacing",u=s==="hover",d=s==="target";return!e.el||!n.hasCustomSpot(s)||r.isSelectingTarget&&!d||(u||c)&&o&&(i!=null&&i.isChildOf(o))?null:l.jsxs(l.Fragment,{children:[(c||a)&&l.jsx(lk,{spot:e,className:H("z-0")}),d&&l.jsx(ck,{spot:e,className:H("z-10")}),a&&l.jsx(ok,{spot:e,className:H("z-20")}),u&&l.jsx(rk,{spot:e,className:H("z-30")})]})}const Wv=new WeakMap;function Gv(e){if(!e)return()=>null;const t=Wv.get(e);if(t)return t;const n=function({children:o}){return Pt.createPortal(o,e)};return Wv.set(e,n),n}const dk=f.memo(function({children:t}){const n=Bu(),[r,o]=f.useState([]),[s,i]=f.useState({});f.useEffect(()=>{if(!n)return;n.onReady(()=>{const d=n.Canvas.getSpotsEl(),p=Gv(d);i({Container:p})});const c="canvas:spot",u=()=>{const d=n.Canvas.getSpots();o(d)};return n.on(c,u),()=>{n.off(c,u)}},[n]);const{Container:a}=s;return n&&a?l.jsx(a,{children:t({spots:r})}):null}),fk=le(function(){const{isCanvasPanning:t}=ve();return l.jsx(dk,{children:({spots:n})=>l.jsx(In,{show:!t,...ah,children:n.map(r=>l.jsx(uk,{spot:r},r.id))})})}),Ml=({className:e,grow:t,alignItems:n,justifyContent:r})=>re(e,V.br,t&&"gs-utl-flex-grow",n==="start"&&"gs-utl-items-start",n==="end"&&"gs-utl-items-end",n==="center"&&"gs-utl-items-center",n==="baseline"&&"gs-utl-items-baseline",n==="stretch"&&"gs-utl-items-stretch",r==="start"&&"gs-utl-justify-start",r==="end"&&"gs-utl-justify-end",r==="center"&&"gs-utl-justify-center",r==="between"&&"gs-utl-justify-between",r==="around"&&"gs-utl-justify-around",r==="evenly"&&"gs-utl-justify-evenly"),kl=({style:e,width:t,height:n,gap:r})=>({height:n,gap:r,width:t,...e}),yo=f.memo(le(function({id:t,children:n,className:r,style:o,width:s,gap:i,height:a,grow:c,alignItems:u,justifyContent:d,...p}){const{layoutsById:h}=Ud(),[g,v]=f.useState({}),b=f.useMemo(()=>kl({height:a,gap:i,width:s,style:o}),[o,s,a,i]),y=Ml({className:r,grow:c,alignItems:u,justifyContent:d});return f.useEffect(()=>{if(t)return h.set(t,{state:g,setState:v}),()=>{h.delete(t)}},[h,g]),l.jsx("div",{style:b,className:y,...p,children:g.children??n})})),pk="gs-cmp-row",hk=f.memo(function({className:t,children:n,full:r,...o}){return l.jsx(yo,{className:re(pk,V.bg,"gs-utl-flex",r&&"gs-utl-w-full",t),...o,children:vr(n)})}),gk="gs-cmp-column",mk=f.memo(function({className:t,children:n,full:r,...o}){return l.jsx(yo,{className:re(gk,V.bg,"gs-utl-flex gs-utl-flex-col",r&&"gs-utl-h-full",t),...o,children:vr(n)})});var Kv=(e=>(e.primary="primary",e.outline="outline",e.shallow="shallow",e))(Kv||{}),qv=(e=>(e.none="",e.xs="xs",e.s="s",e.m="m",e.lg="lg",e))(qv||{});const vk="gs-cmp-button",df=f.memo(le(function({className:t,children:n,tooltip:r,variant:o,onClick:s,editorEvents:i,label:a,size:c,icon:u,active:d,buttonType:p,disabled:h,...g}){const{editor:v}=ve(),[b,y]=f.useState(()=>({disabled:h,variant:o,active:d,className:t,tooltip:r,icon:u,size:c,label:a})),m=b.variant,x=m==="outline",w=m==="primary"?"pr":x?"out-clear":void 0,S=b.label,C=j=>{s==null||s({event:j,editor:v,state:b,setState:E=>y(O=>({...O,...E}))})};return f.useEffect(()=>{if(!i||!v)return;const j=Object.keys(i).reduce((O,A)=>(O[A]=(_={})=>{i[A]({fromEvent:_,editor:v,state:b,setState:T=>y(N=>({...N,...T}))})},O),{}),E=Object.keys(j);return E.forEach(O=>v.on(O,j[O])),()=>{E.forEach(O=>v.off(O,j[O]))}},[v,b]),l.jsx(Ct,{title:b.tooltip,className:re(vk),classNameWrp:b.className,variant:w,icon:b.icon,active:b.active,size:b.size,disabled:b.disabled,onClick:C,border:x,type:p,block:!0,...g,children:S?xt(S)?S({editor:v}):S:n})}));function Ll({colors:e,...t}){return e?l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 79 79",...t,children:[l.jsx("path",{fill:"url(#a)",d:"M39.6 77.1a37.5 37.5 0 1 0 0-75 37.5 37.5 0 0 0 0 75Z"}),l.jsx("path",{stroke:"#fff",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"5",d:"m40 19-14.58 8.79a6.36 6.36 0 0 0-2.82 5.33v14.13a6.14 6.14 0 0 0 3.12 5.13l11.21 5.8a6.12 6.12 0 0 0 6.14 0l11.41-6.3a6.09 6.09 0 0 0 3.12-5.13V33.12c0-1.28-1.4-2.07-2.52-1.48l-15.08 8"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"a",x1:"2.1",x2:"77.2",y1:"39.6",y2:"39.6",gradientUnits:"userSpaceOnUse",children:[l.jsx("stop",{stopColor:"#D7709E"}),l.jsx("stop",{offset:"1",stopColor:"#A84A87"})]})})]}):l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 76 76",...t,children:l.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M64.117 64.117a37.5 37.5 0 1 1-53.034-53.034 37.5 37.5 0 0 1 53.034 53.034ZM39.29 19.14a2.5 2.5 0 1 0-2.582-4.282l-14.583 8.79-.05.03-.047.032a8.861 8.861 0 0 0-2.917 3.229 8.729 8.729 0 0 0-1.011 4.203V45.293l.002.047a8.64 8.64 0 0 0 1.25 4.164 8.78 8.78 0 0 0 3.115 3.043l.05.03.053.027 11.165 5.769a8.62 8.62 0 0 0 4.264 1.127c1.507 0 2.99-.394 4.295-1.145l11.394-6.276.006-.004a8.585 8.585 0 0 0 3.178-3.05 8.443 8.443 0 0 0 1.227-4.225V31.123c0-3.265-3.502-5.122-6.19-3.688l-.005.003-15.076 7.995a2.5 2.5 0 0 0 2.342 4.418l13.93-7.387v12.263a3.444 3.444 0 0 1-.502 1.703 3.584 3.584 0 0 1-1.326 1.271l-.003.002-11.409 6.284-.024.014-.023.013a3.619 3.619 0 0 1-1.814.486 3.62 3.62 0 0 1-1.814-.486l-.052-.03-.054-.028-11.155-5.764a3.78 3.78 0 0 1-1.297-1.283 3.642 3.642 0 0 1-.527-1.715V31.081a3.73 3.73 0 0 1 .432-1.806 3.858 3.858 0 0 1 1.23-1.377L39.29 19.14Z",clipRule:"evenodd"})})}const bk=f.memo(le(function(){const{isStage:e,updateStudio:t}=ve(),{isDarkTheme:n}=Wt(),r=f.useRef(null),{bg:o,text:s}=uh(n);return xm({ref:r,show:e,update:n,reload:t,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",right:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 30px 10px;
                  border-radius: 10px;
                  margin: 5px;
                  font-size: 30px;
                  background-color: ${o};
                  color: ${s};
                  width: 95%;
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 10px;
              }
              .gs-gs-logo {
                  width: 35px;
              }
            `}),l.jsx(Ut,{className:"gs-banner",children:l.jsxs(D,{className:"gs-banner-row",children:[l.jsx(Ll,{className:"gs-gs-logo",colors:!0}),l.jsx("div",{children:"GrapesJS Studio Demo!"})]})})]})}),l.jsx("div",{ref:r})})),yk=()=>`https://grapesjs.com?ref=${window.location.host}`,xk=f.memo(le(function(){const{updateStudio:e,showPoweredBy:t}=ve(),{isDarkTheme:n}=Wt(),r=f.useRef(null),{bg:o,text:s,link:i}=uh(n);return xm({ref:r,show:t,update:n,reload:e,styles:{display:"flex",justifyContent:"center",position:"absolute",bottom:"0",left:"0"},node:l.jsxs(l.Fragment,{children:[l.jsx("style",{children:`
              .gs-banner {
                  box-shadow: 0 0 5px #1c1b1b21;
                  padding: 5px 10px;
                  border-radius: 9999px;
                  margin: 5px;
                  font-size: 12px;
                  background-color: ${o};
                  color: ${s};
              }
              .gs-banner-row {
                  justify-content: center;
                  align-items: center;
                  display: flex;
                  gap: 3px;
              }
              .gs-link {
                  color: ${i};
                  text-decoration: none;
              }
              .gs-logo {
                  width: 20px;
              }
             `}),l.jsx(Ut,{className:"gs-banner",children:l.jsxs(D,{className:"gs-banner-row",children:[l.jsx("a",{className:"gs-link",href:yk(),target:"_blank",children:"GrapesJS Studio"}),l.jsx(Ll,{className:"gs-logo",colors:!0})]})})]})}),l.jsx("div",{ref:r})})),wk=f.memo(le(function(){const{isReady:t}=ve();return l.jsxs(l.Fragment,{children:[l.jsx("div",{children:!t&&l.jsx(ji,{className:H("z-10"),abs:!0,full:!0})}),l.jsx(bk,{}),l.jsx(xk,{})]})})),Sk="gs-canvas",Yv=f.memo(function({className:t,grow:n}){return l.jsx(YO,{className:re(Sk,"gs-utl-relative gs-utl-bg-gray-50 dark:gs-utl-bg-zinc-800",n&&"gs-utl-flex-grow",t),children:l.jsx(Lr,{children:l.jsx(wk,{})})})}),jk={maxWidth:`${Iw}px`},Ck="gs-cmp-layer-item";function Xv({component:e,draggingCmp:t,dragParent:n,...r}){const o=ct(),{Layers:s}=o,i=f.useRef(null),[a,c]=f.useState(!1),[u,d]=f.useState(s.getLayerData(e)),{open:p,selected:h,hovered:g,components:v,visible:b,locked:y,name:m}=u,x=v.map(R=>R.cid),w=t===e,S=x.join("-"),C=r.level+1,j=g||n===e;f.useEffect(()=>{C===0&&d(s.getLayerData(e)),i.current&&(i.current.__cmp=e)},[e]),f.useEffect(()=>{const R=z=>{z===e&&d(s.getLayerData(z))},I=s.events.component;return o.on(I,R),()=>{o.off(I,R)}},[o,s,e]);const E=f.useMemo(()=>v.map(R=>l.jsx(Xv,{component:R,level:C,draggingCmp:t,dragParent:n},R.cid)),[S,t,n]),O=R=>{s.setLayerData(e,{name:R}),c(!1)},A=R=>{R.stopPropagation(),s.setLayerData(e,{open:!p})},_=R=>{R.stopPropagation(),s.setLayerData(e,{visible:!b})},T=R=>{R.stopPropagation(),s.setLayerData(e,{locked:!y})},N=R=>{R.stopPropagation(),s.setLayerData(e,{selected:!0},{event:R})},B=R=>{R.preventDefault(),o.select(e),o.runCommand(he.contextMenuComponent,{source:Fd.layers,component:e,x:R.clientX,y:R.clientY})},$=R=>{(!R||!t)&&s.setLayerData(e,{hovered:R})},M=ia(e),L=P("layer-item",(h||M.isSymbol)&&M.bgSoftX,(!b||w)&&"opacity-50"),F=P(_e.xyS,J.b,j?M.border:J.bT,h&&M.bgSoft);return l.jsx("div",{className:Ck,children:l.jsxs(D,{col:!0,className:L,children:[l.jsx(k,{onClick:N,onContextMenu:B,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),className:P("group max-w-full"),"data-layer-item":!0,ref:i,children:l.jsxs(D,{items:"center",space:"xs",className:F,children:[l.jsx(k,{style:{marginLeft:`${C*10}px`},className:P("cursor-pointer",!v.length&&"pointer-events-none opacity-0"),onClick:A,children:l.jsx(Z,{icon:Y.menuDown,size:ie.sx,rotate:p?0:-90})}),l.jsx(k,{children:ug(e)}),l.jsx(k,{className:P("truncate"),onDoubleClick:()=>c(!0),style:jk,grow:!0,children:a?l.jsx(nf,{value:m,onChange:O}):l.jsx(l.Fragment,{children:m})}),!a&&l.jsxs(l.Fragment,{children:[l.jsx(k,{className:P("group-hover:gs-utl-opacity-100 cursor-pointer",y?"opacity-100":"opacity-0"),onClick:T,children:l.jsx(Z,{icon:y?Y.lock:Y.lockOpenVariant,size:ie.s3x})}),l.jsx(k,{className:P("group-hover:gs-utl-opacity-100 cursor-pointer",b?"opacity-0":"opacity-100"),onClick:_,children:l.jsx(Z,{icon:b?Y.eyeOutline:Y.eyeOffOutline,size:ie.sx})})]})]})}),!!(p&&v.length)&&l.jsx(k,{className:P("max-w-full",!p&&"hidden"),children:E})]})})}const Ek={touchAction:"none"},Zv=5,_k=e=>{const t=document.elementFromPoint(e.clientX,e.clientY),n=t==null?void 0:t.closest("[data-layer-item]");return{el:n,cmp:n==null?void 0:n.__cmp}};function Jv({root:e,header:t}){const n=ct(),{Components:r}=n,[o,s]=f.useState(!1),[i,a]=f.useState({}),[c,u]=f.useState(),[d,p]=f.useState(),[h,g]=f.useState(),[v,b]=f.useState(),y=f.useRef(null),m=O=>{O.button===0&&s(!0)},x=O=>{if(!o)return;const{cmp:A,el:_}=_k(O);if(!_||!A)return;const T=_.getBoundingClientRect(),N=_.offsetHeight,B=_.offsetTop,$=O.clientY,M=$<T.y+N/2,L=d||A,F=A.parent(),R=A.index()+(M?0:1);!d&&p(A),u(A);const I=r.canMove(F,L,R),z=r.canMove(A,L),U={...I,canMoveInside:z,index:R};let K=!1;z.result&&$>T.y+Zv&&$<T.y+N-Zv&&(K=!0,U.target=A,delete U.index),g(K?A:void 0),a(U),b({pointerInside:K,y:B+(M?0:N),h:N})},w=()=>{var O;i!=null&&i.result&&((O=i.source)==null||O.move(i.target,{at:i.index})),a({}),s(!1),p(void 0),u(void 0),g(void 0),b(void 0)},S=(c?c.parents():[]).length,C=!!(d&&v&&(i!=null&&i.result)&&!v.pointerInside),j=C?{top:v.y,left:0,marginLeft:S*10+20}:{};f.useEffect(()=>{const O=window.document,A=_=>{_.key==="Escape"&&(a({...i,result:!1}),w())};return O.addEventListener("keydown",A),()=>{O.removeEventListener("keydown",A)}},[]);const E=t&&(t==null?void 0:t.label)||"Layers";return l.jsxs(D,{col:!0,full:!0,nowrap:!0,className:P("gs-layer-manager flex-grow overflow-hidden"),children:[t!==!1&&l.jsx(k,{children:l.jsxs(D,{space:"s",items:"center",className:P([_e.xy,J.bb,V.br]),children:[l.jsx(k,{children:l.jsx(Z,{icon:Y.layers,size:ie.s})}),l.jsx(k,{grow:!0,children:E})]})}),l.jsxs(k,{className:P("overflow-y-auto overflow-x-hidden text-sm select-none relative"),style:Ek,onPointerDown:m,onPointerMove:x,onPointerUp:w,grow:!0,children:[!!e&&l.jsx(Xv,{component:e,level:-1,draggingCmp:d,dragParent:h}),C&&l.jsx("div",{ref:y,className:P("absolute w-full gs-utl-h-0.5",V.cmp),style:j})]})]})}const ff=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-layer-manager-after"),n),ref:o,...r,children:t})}),pf=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-layer-manager-before"),n),ref:o,...r,children:t})});var Ok=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=globalThis&&globalThis.__assign||function(){return ot=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},ot.apply(this,arguments)},Qv={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},eb={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Nl={width:"20px",height:"20px",position:"absolute"},Pk={top:ot(ot({},Qv),{top:"-5px"}),right:ot(ot({},eb),{left:void 0,right:"-5px"}),bottom:ot(ot({},Qv),{top:void 0,bottom:"-5px"}),left:ot(ot({},eb),{left:"-5px"}),topRight:ot(ot({},Nl),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:ot(ot({},Nl),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:ot(ot({},Nl),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:ot(ot({},Nl),{left:"-10px",top:"-10px",cursor:"nw-resize"})},Tk=function(e){Ok(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.onMouseDown=function(r){n.props.onResizeStart(r,n.props.direction)},n.onTouchStart=function(r){n.props.onResizeStart(r,n.props.direction)},n}return t.prototype.render=function(){return ke.createElement("div",{className:this.props.className||"",style:ot(ot({position:"absolute",userSelect:"none"},Pk[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(ke.PureComponent),Ak=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(r[s]=o[s])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kn=globalThis&&globalThis.__assign||function(){return Kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Kn.apply(this,arguments)},Mk={width:"auto",height:"auto"},$l=function(e,t,n){return Math.max(Math.min(e,n),t)},tb=function(e,t,n){var r=Math.round(e/t);return r*t+n*(r-1)},is=function(e,t){return new RegExp(e,"i").test(t)},Dl=function(e){return!!(e.touches&&e.touches.length)},kk=function(e){return!!((e.clientX||e.clientX===0)&&(e.clientY||e.clientY===0))},nb=function(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(s,i,a){return Math.abs(i-e)<Math.abs(t[s]-e)?a:s},0),o=Math.abs(t[r]-e);return n===0||o<n?t[r]:e},hf=function(e){return e=e.toString(),e==="auto"||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},Il=function(e,t,n,r){if(e&&typeof e=="string"){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%")){var o=Number(e.replace("%",""))/100;return t*o}if(e.endsWith("vw")){var o=Number(e.replace("vw",""))/100;return n*o}if(e.endsWith("vh")){var o=Number(e.replace("vh",""))/100;return r*o}}return e},Lk=function(e,t,n,r,o,s,i){return r=Il(r,e.width,t,n),o=Il(o,e.height,t,n),s=Il(s,e.width,t,n),i=Il(i,e.height,t,n),{maxWidth:typeof r>"u"?void 0:Number(r),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof i>"u"?void 0:Number(i)}},Nk=function(e){return Array.isArray(e)?e:[e,e]},$k=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],rb="__resizable_base__",Dk=function(e){Ak(t,e);function t(n){var r,o,s,i,a=e.call(this,n)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var c=a.parentNode;if(!c)return null;var u=a.window.document.createElement("div");return u.style.width="100%",u.style.height="100%",u.style.position="absolute",u.style.transform="scale(0, 0)",u.style.left="0",u.style.flex="0 0 100%",u.classList?u.classList.add(rb):u.className+=rb,c.appendChild(u),u},a.removeBase=function(c){var u=a.parentNode;u&&u.removeChild(c)},a.state={isResizing:!1,width:(o=(r=a.propsSize)===null||r===void 0?void 0:r.width)!==null&&o!==void 0?o:"auto",height:(i=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&i!==void 0?i:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||Mk},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var n=0,r=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,i=this.resizable.style.position;i!=="relative"&&(this.resizable.style.position="relative"),n=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,r=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=i}return{width:n,height:r}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var n=this,r=this.props.size,o=function(a){var c;if(typeof n.state[a]>"u"||n.state[a]==="auto")return"auto";if(n.propsSize&&n.propsSize[a]&&(!((c=n.propsSize[a])===null||c===void 0)&&c.toString().endsWith("%"))){if(n.state[a].toString().endsWith("%"))return n.state[a].toString();var u=n.getParentSize(),d=Number(n.state[a].toString().replace("px","")),p=d/u[a]*100;return p+"%"}return hf(n.state[a])},s=r&&typeof r.width<"u"&&!this.state.isResizing?hf(r.width):o("width"),i=r&&typeof r.height<"u"&&!this.state.isResizing?hf(r.height):o("height");return{width:s,height:i}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var n=this.appendBase();if(!n)return{width:0,height:0};var r=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(r=!0,this.parentNode.style.flexWrap="wrap"),n.style.position="relative",n.style.minWidth="100%",n.style.minHeight="100%";var s={width:n.offsetWidth,height:n.offsetHeight};return r&&(this.parentNode.style.flexWrap=o),this.removeBase(n),s},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var n=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:n.flexBasis!=="auto"?n.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(n,r){var o=this.propsSize&&this.propsSize[r];return this.state[r]==="auto"&&this.state.original[r]===n&&(typeof o>"u"||o==="auto")?"auto":n},t.prototype.calculateNewMaxFromBoundary=function(n,r){var o=this.props.boundsByDirection,s=this.state.direction,i=o&&is("left",s),a=o&&is("top",s),c,u;if(this.props.bounds==="parent"){var d=this.parentNode;d&&(c=i?this.resizableRight-this.parentLeft:d.offsetWidth+(this.parentLeft-this.resizableLeft),u=a?this.resizableBottom-this.parentTop:d.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(c=i?this.resizableRight:this.window.innerWidth-this.resizableLeft,u=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(c=i?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),u=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return c&&Number.isFinite(c)&&(n=n&&n<c?n:c),u&&Number.isFinite(u)&&(r=r&&r<u?r:u),{maxWidth:n,maxHeight:r}},t.prototype.calculateNewSizeFromDirection=function(n,r){var o=this.props.scale||1,s=Nk(this.props.resizeRatio||1),i=s[0],a=s[1],c=this.state,u=c.direction,d=c.original,p=this.props,h=p.lockAspectRatio,g=p.lockAspectRatioExtraHeight,v=p.lockAspectRatioExtraWidth,b=d.width,y=d.height,m=g||0,x=v||0;return is("right",u)&&(b=d.width+(n-d.x)*i/o,h&&(y=(b-x)/this.ratio+m)),is("left",u)&&(b=d.width-(n-d.x)*i/o,h&&(y=(b-x)/this.ratio+m)),is("bottom",u)&&(y=d.height+(r-d.y)*a/o,h&&(b=(y-m)*this.ratio+x)),is("top",u)&&(y=d.height-(r-d.y)*a/o,h&&(b=(y-m)*this.ratio+x)),{newWidth:b,newHeight:y}},t.prototype.calculateNewSizeFromAspectRatio=function(n,r,o,s){var i=this.props,a=i.lockAspectRatio,c=i.lockAspectRatioExtraHeight,u=i.lockAspectRatioExtraWidth,d=typeof s.width>"u"?10:s.width,p=typeof o.width>"u"||o.width<0?n:o.width,h=typeof s.height>"u"?10:s.height,g=typeof o.height>"u"||o.height<0?r:o.height,v=c||0,b=u||0;if(a){var y=(h-v)*this.ratio+b,m=(g-v)*this.ratio+b,x=(d-b)/this.ratio+v,w=(p-b)/this.ratio+v,S=Math.max(d,y),C=Math.min(p,m),j=Math.max(h,x),E=Math.min(g,w);n=$l(n,S,C),r=$l(r,j,E)}else n=$l(n,d,p),r=$l(r,h,g);return{newWidth:n,newHeight:r}},t.prototype.setBoundingClientRect=function(){var n=1/(this.props.scale||1);if(this.props.bounds==="parent"){var r=this.parentNode;if(r){var o=r.getBoundingClientRect();this.parentLeft=o.left*n,this.parentTop=o.top*n}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*n,this.targetTop=s.top*n}if(this.resizable){var i=this.resizable.getBoundingClientRect(),a=i.left,c=i.top,u=i.right,d=i.bottom;this.resizableLeft=a*n,this.resizableRight=u*n,this.resizableTop=c*n,this.resizableBottom=d*n}},t.prototype.onResizeStart=function(n,r){if(!(!this.resizable||!this.window)){var o=0,s=0;if(n.nativeEvent&&kk(n.nativeEvent)?(o=n.nativeEvent.clientX,s=n.nativeEvent.clientY):n.nativeEvent&&Dl(n.nativeEvent)&&(o=n.nativeEvent.touches[0].clientX,s=n.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var i=this.props.onResizeStart(n,r,this.resizable);if(i===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,c=this.window.getComputedStyle(this.resizable);if(c.flexBasis!=="auto"){var u=this.parentNode;if(u){var d=this.window.getComputedStyle(u).flexDirection;this.flexDir=d.startsWith("row")?"row":"column",a=c.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var p={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Kn(Kn({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(n.target).cursor||"auto"}),direction:r,flexBasis:a};this.setState(p)}},t.prototype.onMouseMove=function(n){var r=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&Dl(n))try{n.preventDefault(),n.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,i=o.maxHeight,a=o.minWidth,c=o.minHeight,u=Dl(n)?n.touches[0].clientX:n.clientX,d=Dl(n)?n.touches[0].clientY:n.clientY,p=this.state,h=p.direction,g=p.original,v=p.width,b=p.height,y=this.getParentSize(),m=Lk(y,this.window.innerWidth,this.window.innerHeight,s,i,a,c);s=m.maxWidth,i=m.maxHeight,a=m.minWidth,c=m.minHeight;var x=this.calculateNewSizeFromDirection(u,d),w=x.newHeight,S=x.newWidth,C=this.calculateNewMaxFromBoundary(s,i);this.props.snap&&this.props.snap.x&&(S=nb(S,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(w=nb(w,this.props.snap.y,this.props.snapGap));var j=this.calculateNewSizeFromAspectRatio(S,w,{width:C.maxWidth,height:C.maxHeight},{width:a,height:c});if(S=j.newWidth,w=j.newHeight,this.props.grid){var E=tb(S,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),O=tb(w,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),A=this.props.snapGap||0,_=A===0||Math.abs(E-S)<=A?E:S,T=A===0||Math.abs(O-w)<=A?O:w;S=_,w=T}var N={width:S-g.width,height:w-g.height};if(v&&typeof v=="string"){if(v.endsWith("%")){var B=S/y.width*100;S=B+"%"}else if(v.endsWith("vw")){var $=S/this.window.innerWidth*100;S=$+"vw"}else if(v.endsWith("vh")){var M=S/this.window.innerHeight*100;S=M+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var B=w/y.height*100;w=B+"%"}else if(b.endsWith("vw")){var $=w/this.window.innerWidth*100;w=$+"vw"}else if(b.endsWith("vh")){var M=w/this.window.innerHeight*100;w=M+"vh"}}var L={width:this.createSizeForCssProperty(S,"width"),height:this.createSizeForCssProperty(w,"height")};this.flexDir==="row"?L.flexBasis=L.width:this.flexDir==="column"&&(L.flexBasis=L.height);var F=this.state.width!==L.width,R=this.state.height!==L.height,I=this.state.flexBasis!==L.flexBasis,z=F||R||I;z&&Pt.flushSync(function(){r.setState(L)}),this.props.onResize&&z&&this.props.onResize(n,h,this.resizable,N)}},t.prototype.onMouseUp=function(n){var r,o,s=this.state,i=s.isResizing,a=s.direction,c=s.original;if(!(!i||!this.resizable)){var u={width:this.size.width-c.width,height:this.size.height-c.height};this.props.onResizeStop&&this.props.onResizeStop(n,a,this.resizable,u),this.props.size&&this.setState({width:(r=this.props.size.width)!==null&&r!==void 0?r:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Kn(Kn({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(n){var r,o;this.setState({width:(r=n.width)!==null&&r!==void 0?r:"auto",height:(o=n.height)!==null&&o!==void 0?o:"auto"})},t.prototype.renderResizer=function(n){var r=this,o=this.props,s=o.enable,i=o.handleStyles,a=o.handleClasses,c=o.handleWrapperStyle,u=o.handleWrapperClass,d=o.handleComponent;if(!s)return null;var p=n.filter(function(h){return s[h]!==!1}).map(function(h){return s[h]!==!1?ke.createElement(Tk,{key:h,direction:h,onResizeStart:r.onResizeStart,replaceStyles:i&&i[h],className:a&&a[h]},d&&d[h]?d[h]:null):null});return ke.createElement("div",{className:u,style:c},p)},t.prototype.render=function(){var n=this,r=Object.keys(this.props).reduce(function(i,a){return $k.indexOf(a)!==-1||(i[a]=n.props[a]),i},{}),o=Kn(Kn(Kn({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return ke.createElement(s,Kn({style:o,className:this.props.className},r,{ref:function(i){i&&(n.resizable=i)}}),this.state.isResizing&&ke.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(ke.PureComponent);function Vl({className:e,children:t,top:n,bottom:r,right:o,left:s,width:i,height:a,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:h,onResize:g,onResizeStop:v}){const b={top:n||!1,right:o||!1,bottom:r||!1,left:s||!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},y={width:i||"auto",height:a||"auto"},m=P("z-10",V.hBgAct),x={bottom:m,right:m,left:m},w={bottom:{bottom:0,height:2},right:{right:-1,width:2},left:{left:-1,width:2}};return l.jsx(Dk,{className:e,enable:b,defaultSize:y,handleStyles:w,handleClasses:x,onResize:g,onResizeStop:v,minHeight:c,minWidth:u,maxHeight:d,maxWidth:p,style:h,children:t})}const Ei="gs-studio-panel",ob=(e,t={})=>({...t,...e===!0?{}:e||void 0}),qn=f.memo(function({children:t,header:n,resizable:r,className:o,classNameAccordion:s,classNameAccordionContent:i,...a}){const c=l.jsx(yo,{className:re(Ei,o),...a,children:t}),u=r?r===!0?{top:!0,right:!0,bottom:!0,left:!0}:r:void 0,d=u?l.jsx(Vl,{className:re([`${Ei}__resizer`]),...u,children:c}):c,p=n===!0?{collapsible:!0}:n||void 0;return p?l.jsx(Uo,{classNameWrap:re(`${Ei}__accordion`,s),className:re(`${Ei}__accordion-header`,_e.xy,p.className),classNameContent:re(`${Ei}__accordion-content`,i),disabled:p.collapsible===!1,style:p.style,handler:l.jsxs(D,{space:"s",items:"center",children:[!!p.icon&&l.jsx(Z,{icon:p.icon,size:ie.s}),l.jsx(k,{grow:!0,children:p.label})]}),open:n?p.collapsed!==!0:!0,children:d}):d}),Ik="gs-panel-layers",sb=f.memo(le(function({className:t,...n}){const r=ve().sdkProps.children;return l.jsx(qn,{className:re(Ik,"gs-utl-overflow-auto",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-auto"),...n,children:l.jsx(zu,{children:o=>l.jsxs(l.Fragment,{children:[Tt(r,pf),l.jsx(Jv,{...o,header:!1}),Tt(r,ff)]})})})})),gf="gs-page-item",Vk={position:{x:"right",y:"top-bottom"},offset:{y:0}},Hk=le(function({page:t,rename:n,setRename:r,commandItems:o}){const s=ve(),i=Te(),a=s.editor,{Pages:c}=a,{sdkPagesConfig:u}=s,d=u==null?void 0:u.settings,p=w=>i.t(`pageManager.${w}`),h=w=>c.select(w),g=w=>c.getSelected()===w,v=w=>w===n,b=w=>w.getName()||w.getId(),y=w=>{n==null||n.set({name:w}),r(void 0)},m=H("group-hover:gs-utl-opacity-100 opacity-0 cursor-pointer transition-opacity"),x=()=>a.runCommand(he.setPageSettings,{page:t,isOpen:!0});return l.jsxs(D,{space:"s",items:"center",onClick:()=>h(t),className:H([gf,"group cursor-default",_e.xy,g(t)&&V.bgH,!g(t)&&V.hBgH2]),children:[l.jsx(k,{className:H(`${gf}__name truncate`),grow:!0,children:v(t)?l.jsx(nf,{value:b(t),onChange:y}):l.jsx(l.Fragment,{children:b(t)})}),l.jsxs(D,{className:`${gf}__actions`,space:"xs",onClick:Lo,items:"center",children:[!n&&d!==!1&&l.jsx(Ct,{className:m,size:"xs",border:!1,title:p("settings.label"),onClick:x,block:!0,children:l.jsx(Z,{icon:Y.cog,size:ie.s3x})}),g(t)&&!!o.length&&l.jsx(ur,{pos:Vk,handler:l.jsx(Z,{icon:Y.dotsVertical,size:ie.s}),title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:w})=>o.map(S=>l.jsx(Cl,{label:xt(S.label)?S.label({editor:a}):S.label,action:()=>{var C;w(),(C=S.cmd)==null||C.call(S,{page:t,editor:a})}},S.id))})]})]},t.getId())}),Bk=({items:e,editor:t,sdkPageConfig:n})=>{const r=n==null?void 0:n.commandItems;return r===!1?[]:xt(r)?r({items:e,editor:t}):r||e},mf="gs-panel-page-manager",ib=le(function({pages:t,select:n,add:r,remove:o,header:s,resizable:i={bottom:!0},height:a=200}){const c=ve(),u=Sn(),d=Te(),{sdkPagesConfig:p}=c,h=c.editor,[g,v]=f.useState(),b=N=>d.t(`pageManager.${N}`),y=p==null?void 0:p.add,m=p==null?void 0:p.duplicate,x=p==null?void 0:p.remove,w=N=>{if(Lo(N),y)return y({editor:h,rename:v});const B=t.length+1,$=r({name:`${b("page")} ${B}`,component:`<div>${b("newPage")} ${B}</div>`},{select:!0});$&&v($)},S=({page:N})=>{if(x)return x({editor:h,page:N});u.confirm({title:b("deletePage"),content:b("confirmDelete"),confirmButton:{variant:"danger",children:b("deletePage")},onConfirm:()=>{const B=t.indexOf(N),$=t[B+1]||t[0];n($),o(N)}})},C=({page:N})=>{if(m)return m({editor:h,page:N,rename:v});const B=N.getMainComponent(),$=r({name:`${N.getName()} (${b("copy")})`,component:B.clone()},{select:!0});$&&v($)},j=[{id:"rename",label:b("rename"),cmd:({page:N})=>v(N)},m!==!1&&{id:"duplicate",label:b("duplicate"),cmd:C},t.length>1&&x!==!1&&{id:"remove",label:b("delete"),cmd:S}].filter(Boolean),E=Bk({items:j,editor:h,sdkPageConfig:p}),O=ob(s,{collapsible:!0,label:b("pages"),icon:Y.textBoxMultiple}),A=i?i===!0?{top:!0,right:!0,bottom:!0,left:!0}:i:void 0,_=t.map(N=>l.jsx(Hk,{page:N,commandItems:E,rename:g,setRename:v},N.getId())),T=A?l.jsx(Vl,{className:P([`${mf}__content`,"text-sm overflow-auto",J.bt,V.br]),height:a,...A,children:_}):_;return l.jsx(Uo,{classNameWrap:mf,className:P(`${mf}__header`,_e.xy,s===!1&&"gs-utl-hidden"),disabled:O&&O.collapsible===!1,handler:l.jsxs(D,{space:"s",items:"center",children:[!!O.icon&&l.jsx(k,{children:l.jsx(Z,{icon:O.icon,size:ie.s})}),l.jsx(k,{grow:!0,children:O.label}),y!==!1&&l.jsx(lt,{title:b("add"),children:l.jsx(D,{onClick:w,className:P("cursor-pointer"),children:l.jsx(Z,{icon:Y.plus,size:ie.s})})})]}),open:O?O.collapsed!==!0:!0,children:T})}),vf=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-page-manager-after"),n),ref:o,...r,children:t})}),bf=f.forwardRef(function({children:t,className:n,...r},o){return l.jsx("div",{className:re(H("gs-page-manager-before"),n),ref:o,...r,children:t})}),zk="gs-panel-pages",ab=f.memo(le(function({className:t,header:n,height:r,resizable:o,...s}){const i=ve().sdkProps.children;return l.jsx(yo,{className:re(zk,t),...s,children:l.jsx(Fu,{children:a=>l.jsxs(l.Fragment,{children:[Tt(i,bf),l.jsx(ib,{header:n,height:r,resizable:o,...a}),Tt(i,vf)]})})})}));function Fk({devices:e,selected:t,className:n,style:r,select:o}){const s=e.map(i=>({id:i.id,label:i.getName()}));return s.length?l.jsx(Ee,{size:"xs",className:n,style:r,value:t,options:s,onChange:o}):null}const Rk="gs-devices",lb=f.memo(function({className:t,style:n}){return l.jsx(XO,{children:r=>l.jsx(Fk,{className:re(Rk,t),style:n,...r})})}),Uk=f.memo(function({className:t,variant:n,value:r,tabs:o}){const[s,i]=f.useState(()=>({value:r,variant:n})),a=u=>{i(d=>({...d,value:u}))},c=f.useMemo(()=>o.map(u=>({...u,content:vr(u.children)})),[o]);return l.jsx(bo,{tabs:c,className:re(t),value:s.value,onChange:a})}),cb=f.forwardRef(function({size:t="m",className:n,border:r=!0,children:o,...s},i){const a=H(V.bg,V.br,r&&`${J.b} ${J.rnd}`,t==="m"&&_e.xy,t==="s"&&"gjs-px-3 gjs-py-1",n);return l.jsx(D,{className:a,items:"center",space:"x2s",...s,ref:i,children:l.jsx(k,{grow:!0,children:o})})});function ub({className:e,options:t,value:n,name:r,label:o,border:s,hideCaret:i,size:a="s",autoFocus:c,open:u,allowNew:d,onChange:p,onBlur:h,placeholder:g}){const[v,b]=f.useState(null),[y,m]=f.useState(null),{styles:x,attributes:w}=Ha(v,y,pd),[S,C]=f.useState(""),j=rd(),E=S===""?t:t.filter($=>$.label.toLowerCase().includes(S.toLowerCase())),O=$=>C($.target.value),A=$=>$==null?void 0:$.label,_=d&&S.length>0&&!E.some($=>$.label===S),T=xt(d)?d(S):d,N={minWidth:`${v==null?void 0:v.offsetWidth}px`,maxHeight:200},B=()=>h==null?void 0:h();return l.jsxs("div",{className:P("w-full",e),children:[!!o&&l.jsx(vt,{size:a,children:o}),l.jsxs(Ho,{value:n,onChange:p,name:r,nullable:!0,children:[l.jsx(cb,{size:a,ref:b,border:s,children:l.jsxs(D,{nowrap:!0,children:[l.jsx(Ho.Input,{autoFocus:c,className:j,displayValue:A,onChange:O,onBlur:B,placeholder:g}),!i&&l.jsx(Ho.Button,{children:l.jsx(Z,{icon:Y.chevronDown,size:ie.sx})})]})}),l.jsx(Ho.Options,{static:u,className:Um,ref:m,style:x.popper,...w.popper,children:l.jsxs(Ut,{className:P("h-full"),padding:!1,style:N,children:[_&&l.jsx(Ho.Option,{value:{id:null,label:S},children:({active:$})=>l.jsx(Wm,{option:{id:null,label:T},active:$,selected:n})}),!_&&E.length===0&&l.jsx("div",{className:P(_e.xy),children:"No items found"}),E.map($=>l.jsx(Ho.Option,{value:$,children:({active:M})=>l.jsx(Wm,{option:$,active:M,selected:n})},$.id))]})})]})]})}function yf(e){return e=e.replace(/\s*([\{\}\:\;\,])\s*/g,"$1"),e=e.replace(/;\s*;/g,";"),e=e.replace(/\,[\s\.\#\d]*{/g,"{"),e=e.replace(/([^\s])\{([^\s])/g,`$1 {
	$2`),e=e.replace(/([^\s])\}([^\n]*)/g,`$1
}
$2`),e=e.replace(/([^\s]);([^\s\}])/g,`$1;
	$2`),e}const db=le(function(){const t=ct(),n=Te(),{Styles:r}=t,{isDarkTheme:o}=Wt(),s=r.getSelected(),[i,a]=f.useState(0),c=s?yf(s==null?void 0:s.toCSS({allowEmpty:!0})):"",[u,d]=f.useState(c);f.useEffect(()=>{const h=()=>a(v=>++v),g=r.events.custom;return t.on(g,h),()=>{t.off(g,h)}},[r,t]);const p=()=>{if(u){const h=t.Parser.parseCss(u)[0];h&&(s==null||s.setStyle(h.style))}};return l.jsxs(D,{className:P("relative"),col:!0,full:!0,children:[l.jsx(k,{grow:!0,children:s?l.jsx(Mr,{padding:5,language:"css",value:c,onChange:d,isDarkTheme:o,clean:!0},i):n.t("noCode")}),l.jsx(ze,{className:P("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:p,children:n.t("update")})]})}),Wk=async({html:e="",css:t="",el:n})=>{const r=`<span style="color: initial; display: inline-block;"><style> body { margin: 0; } ${t}</style>${e}</span>`,o={};if(document.body.attachShadow){const s=n.shadowRoot||n.attachShadow({mode:"open"});s.innerHTML=r}return o},Gk=le(function({rule:t,onSelect:n,onRemove:r,className:o}){const s=f.useRef(null),a=ve().editor,c=Te(),u=t.getDevice(),d=t.getState(),{isDarkTheme:p}=Wt(),[h,g]=f.useState(t.toCSS({allowEmpty:!0})),[v,b]=f.useState(h),y=t.selectorsToString(),m=()=>{a.select(),setTimeout(()=>a.Selectors.select(t)),n==null||n()},x=()=>{a.Css.remove(t),r==null||r()},w=()=>{if(v){const S=a.Parser.parseCss(v)[0];S&&(t.setStyle(S.style),g(v))}};return f.useEffect(()=>{if(s.current){const S=s.current;Wk({el:S,html:'<div class="prv-rule">Preview</div>',css:`
        .prv-rule {
          background-color: #fff;
          padding: 5px;
        }
        .prv-rule, ${h}
        `})}},[s,h]),l.jsx(Ut,{padding:!1,className:H("overflow-hidden max-w-full group",o),children:l.jsxs(D,{col:!0,space:"xs",children:[l.jsx(D,{className:H("bg-checker gjs-p-3 overflow-auto overflow-x-hidden h-20"),justify:"center",items:"center",children:l.jsx("div",{ref:s,className:H("relative flex items-center justify-center")})}),l.jsxs(D,{className:H("gjs-p-1 w-full"),col:!0,space:"s",children:[l.jsxs(D,{nowrap:!0,items:"center",space:"xs",full:!0,children:[l.jsx(k,{grow:!0,children:l.jsx("pre",{className:H("text-xs bg-white/10",V.txt,J.rnd,_e.xyS),children:y})}),!!u&&u.getWidthMedia()&&l.jsx(k,{children:l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[c.t("deviceManager.device"),": ",l.jsx("b",{children:u.getName()})]}),children:l.jsx(Z,{icon:Y.cellphoneLink,size:ie.sx})})}),!!d&&l.jsx(k,{children:l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[c.t("selectorManager.state"),": ",l.jsx("b",{children:d.getLabel()})]}),children:l.jsx(Z,{icon:Y.flare,size:ie.sx})})})]}),l.jsxs(D,{nowrap:!0,className:H(We.txtEllips),space:"s",children:[l.jsx(k,{className:H("group-hover:gs-utl-opacity-100 opacity-0 transition-opacity"),grow:!0,children:l.jsx(ze,{onClick:m,className:H("text-sm gjs-mr-auto"),size:"m2",full:!0,children:c.t("select")})}),l.jsx(ur,{overlay:!0,title:!1,padding:!1,buttonAs:"span",handler:l.jsx(Ct,{title:c.t("selectorManager.showCSS"),children:l.jsx(Z,{icon:Y.codeBraces,size:ie.sx})}),children:({close:S})=>l.jsxs(D,{className:H("relative w-80 h-48"),col:!0,children:[l.jsx(k,{grow:!0,children:l.jsx(Mr,{value:yf(h),onChange:b,language:"css",padding:5,isDarkTheme:p,clean:!0})}),l.jsx(ze,{className:H("absolute right-2 bottom-2 text-sm"),variant:"pr",size:"m2",onClick:()=>{w(),S()},children:c.t("update")})]})}),l.jsx(Qd,{onConfirm:x,className:H("w-48"),children:l.jsx(Ct,{title:c.t("selectorManager.deleteStyle"),children:l.jsx(Z,{icon:Y.delete,size:ie.sx})})})]})]})]},t.cid)})}),Kk=le(function(){const[t]=jl(),n=Sn(),r=Te(),[o,s]=f.useState(""),[i,a]=f.useState(""),u=ve().editor,[d,p]=f.useState(u.Css.getRules("")),h=u.Devices.getDevices().map(b=>({id:b.id,label:b.getName()})),g=d.filter(b=>{var y;return!(o&&!No(b.selectorsToString(),o)||i&&((y=b.getDevice())==null?void 0:y.id)!==i)}),v=()=>p(u.Css.getRules(""));return l.jsxs(D,{col:!0,space:"m",children:[l.jsxs(D,{items:"center",space:"m",children:[l.jsx(k,{children:l.jsx(rt,{size:"s",type:"search",value:o,onInput:s,placeholder:`${r.t("selectorManager.searchStyle")}...`})}),l.jsx(k,{children:l.jsx(Ee,{includeEmpty:!0,size:"s",value:i,options:h,onChange:a,emptyState:r.t("deviceManager.allDevices"),handlerSelected:b=>l.jsxs(D,{space:"s",items:"center",children:[l.jsx(Z,{icon:Y.cellphoneLink,size:ie.sx}),l.jsx("span",{children:b.label})]})})})]}),l.jsx(k,{className:H("gs-utl-h-[75vh] w-full overflow-auto"),children:g.length?l.jsx(xl,{data:g,listClassName:H("grid grid-cols-4 gap-2 gjs-pr-2"),itemContent:(b,y)=>l.jsx(Gk,{rule:y,onRemove:v,onSelect:n.close},y.cid)},t):l.jsx(D,{justify:"center",children:r.t("modals.styleCatalog.noStyles")})})]})}),qk=le(function({selector:t,className:n,removable:r,toggleable:o}){const s=Te(),i=ve(),[a,c]=f.useState(),[u,d]=f.useState(t.getActive()),p=i.editor,{Selectors:h}=p,g=t.getLabel(),v=l.jsx(Z,{icon:Y.dotsVertical,size:ie.sx}),b=()=>{h.removeSelected(t)},y=j=>{a&&h.rename(a,j),c(void 0)},m=()=>{h.duplicateSelected(t)},x=()=>{const j=!t.getActive();d(j),t.setActive(j)},S=[{id:"rename",label:s.t("rename"),action:()=>c(t)},{id:"duplicate",label:s.t("duplicate"),action:m},r&&{id:"delete",label:s.t("delete"),action:b},o&&{id:"active",label:s.t(u?"disable":"enable"),action:x}].filter(Boolean),C=(j,E)=>O=>{j(),xt(E)&&E(O)};return l.jsx(ut,{className:H(["gjs-ml-1 gjs-my-1 group overflow-hidden cursor-default relative",V.sel,n]),s:"s",children:l.jsxs(D,{items:"center",children:[l.jsx(k,{className:H("gjs-mr-4",!a&&!u&&"opacity-50 line-through"),children:l.jsx(Mv,{value:g,onChange:y,active:!!a,unstyled:!0})}),l.jsx(D,{className:H("absolute h-full right-0 transition-opacity",V.sel,V.selBr,J.bl),children:l.jsx(ur,{handler:v,title:!1,padding:!1,fixed:!0,overlay:!0,children:({close:j})=>S.map(E=>l.jsx(Cl,{className:H(V.txt),label:E.label,action:C(j,E.action)},E.id))})})]})})}),Yk=e=>{var r,o;let t=(r=e==null?void 0:e.selectorsToString)==null?void 0:r.call(e);const n=(o=e==null?void 0:e.getAtRule)==null?void 0:o.call(e);return t&&n&&(t=`${n} {
	${t}
}`),t},fb=le(function({selectedState:t,states:n,addSelector:r,setState:o,styleCatalog:s,stateSelector:i}){var X,Q,ce;const a=ct(),c=Te(),u=Sn(),{toggleCssPanel:d,isCssPanelActive:p}=ve(),{Selectors:h,Styles:g}=a,[v,b]=f.useState(!1),y=h.getComponentFirst(),m=h.getSelectedAll(),x=h.getAll({array:!0}),w=a.getSelectedAll(),S=n.map(te=>({id:te.getName(),label:te.getLabel()})),C=a.getModel(),j=g.getSelected(),E=(X=j==null?void 0:j.getDevice)==null?void 0:X.call(j),O=(Q=j==null?void 0:j.getState)==null?void 0:Q.call(j),A=m.reduce((te,G)=>{const W=te.indexOf(G);return W>=0&&te.splice(W,1),te},x),_=P("overflow-hidden gjs-mb-2",J.b,J.rnd,V.br),T=P(V.bA),N=P("flex h-full cursor-pointer gjs-p-2",J.br,V.br),B=`${V.bgA}`,$=Yk(j),M=m.length>0,L=w.length>0,F=M||L,R=y&&L||!y&&!M,I=R?"Components":"Selectors",z=te=>c.t(`selectorManager.${te}`),U=c.t("modals.styleCatalog.title"),K=()=>u.open({title:U,content:l.jsx(Kk,{})}),ee=A.filter(te=>te.isClass()).map(te=>({id:te,label:te.getLabel()}));return l.jsxs(l.Fragment,{children:[l.jsxs(D,{items:"center",className:P("gjs-mb-2"),children:[l.jsx(k,{grow:!0,children:l.jsxs(D,{items:"center",space:"s",children:[l.jsx(k,{children:z("selection")}),s!==!1&&l.jsx(k,{children:l.jsx(lt,{className:P("cursor-pointer"),onClick:K,title:U,children:l.jsx(Z,{icon:Y.paletteSwatch,size:ie.s})})})]})}),!!j&&i!==!1&&l.jsx(k,{children:l.jsx(Ee,{size:"s",value:t,options:S,includeEmpty:!0,onChange:o,emptyState:`- ${z("state")} -`,className:P([t&&V.bA])})})]}),F?l.jsxs(l.Fragment,{children:[l.jsxs(D,{items:"stretch",space:"xs",className:P(_,!R&&T),children:[l.jsx(lt,{title:z(M?"applyOnSelector":"noSelectors"),className:P(N,!R&&B),onClick:()=>M&&h.setComponentFirst(!1),children:l.jsx(D,{className:P("h-full"),items:"center",children:l.jsx(Z,{icon:Y.tag,size:ie.sx})})}),l.jsx(k,{grow:!0,children:l.jsx(D,{className:P("h-full gjs-pr-1"),items:"center",children:v?l.jsx(ub,{autoFocus:!0,open:!0,hideCaret:!0,border:!1,options:ee,allowNew:z("addNewSelector"),onBlur:()=>setTimeout(()=>b(!1),100),onChange:te=>{te&&(r(te.id||te.label),b(!1))}}):l.jsxs(l.Fragment,{children:[L&&l.jsx(lt,{title:z("addNewSelector"),children:l.jsx(ze,{variant:"out",size:"s",onClick:()=>b(!0),children:l.jsx(Z,{icon:Y.plus,size:ie.s})})}),m.map(te=>l.jsx(qk,{selector:te,removable:L,toggleable:L&&m.filter(G=>G.getActive()||G===te).length>1},te.toString()))]})})})]}),l.jsxs(D,{items:"stretch",space:"xs",className:P(_,R&&T),children:[l.jsx(lt,{title:z(L?"applyOnComponents":"noComponents"),onClick:()=>L&&h.setComponentFirst(!0),className:P(N,R&&B),children:l.jsx(D,{className:P("h-full"),items:"center",children:l.jsx(Z,{icon:Y.targetVariant,size:ie.sx})})}),l.jsx(k,{grow:!0,className:P("gjs-py-0.5"),children:l.jsx(D,{className:P("h-full gjs-pr-1"),items:"center",children:w.map(te=>l.jsx(ut,{s:"s",className:P(["gjs-ml-1 gjs-my-0.5 cursor-default",V.cmp]),onPointerEnter:()=>C.setHovered(te),onPointerOut:()=>C.setHovered(),label:te.getName()},te.getId()))})})]}),l.jsxs(D,{space:"s",items:"center",justify:"between",children:[l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[l.jsx("div",{children:z("selected")}),l.jsx("pre",{className:P("text-xs gjs-mt-1 bg-white/10",V.txt,J.rnd,_e.xyS),children:$}),l.jsx("div",{className:P("text-xs gjs-mt-1.5"),children:z("currentSelection")})]}),children:l.jsx(ut,{className:P(J.b,J.rnd,V.br),s:"xs",nopad:!0,children:l.jsx(Z,{icon:Y.target,size:ie.sx})})}),l.jsx(k,{className:P("text-sm"),children:l.jsx(ut,{className:P(J.b,J.rnd,V.br),s:"xs",nopad:!0,children:l.jsxs(D,{space:"xs",items:"center",nowrap:!0,children:[!!E&&E.getWidthMedia()&&l.jsxs(l.Fragment,{children:[l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[z("device"),": ",l.jsx("b",{children:E.getName()})]}),children:l.jsx(Z,{icon:Y.cellphoneLink,size:ie.sx})}),l.jsx(k,{className:P("opacity-30"),children:"|"})]}),l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[z("target"),": ",l.jsx("b",{children:I}),l.jsxs("span",{className:P("text-xs opacity-75"),children:[" ",(ce=j==null?void 0:j.selectorsToString)==null?void 0:ce.call(j,{skipState:1})]})]}),children:l.jsx(Z,{icon:R?Y.targetVariant:Y.tag,size:ie.sx})}),!!O&&l.jsxs(l.Fragment,{children:[l.jsx(k,{className:P("opacity-30"),children:"|"}),l.jsx(lt,{title:l.jsxs(l.Fragment,{children:[z("state"),": ",l.jsx("b",{children:O.getLabel()})]}),children:l.jsx(Z,{icon:Y.flare,size:ie.sx})})]})]})})}),l.jsx(Ct,{title:c.t("toggleCss"),onClick:d,active:p,size:"s",children:l.jsx(Z,{icon:Y.codeBraces,size:ie.sx})})]})]}):l.jsxs(D,{className:P("text-sm leading-6 gjs-my-5"),col:!0,children:[l.jsx(k,{children:z("noSelecton")}),l.jsxs("ul",{className:P("list-disc gjs-pl-5 gjs-mt-2"),children:[l.jsx("li",{children:z("selectFromCanvas")}),l.jsx("li",{children:z("selectFromList")})]})]})]})}),Xk="gs-panel-selectors",Zk=f.memo(le(function({className:t,styleCatalog:n,stateSelector:r,...o}){return l.jsx(qn,{className:re(Xk,t),...o,children:l.jsx(Ru,{children:s=>l.jsx(fb,{...s,styleCatalog:n,stateSelector:r})})})})),Jk="gs-panel-styles",Qk=f.memo(le(function({className:t,...n}){const{isCssPanelActive:r}=ve(),o=re(r&&" gs-utl-hidden");return l.jsx(qn,{className:re(Jk,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-auto"),...n,children:l.jsx(Qg,{children:s=>l.jsxs(l.Fragment,{children:[r&&l.jsx(db,{}),l.jsx(O1,{className:o,...s})]})})})})),eL="page://",pb="#",Hl="mailto:",xf="subject=",wf="tel:",hb=e=>e.startsWith(wf)?"phone":e.startsWith(Hl)?"email":e.startsWith(eL)?"pages":e.startsWith(pb)?"elements":"url",gb=e=>`${e.getName()} - #${e.getId()}`,tL=le(function({trait:t}){const n=t.getValue(),r=ve(),{isSelectingTarget:o}=r,[,s]=f.useState(0),[i,a]=f.useState(()=>hb(n)),[c,u]=f.useState(""),[d,p]=f.useState(""),[h,g]=f.useState(""),[v,b]=f.useState(!0),[y,m]=f.useState([]),x=ct(),w=Te(),S=x.Pages.getAll(),C=w.tScoped("traitManager.traits.labels"),j=()=>s(L=>++L),E=L=>{t.setValue(L)},O=L=>{a(L),u(""),p(""),g(""),E("")},A=L=>{E(L),j()},_=L=>{L&&(E(L.id),j())},T=L=>{E(`${wf}${L}`),g(L)},N=L=>{E(`${Hl}${L}${d?`?${xf}${d}`:""}`),u(L)},B=L=>{E(`${Hl}${c}${L?`?${xf}${L}`:""}`),p(L)},$=()=>{r.setSelectingTarget(!o)},M=L=>{const F=L.replace(pb,""),R=x.Components.componentsById[F];return{id:L,label:R?gb(R):L}};return f.useEffect(()=>{var F;const L=[];if(v){const R=["path","br","b","u","i","strike"],I=(F=x.Pages.getSelected())==null?void 0:F.getMainComponent();I==null||I.forEachChild(z=>{!z.is("comment")&&!z.is("textnode")&&!R.includes(z.get("tagName"))&&L.push({id:`#${z.getId()}`,label:gb(z)})})}m(L)},[v]),f.useEffect(()=>{let L=()=>{};const F=()=>{L(),x.stopCommand(Pa)};return o&&(L=Pw(F),x.runCommand(Pa,{onSelect:R=>E(`#${R.getId()}`)})),F},[o]),f.useEffect(()=>{if(!n)return;const L=hb(n);switch(L){case"phone":g(n.replace(wf,""));break;case"email":{const[F,R=""]=n.replace(Hl,"").split("?");u(F),p(R.replace(xf,""));break}}a(L)},[n]),l.jsx(bo,{onChange:O,classNamePanel:P("gjs-p-1"),value:i,tabs:[{id:"url",label:l.jsx(Z,{icon:Y.link,size:ie.s}),content:l.jsx(rt,{placeholder:"eg. https://google.com",value:n,label:"URL",onChange:E,size:"s",type:"url"})},{id:"pages",label:l.jsx(Z,{icon:Y.textBoxMultiple,size:ie.s}),content:l.jsx(Ee,{size:"s",options:S.map(L=>({id:`page://${L.getId()}`,label:L.getName()})),value:n,onChange:A,label:"Page"})},{id:"elements",label:l.jsx(Z,{icon:Y.viewDayOutline,size:ie.s}),content:l.jsxs(D,{space:"s",col:!0,children:[l.jsx(vt,{size:"s",children:"Element ID"}),l.jsxs(D,{space:"xs",nowrap:!0,children:[v?l.jsx(ub,{options:y,onChange:_,value:M(n),placeholder:w.t("selectList")}):l.jsx(rt,{size:"s",placeholder:"eg. #my-element-in-page",value:n,onChange:E,className:P("flex-1")}),l.jsx(Ct,{title:w.t("selectTarget"),size:"m2",active:o,onClick:$,className:P("h-7"),children:l.jsx(Z,{icon:Y.target,size:ie.sx})})]}),l.jsx(el,{value:v,onChange:b,label:C("showList")})]})},{id:"email",label:l.jsx(Z,{icon:Y.email,size:ie.s}),content:l.jsxs(D,{space:"s",col:!0,children:[l.jsx(rt,{placeholder:"eg. mail@gmail.com",value:c,onChange:N,size:"s",label:"Email",type:"email"}),l.jsx(rt,{placeholder:"eg. My subject",value:d,onChange:B,label:"Subject",size:"s"})]})},{id:"phone",label:l.jsx(Z,{icon:Y.phone,size:ie.s}),content:l.jsx(rt,{size:"s",type:"tel",label:"Phone",placeholder:"eg. +55123456789",value:h,onChange:T})}]},i)});function nL({trait:e}){const[t,n]=f.useState(),r=e.get("properties"),o=e.get("addItem"),s=e.get("labelItem"),i=e.getValue(),a=i.findIndex(c=>c.id===(t==null?void 0:t.id));return l.jsx(hr,{items:i,selected:a>-1?t:null,add:()=>{const c=i.length+1,u=o?o(c):{id:`opt${c}`,label:`New option ${c}`};e.setValue([...i,u])},select:n,move:(c,u)=>{const d=e.getValue().filter(p=>p.id!==c.id);d.splice(u,0,c),e.setValue(d)},remove:c=>{const u=e.getValue().filter(d=>d.id!==c.id);e.setValue(u,{removed:c})},label:e.getLabel({locale:!0}),renderItem:c=>s?s(c):c.label,children:l.jsx(D,{space:"m",col:!0,children:!!t&&r.map(c=>{const{name:u,getValue:d}=c,p=c.setValue,h=c.label||u,g=i[a];if(!g)return null;const v=g[u],b=d?d(v):v,y=x=>{const w={...g};g[u]=p?p(x,b):x,e.setValue([...i],{item:g,previous:w}),u==="id"&&n(g)};let m=l.jsx(rt,{label:h,value:b,onChange:y});switch(c.type){case"select":m=l.jsx(Ee,{label:h,options:c.options,value:b,onChange:y})}return l.jsx(f.Fragment,{children:m},u)})})})}const rL=le(function({trait:t,editor:n}){const[,r]=f.useState(0),o=t.get("component"),s=t.target,i=!!(s&&o);return f.useEffect(()=>{if(s){const a=()=>r(c=>++c);return s.on("change",a),()=>{s.off("change",a)}}},[s]),i&&l.jsx(o,{trait:t,component:s,editor:n})}),Bl=e=>nr(e.replace(/-/g," ")),_i=(e,t)=>({type:e.getType(),size:"s",value:e.getValue(),label:Bl(e.getLabel()),placeholder:(t==null?void 0:t.t(`traitManager.traits.attributes.${e.getId()}.placeholder`))||e.get("placeholder")||"",onChange:(n,r)=>e.setValue(n,{partial:r})}),mb=e=>({..._i(e),options:e.getOptions().map(t=>Bt(t)?{id:t,label:t}:{id:t.id||t.value,title:t.title,label:t.labelReact||t.name||t.label||t.value}),onChange:t=>e.setValue(t)}),oL=e=>({..._i(e),units:e.get("units")}),sL=e=>({children:Bl(e.getLabel()||e.get("text")),onClick:()=>{const t=e.em.Editor,n=e.get("command");Bt(n)?t.runCommand(n):n==null||n(t,e)},full:!0}),iL=e=>({size:"s",value:!!e.getValue(),label:Bl(e.getLabel()),onChange:t=>e.setValue(t)}),aL=e=>({language:"css",...e.get("typeProps")||{},value:e.getValue(),label:Bl(e.getLabel()),onChange:n=>e.setValue(n)}),lL=(e,t)=>({..._i(e,t),isContain:!0,onOpen(){const n=t==null?void 0:t.Assets;n==null||n.open({select(r){e.setValue(r.getSrc()),n.close()}})}});function cL(e,t,n={}){var r;switch(e.getType()){case"select":return l.jsx(Ee,{...mb(e)});case"number":return l.jsx(je,{...oL(e)});case"checkbox":return l.jsx(el,{...iL(e)});case"color":return l.jsx(dr,{..._i(e)});case"button":return l.jsx(ze,{...sL(e)});case"radio":return l.jsx(At,{...mb(e)});case"code":return l.jsx(Mr,{...aL(e),...n},((r=t==null?void 0:t.getSelected())==null?void 0:r.getId())||"");case"image":case"file":return l.jsx(hi,{...lL(e,t)});case"stack":return l.jsx(nL,{trait:e});case"href":return l.jsx(tL,{trait:e});case"custom":return l.jsx(rL,{editor:t,trait:e});default:return l.jsx(rt,{..._i(e,t)})}}function Sf({traits:e,className:t}){const n=ct(),{isDarkTheme:r}=Wt();return l.jsx(D,{className:P("gs-trait-manager",t),col:!0,children:n.getSelected()?e.length?e.map(o=>l.jsx(k,{className:P("gjs-mb-2 w-full"),children:cL(o,n,{isDarkTheme:r})},o.getId())):l.jsx(k,{className:P("text-center"),children:"No properties available"}):l.jsx(k,{className:P("text-center"),children:n.t("traitManager.empty")})})}const uL="gs-panel-properties",dL=f.memo(le(function({className:t,...n}){return l.jsx(qn,{className:re(uL,"gs-utl-overflow-auto gs-utl-h-full",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-auto"),...n,children:l.jsx(Uu,{children:r=>l.jsx(Sf,{...r})})})})),vb=f.forwardRef(function({children:t,className:n,content:r,...o},s){return l.jsx("div",{className:re(H("gs-design-manager-tab"),n),ref:s,...o,children:t})}),jf=P("overflow-y-auto overflow-x-hidden max-w-full"),bb=le(function(){var w,S,C;const{isCssPanelActive:t,selectedDesignerTab:n,showSelectors:r,setSelectedDesignerTab:o,sdkProps:s,sdkOptions:i,isProjectTypeEmail:a}=ve(),c=Te(),u=P(t&&"hidden"),p=(((w=Tt(s.children,vb))==null?void 0:w.filter(Boolean))||[]).map(({props:j},E)=>({id:j.id,label:j.label,content:l.jsx(Lr,{children:j.children}),order:j.order??2+E+1})),h=(S=i.designPanel)==null?void 0:S.propsInStyles,g=(C=i.designPanel)==null?void 0:C.hideTabs,v=h===!0||a&&h!==!1,b=g===!0||a&&g!==!1,y=c.t("traitManager.panelLabel"),x=[{id:"style",label:c.t("styleManager.panelLabel"),order:1,content:l.jsxs(D,{col:!0,full:!0,children:[!!r&&l.jsx(k,{className:P(_e.xyS,J.bb,V.br),children:l.jsx(Ru,{children:j=>l.jsx(fb,{...j})})}),v&&l.jsx(k,{className:jf,children:l.jsx(Uo,{handler:y,className:_1(!1),sticky:!0,open:!0,children:l.jsx(Uu,{children:j=>l.jsx(Sf,{...j,className:P("gjs-p-2",V.br,J.bb)})})})}),l.jsx(k,{className:jf,grow:!0,children:l.jsx(Qg,{children:j=>l.jsxs(l.Fragment,{children:[t&&l.jsx(db,{}),l.jsx(O1,{className:u,...j})]})})})]})},!v&&{id:"props",label:y,order:2,content:l.jsx(D,{col:!0,full:!0,children:l.jsx(k,{className:P(_e.xyS,jf),children:l.jsx(Uu,{children:j=>l.jsx(Sf,{...j})})})})},...p].filter(Boolean).sort((j,E)=>j.order-E.order);return l.jsx(D,{col:!0,full:!0,nowrap:!0,children:l.jsx(bo,{value:n,onChange:o,tabs:x,className:P(b&&"hidden")})})}),fL="gs-panel-sidebar-tabs",pL=f.memo(le(function({className:t,...n}){return l.jsx(qn,{className:re(fL,"gs-utl-h-full",t),...n,children:l.jsx(bb,{})})})),hL="gs-panel-pages-layers",gL=f.memo(le(function({className:t,panelPagesProps:n,panelLayersProps:r,...o}){const{showPages:s}=ve(),i=Te(),{className:a,...c}=n||{},u=ob(r==null?void 0:r.header,{icon:Y.layers,collapsible:!1,label:i.t("layerManager.layers"),className:re(J.bb,V.br)});return l.jsxs(qn,{className:re(hL,"gs-utl-flex gs-utl-flex-col gs-utl-h-full",t),...o,children:[s&&l.jsx(ab,{className:re(a,J.bb,V.br),...c}),l.jsx(sb,{...r,header:u})]})})),Cf=(()=>{if(typeof self>"u")return!1;if("top"in self&&self!==top)try{top.window.document._=0}catch{return!1}return"showOpenFilePicker"in self})(),mL=Cf?Promise.resolve().then(function(){return SL}):Promise.resolve().then(function(){return PL});async function vL(...e){return(await mL).default(...e)}Cf?Promise.resolve().then(function(){return CL}):Promise.resolve().then(function(){return AL});const bL=Cf?Promise.resolve().then(function(){return _L}):Promise.resolve().then(function(){return kL});async function yL(...e){return(await bL).default(...e)}const xL=async e=>{const t=await e.getFile();return t.handle=e,t};var wL=async(e=[{}])=>{Array.isArray(e)||(e=[e]);const t=[];e.forEach((o,s)=>{t[s]={description:o.description||"Files",accept:{}},o.mimeTypes?o.mimeTypes.map(i=>{t[s].accept[i]=o.extensions||[]}):t[s].accept["*/*"]=o.extensions||[]});const n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(xL));return e[0].multiple?r:r[0]},SL={__proto__:null,default:wL};function zl(e){function t(n){if(Object(n)!==n)return Promise.reject(new TypeError(n+" is not an object."));var r=n.done;return Promise.resolve(n.value).then(function(o){return{value:o,done:r}})}return zl=function(n){this.s=n,this.n=n.next},zl.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(n){var r=this.s.return;return r===void 0?Promise.resolve({value:n,done:!0}):t(r.apply(this.s,arguments))},throw:function(n){var r=this.s.return;return r===void 0?Promise.reject(n):t(r.apply(this.s,arguments))}},new zl(e)}const yb=async(e,t,n=e.name,r)=>{const o=[],s=[];var i,a=!1,c=!1;try{for(var u,d=function(p){var h,g,v,b=2;for(typeof Symbol<"u"&&(g=Symbol.asyncIterator,v=Symbol.iterator);b--;){if(g&&(h=p[g])!=null)return h.call(p);if(v&&(h=p[v])!=null)return new zl(h.call(p));g="@@asyncIterator",v="@@iterator"}throw new TypeError("Object is not async iterable")}(e.values());a=!(u=await d.next()).done;a=!1){const p=u.value,h=`${n}/${p.name}`;p.kind==="file"?s.push(p.getFile().then(g=>(g.directoryHandle=e,g.handle=p,Object.defineProperty(g,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>h})))):p.kind!=="directory"||!t||r&&r(p)||o.push(yb(p,t,h,r))}}catch(p){c=!0,i=p}finally{try{a&&d.return!=null&&await d.return()}finally{if(c)throw i}}return[...(await Promise.all(o)).flat(),...await Promise.all(s)]};var jL=async(e={})=>{e.recursive=e.recursive||!1,e.mode=e.mode||"read";const t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn,mode:e.mode});return(await(await t.values()).next()).done?[t]:yb(t,e.recursive,void 0,e.skipDirectory)},CL={__proto__:null,default:jL},EL=async(e,t=[{}],n=null,r=!1,o=null)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";const s=[];let i=null;if(e instanceof Blob&&e.type?i=e.type:e.headers&&e.headers.get("content-type")&&(i=e.headers.get("content-type")),t.forEach((u,d)=>{s[d]={description:u.description||"Files",accept:{}},u.mimeTypes?(d===0&&i&&u.mimeTypes.push(i),u.mimeTypes.map(p=>{s[d].accept[p]=u.extensions||[]})):i?s[d].accept[i]=u.extensions||[]:s[d].accept["*/*"]=u.extensions||[]}),n)try{await n.getFile()}catch(u){if(n=null,r)throw u}const a=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:s,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1});!n&&o&&o(a);const c=await a.createWritable();return"stream"in e?(await e.stream().pipeTo(c),a):"body"in e?(await e.body.pipeTo(c),a):(await c.write(await e),await c.close(),a)},_L={__proto__:null,default:EL},OL=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise((t,n)=>{const r=document.createElement("input");r.type="file";const o=[...e.map(c=>c.mimeTypes||[]),...e.map(c=>c.extensions||[])].join();r.multiple=e[0].multiple||!1,r.accept=o||"",r.style.display="none",document.body.append(r);const s=c=>{typeof i=="function"&&i(),t(c)},i=e[0].legacySetup&&e[0].legacySetup(s,()=>i(n),r),a=()=>{window.removeEventListener("focus",a),r.remove()};r.addEventListener("click",()=>{window.addEventListener("focus",a)}),r.addEventListener("change",()=>{window.removeEventListener("focus",a),r.remove(),s(r.multiple?Array.from(r.files):r.files[0])}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),PL={__proto__:null,default:OL},TL=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise((t,n)=>{const r=document.createElement("input");r.type="file",r.webkitdirectory=!0;const o=i=>{typeof s=="function"&&s(),t(i)},s=e[0].legacySetup&&e[0].legacySetup(o,()=>s(n),r);r.addEventListener("change",()=>{let i=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(i=i.filter(a=>a.webkitRelativePath.split("/").every(c=>!e[0].skipDirectory({name:c,kind:"directory"})))):i=i.filter(a=>a.webkitRelativePath.split("/").length===2),o(i)}),"showPicker"in HTMLInputElement.prototype?r.showPicker():r.click()})),AL={__proto__:null,default:TL},ML=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);const n=document.createElement("a");let r=e;"body"in e&&(r=await async function(i,a){const c=i.getReader(),u=new ReadableStream({start:h=>async function g(){return c.read().then(({done:v,value:b})=>{if(!v)return h.enqueue(b),g();h.close()})}()}),d=new Response(u),p=await d.blob();return c.releaseLock(),new Blob([p],{type:a})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(await r);const o=()=>{typeof s=="function"&&s()},s=t.legacySetup&&t.legacySetup(o,()=>s(),n);return n.addEventListener("click",()=>{setTimeout(()=>URL.revokeObjectURL(n.href),3e4),o()}),n.click(),null},kL={__proto__:null,default:ML};const LL={NODE_ENV:"production",NPM_PACKAGE_VERSION:"1.0.0",STUDIO_NPM_PACKAGE_VERSION:"1.0.23"}.REACT_APP_VERSION??"1.0.0",NL=le(function(){var n;const t=(n=window.grapesjs)==null?void 0:n.version;return l.jsxs(D,{col:!0,space:"m",children:[l.jsx(D,{justify:"center",children:l.jsxs(k,{className:H("relative"),children:[l.jsx(Ll,{className:H("w-24 opacity-50")}),t&&l.jsx(ut,{className:H(V.bgA,"absolute gs-utl-right-[-20px] bottom-0"),label:`v${t}`,s:"s",pill:!0})]})}),l.jsxs(k,{children:[l.jsxs("p",{children:[l.jsx("b",{children:"GrapesJS Studio"})," is an innovative experimental editor, initially created to improve and extend the customization capability of the"," ",l.jsx("a",{className:H(ro.link),href:"https://grapesjs.com",children:"GrapesJS"})," ","library. Beyond pushing the evolution of the core library itself, this application aspires to empower individuals in creating and managing their web projects autonomously, free from subscriptions or dependency on the internet connection."]}),l.jsx("br",{}),l.jsxs("p",{children:["If you like the vision of this project and you're eager to play a role in its continued development, consider becoming a backer or sponsor through"," ",l.jsx("a",{className:H(ro.link),href:"https://opencollective.com/grapesjs",children:"Open Collective"}),"."]})]}),l.jsxs(k,{className:H(V.txtLowEmphasis,"text-right"),children:["GrapesJS Studio: v",LL," (alpha)"]})]})}),$L=le(function(){return l.jsxs(D,{col:!0,space:"m",children:[l.jsx(D,{justify:"center",children:l.jsx(k,{className:P("relative"),children:l.jsx(Ll,{className:P("w-24 opacity-50")})})}),l.jsx(k,{children:l.jsxs("p",{children:["We're excited to introduce the GrapesJS Studio SDK, an embeddable version of the Studio editor.",l.jsx("br",{}),l.jsx("br",{}),"The Studio SDK offers a powerful and flexible web editing experience that can be seamlessly integrated into your platform as a white-label editor. This enables your users to effortlessly create and manage content with advanced tools.",l.jsx("br",{}),l.jsx("br",{}),"You can try the initial release of the Studio SDK by creating a license and following the instructions on the"," ",l.jsx("a",{className:P(ro.link),href:"/dashboard/sdk/licenses",target:"_blank",children:"Studio SDK license page"}),l.jsx("br",{}),l.jsx("br",{}),"If you have any questions or need assistance with specific use cases, please fill out this"," ",l.jsx("a",{className:P(ro.link),href:"https://forms.gle/VUycp3rc8iCpbh9k8",target:"_blank",rel:"noreferrer",children:"form"})," ","and we'll get back to you as soon as possible."]})})]})});function DL({onCopy:e,getValue:t,value:n,title:r="Copy",...o}){const[s,i]=f.useState(!1),a=()=>{Ow((t==null?void 0:t())??n),i(!0),e==null||e()};return f.useEffect(()=>{if(!s)return;const c=setTimeout(()=>i(!1),3e3);return()=>clearTimeout(c)},[s]),l.jsx(Ct,{onClick:a,title:r,type:"button",size:"lg",withBg:!0,...o,children:l.jsx(Z,{className:H(s&&V.tA),icon:s?Y.check:Y.contentCopy,size:ie.s})})}const xb=[{id:"html",label:"HTML"},{id:"mjml",label:"MJML"}],IL=le(function(t){const n=Te(),r=ve(),{isProjectTypeEmail:o}=r,s=r.editor,[i,a]=f.useState(xb[0].id),[c,u]=f.useState(),{isDarkTheme:d}=Wt(),[p]=f.useState(()=>yf(s.getCss())),[h,g]=f.useState(),v=x=>n.t(`actions.showCode.${x}`),b={...t.options,...o?{export:!1}:{}},y=()=>{s.runCommand("gjs-export-zip",{filenamePfx:"gjs-export",root:async x=>{const w=await Oa(x),S={};for(const C in w){const j=w[C],{filename:E,content:O}=j;if(j.path){const A=j.path.split("/").filter(Boolean);let _=S;for(const T of A)_[T]=_[T]||{},_=_[T];_[E]=O}else S[E]=O}return S}})};f.useEffect(()=>{var x;if(o){let w=s.getHtml();if(i!=="mjml")try{const S=s.runCommand("mjml-code-to-html");(x=S.errors)!=null&&x.length&&console.warn(S.errors),w=S.html}catch(S){console.error(S)}u(w)}else(async()=>{const C=(await Oa(s,{page:s.Pages.getSelected(),skipProject:!0,styles:"skip"})).find(j=>j.mimeType==="text/html");C&&u(C.content)})()},[i]),f.useEffect(()=>{var x;h&&((x=h.getModel())==null||x.setValue(c),$g(h))},[h,c]);const m={padding:5,isDarkTheme:d,clean:!0};return l.jsxs(D,{col:!0,space:"m",children:[l.jsxs(D,{className:P("h-96"),space:"m",children:[l.jsxs(k,{className:P("relative"),grow:!0,children:[o&&l.jsxs(D,{className:P("absolute top-3 right-3 z-10"),space:"s",nowrap:!0,children:[l.jsx(Ee,{value:i,onChange:a,options:xb,className:P("min-w-24")}),l.jsx(DL,{getValue:()=>h.getModel().getValue()})]}),c!==void 0&&l.jsx(Mr,{value:c,language:"html",onMount:g,...m})]}),!o&&l.jsx(k,{grow:!0,children:l.jsx(Mr,{value:p,language:"css",...m})})]}),b.export!==!1&&l.jsx(D,{justify:"end",children:l.jsx(ze,{size:"m2",variant:"pr",onClick:y,children:v("exportButton")})})]})}),VL={position:{x:"left",y:"bottom"},offset:{y:10}},HL=[{id:ar.auto,label:"Auto"},{id:ar.dark,label:"Dark"},{id:ar.light,label:"Light"}],BL={size:"s"},Ef=".grapesjs",zL=(e,t)=>{const n=e==null?void 0:e.settingsMenu;return n!==!1&&(n==null?void 0:n[t])!==!1},FL=({actions:e,editor:t,buttons:n,sdkOptions:r})=>{const o=r.actions;return o===!1?[]:xt(o)?o({actions:e,editor:t}):o||(n?xt(n)?n({items:e,editor:t}):n:e)},RL="gs-cmp-topbar-right",UL=le(function({className:t,buttons:n,...r}){var B;const o=ct(),{Commands:s,UndoManager:i,Components:a}=o,{theme:c,setTheme:u}=Wt(),d=ve(),{installEvent:p,appInstalled:h,isBrowserMode:g,setInstallEvent:v,sdkOptions:b,isProjectTypeEmail:y}=d,m=Sn(),x=Te(),w=$=>x.t(`actions.${$}`),S=(B=b.commands)==null?void 0:B.options,C=o.Storage.events,j="change:changesCount",E=($,M)=>()=>{xt($)?$({editor:o}):s.isActive($)?s.stop($):s.run($,M)},O=$=>({[`command:run:${$}`]:({setState:M})=>M({active:!0}),[`command:stop:${$}`]:({setState:M})=>M({active:!1})}),A=[{id:tn.componentOutline,icon:Y.borderRadius,tooltip:w("componentOutline.title"),onClick:E("core:component-outline"),editorEvents:O("core:component-outline")},{id:tn.preview,icon:Y.eye,tooltip:w("preview.title"),onClick:E("core:preview"),editorEvents:O("core:preview")},{id:tn.fullscreen,icon:Y.fullscreen,tooltip:w("fullscreen.title"),onClick:E("core:fullscreen",{target:"body"}),editorEvents:O("core:fullscreen")},{id:tn.showCode,icon:Y.xml,tooltip:w("showCode.title"),onClick:()=>m.open({title:w("showCode.title"),content:()=>l.jsx(IL,{options:S==null?void 0:S[tn.showCode]})})},{id:tn.showImportCode,icon:Y.trayArrowDown,tooltip:w("importCode.title"),onClick:()=>m.open({title:w("importCode.title"),content:()=>l.jsx(Ig,{})})},{id:tn.clearCanvas,icon:Y.delete,tooltip:w("clearCanvas.title"),onClick:()=>m.confirm({title:w("clearCanvas.title"),content:w("clearCanvas.content"),confirmButton:{variant:"danger",children:w("clearCanvas.title")},onConfirm:()=>{var $;if(y){const M=($=a.getWrapper())==null?void 0:$.findType("mjml")[0];M==null||M.components().forEach(L=>{L.components("")})}else o.Components.clear()}})},{id:tn.store,tooltip:w("store.title"),onClick:async()=>!d.isSaving&&o.store(),editorEvents:{"change:changesCount":({setState:$})=>$({}),[C.startStore]:({setState:$})=>$({disabled:!0}),[C.endStore]:({setState:$})=>$({disabled:!1})},label:()=>l.jsxs("div",{className:P("relative"),children:[l.jsx(Z,{icon:Y.floppy,size:ie.s}),!!o.getDirtyCount()&&!d.isSaving&&l.jsx("div",{className:P("absolute right-0 gjs-p-0.5 bottom-0 gjs-rounded-full",V.bg),children:l.jsx("div",{className:P(We.dot,V.bgW)})}),d.isSaving&&l.jsx("div",{className:P("absolute right-0 bottom-0 gjs-rounded-full",V.bg),children:l.jsx(Z,{icon:Y.refresh,size:"11px",className:P(We.spin)})})]})},{id:tn.undo,icon:Y.arrowULeftTop,disabled:!0,onClick:E("core:undo"),editorEvents:{[j]:({setState:$})=>$({disabled:!i.hasUndo()})}},{id:tn.redo,icon:Y.arrowURightTop,disabled:!0,onClick:E("core:redo"),editorEvents:{[j]:({setState:$})=>$({disabled:!i.hasRedo()})}}],_=FL({actions:A,sdkOptions:b,editor:o,buttons:n}),T=[{id:"about",label:w("about.title"),icon:Y.helpCircle,action:()=>m.open({size:"m",title:w("about.title"),content:()=>l.jsx(NL,{})})},{id:"embed",label:w("embed.title"),icon:Y.powerPlug,action:()=>m.open({size:"m",title:w("embed.title"),content:()=>l.jsx($L,{})})},{id:"openProject",label:w("open.title"),icon:Y.folder,action:async()=>{const M=await(await vL({extensions:[Ef]})).text();d.loadProjectData(JSON.parse(M))}},{id:"saveProject",label:w("save.title"),icon:Y.contentSave,action:async()=>{const $=o.getProjectData(),M=new Blob([JSON.stringify($)]),L=`Untitled-${new Date().toISOString().replace("T","-").replace(/:|\./g,"").substring(0,17)}`;await yL(M,{fileName:`${L}${Ef}`,extensions:[Ef]})}},{id:"loadProject",label:w("newProject.title"),icon:Y.newspaperVariantOutline,action:()=>m.open({fullH:!0,title:w("newProject.title"),content:()=>l.jsx(TM,{})})},{id:"installApp",label:w(h?"installApp.installed":"installApp.title"),icon:Y.applicationBracketsOutline,action:async()=>{if(h)return;p==null||p.prompt();const $=await(p==null?void 0:p.userChoice);($==null?void 0:$.outcome)==="accepted"&&v()}},...b.customTheme?[]:[{id:"theme",label:l.jsxs(D,{items:"center",space:"m",children:[l.jsx(k,{children:"Theme"}),l.jsx(k,{children:l.jsx(bo,{tabs:HL,onChange:$=>u($),value:c,variant:"pills"})})]})}]].filter(({id:$})=>!((!g||!p)&&$==="installApp"||!zL(b,$))),N=($,M)=>L=>{xt($)&&($(L),M())};return l.jsxs(D,{space:"s",items:"center",justify:"end",className:P(RL,_e.xS,t),...r,children:[_.map(({id:$,...M})=>l.jsx(df,{size:"s",...M},$)),l.jsx(k,{children:b.settingsMenu!==!1&&T.length>0&&l.jsx(ur,{pos:VL,title:!1,padding:!1,handler:l.jsx(Z,{icon:Y.cog,size:ie.s}),buttonProps:BL,overlay:!0,children:({close:$})=>l.jsx(l.Fragment,{children:T.map(M=>l.jsx(Cl,{action:N(M.action,$),icon:M.icon,label:M.label},M.id))})})})]})}),WL=({items:e,editor:t,customItems:n})=>n===!1?[]:xt(n)?n({items:e,editor:t}):n||e,wb=e=>({icon:Y.plus,size:ie.s,className:P("gs-utl-transition-transform",e&&"gs-utl-rotate-45")}),GL="gs-cmp-topbar-left",KL=le(function({buttons:t,className:n,style:r}){const o=ve(),s=Te(),{isOpen:i,toggleOpen:a}=sg(),c=o.editor,d=s.tScoped("blockManager")("blocks"),p=WL({items:[{id:`blocks-${d}`,tooltip:d,size:qv.s,icon:wb(i),variant:Kv.primary,editorEvents:{[lo.toggleBlocksPanel]:({fromEvent:h,setState:g})=>{g({icon:wb(h.isOpen)})}},onClick:()=>a()}],customItems:t,editor:c});return l.jsx(D,{space:"s",items:"center",justify:"start",className:P(GL,_e.xS,n),style:r,children:p.map(({id:h,...g})=>l.jsx(df,{...g},h))})}),Oi="gs-cmp-editor-topbar",qL=le(function({className:t,height:n,style:r,children:o,leftContainer:s,rightContainer:i,devices:a}){const{topBarSize:c,isInPreview:u,editor:d,isTopSidebarOpen:p}=ve(),h=n??c,g=f.useMemo(()=>({...r,height:h,marginTop:u||!p?`-${h}px`:0}),[u,p,r]);return l.jsxs(l.Fragment,{children:[l.jsx(k,{className:re(Oi,"gs-utl-transition-spacing gs-utl-w-full",J.bb,V.br,t),style:g,children:o??l.jsxs(D,{className:re(`${Oi}__wrp`,"gs-utl-h-full"),items:"center",full:!0,children:[l.jsx(k,{className:re(`${Oi}__wrp-left`),grow:!0,children:s!==!1&&l.jsx(KL,{...s})}),l.jsx(k,{className:re(`${Oi}__wrp-center`),children:a!==!1&&l.jsx(lb,{...a})}),l.jsx(k,{className:re(`${Oi}__wrp-right`),grow:!0,children:i!==!1&&l.jsx(Lr,{children:l.jsx(UL,{...i})})})]})}),l.jsx(k,{className:re("gs-utl-transition-transform gs-utl-absolute gs-utl-top-0 gs-utl-left-0 gs-utl-z-10",!u&&"-gs-utl-translate-y-full"),children:l.jsx(ze,{className:re("gs-utl-m-4",V.bg),size:"s",onClick:()=>d==null?void 0:d.Commands.stop("core:preview"),children:l.jsx(Z,{icon:Y.eyeOff,size:ie.s})})})]})}),YL="gs-sidebar-top",Sb=f.memo(le(function({height:t,children:n,...r}){return l.jsx(qL,{height:t,...r,style:kl(r),className:re(YL,"gs-utl-flex",Ml(r)),children:n?vr(n):void 0})})),XL="gs-canvas-sidebar-top",ZL=f.memo(le(function({className:t,sidebarTop:n,...r}){return l.jsxs(yo,{className:re(XL,"gs-utl-flex gs-utl-flex-col",t),grow:!0,...r,children:[l.jsx(Sb,{...n}),l.jsx(Yv,{grow:!0})]})})),JL=le(function(t){const{leftSidebarSize:n,setLeftSidebarSize:r,editor:o,isInPreview:s,isLeftSidebarOpen:i,sdkProps:a,showPages:c}=ve(),u=a.children,d=t.width,p=d??n,h=f.useMemo(()=>({marginLeft:s||!i?`-${p}px`:0,...t.style}),[p,s,i,t.style]),g=()=>{o==null||o.refresh()},v=(y,m,x)=>{r(x.getBoundingClientRect().width)},b=t.resizable!==!1;return l.jsx(Vl,{className:re(P(["h-full transition-spacing",J.br,V.br]),t.className),right:b,style:h,height:"100%",width:p,minWidth:d??200,maxWidth:d??400,onResize:g,onResizeStop:v,children:t.children??l.jsxs(D,{full:!0,col:!0,children:[c&&l.jsx(k,{className:P(["w-full",J.bb,V.br]),children:l.jsx(Fu,{children:y=>l.jsxs(l.Fragment,{children:[Tt(u,bf),l.jsx(ib,{...y}),Tt(u,vf)]})})}),l.jsx(k,{className:P(["w-full overflow-hidden flex flex-col"]),grow:!0,children:l.jsx(zu,{children:y=>l.jsxs(l.Fragment,{children:[Tt(u,pf),l.jsx(Jv,{...y}),Tt(u,ff)]})})})]})})}),QL="gs-sidebar-left",e4=f.memo(le(function({children:t,width:n,resizable:r,...o}){return l.jsx(JL,{className:re(QL,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Ml(o)),width:n,resizable:r,style:kl(o),children:t?vr(t):void 0})})),t4=le(function(t){const{rightSidebarSize:n,setRightSidebarSize:r,editor:o,isInPreview:s,isRightSidebarOpen:i}=ve(),a=f.useMemo(()=>({marginRight:s||!i?`-${n}px`:0,...t.style}),[n,s,i,t.style]),c=()=>{o==null||o.refresh()},u=(d,p,h)=>{r(h.getBoundingClientRect().width)};return l.jsx(Vl,{className:re(P(["h-full transition-spacing",J.bl,V.br]),t.className),left:!0,style:a,height:"100%",width:n,minWidth:200,maxWidth:400,onResize:c,onResizeStop:u,children:t.children??l.jsx(bb,{})})}),n4="gs-sidebar-right",r4=f.memo(le(function({children:t,...n}){return l.jsx(t4,{className:re(n4,"gs-utl-flex gs-utl-flex-col gs-utl-flex-nowrap",Ml(n)),style:kl(n),children:t?vr(t):void 0})})),o4="gs-sidebar-bottom",s4=f.memo(le(function({children:t,className:n,style:r,height:o,...s}){const{isInPreview:i,isBottomSidebarOpen:a}=ve(),c=o??35,u=f.useMemo(()=>({height:c,marginBottom:i||!a?`-${c}px`:0,...r}),[i,a,r]);return l.jsx(yo,{className:re(o4,"gs-utl-flex gs-utl-transition-spacing",J.bt,V.br,n),style:u,...s,children:t?vr(t):void 0})})),i4="gs-panel-blocks",a4=f.memo(le(function({className:t,symbols:n,search:r,...o}){const s=ve().sdkProps.children,i={search:r,symbols:n,isOpen:!0};return l.jsx(qn,{className:re(i4,"gs-utl-overflow-hidden",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...o,children:l.jsxs(Lr,{children:[Tt(s,sf),l.jsx(Lv,{className:re("gs-utl-overflow-hidden gs-utl-flex-nowrap"),...i}),Tt(s,of)]})})})),l4="gs-field-textarea";function jb(e){const{className:t,value:n,label:r,size:o,description:s,placeholder:i,readOnly:a,disabled:c,required:u,onChange:d}=e,p=rd(e);return l.jsxs("div",{className:P(l4,t),children:[!!r&&l.jsx(vt,{size:o,children:r}),!!s&&l.jsx(vt,{size:o,as:"span",className:P(V.txtLowEmphasis),capitalize:!1,children:s}),l.jsx(cb,{size:o,children:l.jsx("textarea",{className:P(p),value:n,placeholder:i,readOnly:a,disabled:c,required:u,onChange:h=>d==null?void 0:d(h.target.value)})})]})}const Fl="gs-page-settings",c4=`${Fl}-header`,u4=`${Fl}-content`,d4=`${Fl}-footer`,Cb="",Eb=le(function({className:t,classNameHeader:n,classNameContent:r,classNameFooter:o,page:s,size:i=La.m}){const a=ve(),{isDarkTheme:c}=Wt(),u=Te(),[d,p]=f.useState(s),[h,g]=f.useState(()=>hg(d,a)),[v,b]=f.useState(()=>u.t("update")),y=u.tScoped("pageManager.settings"),m=u.tScoped("pageManager.settings.fields"),x=a.editor,w={containerClassName:H("min-h-80"),size:i,padding:5,isDarkTheme:c,clean:!0},S=T=>g(N=>({...N,...T})),C=T=>{T.preventDefault();const{name:N,...B}=h;B.customCodeHead=kw(B.customCodeHead),B.customCodeBody=Mw(B.customCodeBody),d?(LE(d,B),d.setName(N)):a.setProjectDataCustom({globalPageSettings:B}),b(u.t("updated")),setTimeout(()=>b(u.t("update")),2e3),ME(x)},j={tooltip:u.t("clear")},E=(d==null?void 0:d.getId())??Cb,O=T=>{const N=x.Pages.get(T);p(N),g(hg(N,a))},A=kE(d),_=[{id:Cb,label:y("global")},...x.Pages.getAll().map(T=>({id:T.getId(),label:T.getName()}))];return l.jsx("form",{onSubmit:C,className:H(Fl,"h-full",t),children:l.jsxs(D,{col:!0,full:!0,className:H("gap-1 gs-utl-overflow-hidden"),nowrap:!0,children:[l.jsx(k,{className:H(c4,n,V.br,J.bb),children:l.jsx(Ee,{value:E,onChange:O,options:_,handlerSelected:T=>l.jsxs(l.Fragment,{children:[l.jsx("b",{children:u.t("pageManager.page")}),": ",T.label]})})}),l.jsxs(D,{col:!0,className:H(u4,"gap-5 overflow-y-auto",r),nowrap:!0,children:[!!E&&l.jsxs(l.Fragment,{children:[l.jsx(rt,{size:i,value:h.name,onChange:T=>S({name:T}),label:m("name.label"),description:m("name.description"),required:!0}),!A&&l.jsx(rt,{size:i,value:h.slug,onChange:T=>S({slug:Pc(T)}),label:m("slug.label"),description:m("slug.description"),required:!0})]}),l.jsx(rt,{size:i,value:h.title,onChange:T=>S({title:T}),label:m("title.label"),description:m("title.description")}),l.jsx(jb,{size:i,value:h.description,onChange:T=>S({description:T}),label:m("description.label"),description:m("description.description")}),l.jsx(hi,{size:i,clear:j,value:h.favicon,onChange:T=>S({favicon:T}),onOpen:()=>{x.Assets.open({select(T){S({favicon:T.getSrc()}),x.Assets.close()}})},label:m("favicon.label"),description:m("favicon.description")}),l.jsx(rt,{size:i,value:h.keywords,onChange:T=>S({keywords:T}),label:m("keywords.label"),description:m("keywords.description")}),l.jsx(rt,{size:i,value:h.socialTitle,onChange:T=>S({socialTitle:T}),label:m("socialTitle.label"),description:m("socialTitle.description")}),l.jsx(hi,{size:i,clear:j,value:h.socialImage,onChange:T=>S({socialImage:T}),onOpen:()=>{x.Assets.open({select(T){S({socialImage:T.getSrc()}),x.Assets.close()}})},label:m("socialImage.label"),description:m("socialImage.description")}),l.jsx(jb,{size:i,value:h.socialDescription,onChange:T=>S({socialDescription:T}),label:m("socialDescription.label"),description:m("socialDescription.description")}),l.jsx(Mr,{language:"html",value:h.customCodeHead,onChange:T=>S({customCodeHead:T}),label:m("customCodeHead.label"),description:m("customCodeHead.description"),...w},`head-${E}`),l.jsx(Mr,{language:"html",value:h.customCodeBody,onChange:T=>S({customCodeBody:T}),label:m("customCodeBody.label"),description:m("customCodeBody.description"),...w},`body-${E}`)]}),l.jsx(D,{className:H(d4,"mt-auto",o,V.br,J.bt),children:l.jsx(ze,{type:"submit",variant:"pr",size:"m2",full:!0,children:v})})]})})}),f4="gs-panel-page-settings",p4=f.memo(le(function({className:t,page:n,...r}){return l.jsx(qn,{className:re(f4,"gs-utl-overflow-hidden",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...r,children:l.jsx(Lr,{children:l.jsx(Eb,{className:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),page:n,size:La.s,classNameHeader:_e.s,classNameContent:_e.s,classNameFooter:_e.s})})})})),h4=(e,{t,id:n})=>t(`fields.${n}.label`)||nr(`${e}`.replace(/-/g," ")),_b=(e,{t,id:n})=>{const r=Bt(e)?{id:e,label:e}:e;return{...r,label:t(`fields.${n}.options.${r.id}`)||r.label}},Ob=e=>e.get("defaultValue")||"",Rl=e=>e.get("field"),Pb=e=>`${e.get("value")||Ob(e)||""}`,g4=(e,t)=>e||Ob(t)||"",Ul=({record:e,value:t,partial:n})=>{e.set({value:g4(t,e)},{partial:n}),e.em.refreshCanvas({tools:!0})},Wl=(e,t)=>({className:"gs-utl-w-full",size:"s",value:Pb(e),label:h4(e.get("label")||e.id||"",t),onChange:(n,r)=>Ul({record:e,value:n,partial:r})}),m4=(e,t)=>{const n=Rl(e),r=Cs(n)?n:void 0,o=(r==null?void 0:r.units)||[],s=ZP(Pb(e)),i=s.number,a=s.unit||o[0]||"";return{...Wl(e,t),value:i,valueUnit:a,min:r==null?void 0:r.min,max:r==null?void 0:r.max,step:r==null?void 0:r.step,units:r==null?void 0:r.units,onChange:(c,u)=>{Ul({value:c?`${c}${a}`:"",record:e,partial:u})},onChangeUnit:c=>{Ul({value:i?`${i}${c}`:"",record:e})}}},Tb=(e,t)=>{var s;const n=Rl(e),r=Cs(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(i=>_b(i,t)))||[];return{...Wl(e,t),options:o,onChange:i=>Ul({value:i,record:e})}},v4=(e,t)=>{var s;const n=Rl(e),r=Cs(n)?n:void 0,o=((s=r==null?void 0:r.options)==null?void 0:s.map(i=>_b(i,t)))||[];return{...Tb(e,t),size:"s",options:o}};function b4(e,t){const n=Rl(e);switch(Bt(n)?n:n==null?void 0:n.type){case"radio":return l.jsx(At,{...v4(e,t)});case"select":return l.jsx(Ee,{...Tb(e,t)});case"number":return l.jsx(je,{...m4(e,t)});case"color":return l.jsx(dr,{...Wl(e,t)});default:return l.jsx(rt,{...Wl(e,t)})}}const Ab="gs-cmp-global-style-field",y4=le(function({record:t}){const n=ve(),o=Te().tScoped("globalStyleManager"),[,s]=f.useState(0),i=n.editor,a=t.id,c={t:o,id:a};return f.useEffect(()=>{if(!i)return;const u=`data:path:${t.getPath("value")}`,d=()=>s(p=>++p);return i.on(u,d),()=>{i.off(u,d)}},[i]),l.jsx(D,{className:re(Ab,`${Ab}__${a}`),children:b4(t,c)})}),Pi="gs-cmp-global-style-manager",Mb=({items:e,category:t,className:n})=>{const r=re(t?`${Pi}__cat-fields--${t.id}`:`${Pi}__uncat-fields`,"gs-utl-gap-2",_e.xy,n);return l.jsx(D,{className:r,nowrap:!0,col:!0,children:e.map(o=>l.jsx(y4,{record:o},o.id))})},x4=le(function(){const t=E3(),{recordsByCategory:n,openCategories:r}=t,s=Te().tScoped("globalStyleManager");return l.jsx(D,{col:!0,full:!0,nowrap:!0,className:re(Pi,"gs-utl-flex-grow gs-utl-overflow-hidden"),children:l.jsx(D,{col:!0,nowrap:!0,className:re(`${Pi}__fields`,We.scrollY,"gs-utl-select-none"),children:n.length?n.map(({category:i,items:a},c)=>i?l.jsx(Uo,{sticky:!0,open:r.get(i.id)??i.open,handler:s(`categories.${i.id}.label`)||i.label||i.id,onChange:({open:u})=>t.setCategoryOpen(i.id,u),className:u=>re(`${Pi}__cat-fields`,ch.itemList({index:c,open:u,length:n.length}),c===0&&J.bt),children:l.jsx(Mb,{category:i,items:a})},i.id):l.jsx(Mb,{items:a,className:re(n.length!==1&&[J.bt,V.br])},c)):l.jsx(D,{className:re("gs-utl-text-center"),justify:"center",children:s("notFound")})})})}),w4="gs-panel-global-styles",S4=f.memo(le(function({className:t,...n}){return l.jsx(qn,{className:re(w4,"gs-utl-overflow-auto",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-auto"),...n,children:l.jsx(Lr,{children:l.jsx(x4,{})})})})),j4="gs-cmp-text",C4=f.memo(function({className:t,content:n,children:r,...o}){return l.jsx(yo,{className:re(j4,t),...o,children:r||n})}),E4="gs-panel-assets",kb=e=>[...(e==null?void 0:e.AssetManager.getAll().models)||[]],_4=f.memo(le(function({className:t,onSelect:n,content:r,...o}){const i=ve().editor,[a,c]=f.useState();f.useEffect(()=>{if(!i)return;const d=i.Assets.events.all,p=Ws(()=>c(kb(i)));return i.on(d,p),c(kb(i)),()=>{i.off(d,p)}},[i]);const u=d=>i&&(n==null?void 0:n({asset:d,editor:i}));return l.jsx(qn,{className:re(E4,"gs-utl-overflow-hidden gs-utl-h-full",t),classNameAccordion:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),classNameAccordionContent:re("gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),...o,children:i&&a&&l.jsx(Av,{assets:a,select:u,close:eh,content:r})})})),O4={row:hk,column:mk,text:C4,tabs:Uk,button:df,devices:lb,panelPages:ab,panelPageSettings:p4,panelLayers:sb,panelPagesLayers:gL,panelBlocks:a4,panelGlobalStyles:S4,panelSelectors:Zk,panelStyles:Qk,panelProperties:dL,panelSidebarTabs:pL,panelAssets:_4,sidebarRight:r4,sidebarLeft:e4,sidebarTop:Sb,sidebarBottom:s4,canvas:Yv,canvasSidebarTop:ZL},vr=e=>{const t=Array.isArray(e)?e:e?[e]:[],n=w3();return t.map((r,o)=>{const{id:s="",type:i,...a}=Bt(r)?{type:"text",content:r}:r||{},c=O4[i],u=i==="custom"&&a.component,d=n.layoutChildren.get(s),p=s||o;return d?l.jsx(il,{id:s,...d},p):u?l.jsx(il,{id:s,...a,component:u},p):c?l.jsx(c,{id:s,...a},p):null})},as="gs-layout-panel",P4=f.memo(le(function({className:t,layout:n,children:r}){const o=Ud(),s=Sn(),[i,a]=f.useState(!1),[c,u]=f.useState(null),{id:d,header:p,layout:h,props:g,full:v=!0,style:b,toRemove:y}=n,m=()=>{a(!1),setTimeout(()=>o.remove(d,{force:!0}),150)},x=n.placer||{type:uo.absolute,position:co.left},w=x.type===uo.absolute?x:null,S=x.type===uo.popover?x:null,C=x.type===uo.static?x:null,j=x.type===uo.dialog?x:null,E=(w==null?void 0:w.position)===co.left,O=(w==null?void 0:w.position)===co.right,A=(w==null?void 0:w.position)===co.top,_=(w==null?void 0:w.position)===co.bottom,T=C||j,N=Bt(h)?{type:h}:h,B=!!w,$=f.useMemo(()=>({clientWidth:0,clientHeight:0,getBoundingClientRect:()=>new DOMRect(S==null?void 0:S.x,S==null?void 0:S.y)}),[S==null?void 0:S.x,S==null?void 0:S.y,i]),M=Ha($,c,{strategy:"fixed",placement:"auto",modifiers:[{name:"offset",options:{offset:[0,10]}}],...S==null?void 0:S.options}),L=re(as,V.br,V.bg,V.txt,"gs-utl-z-10",B&&"gs-utl-absolute gs-utl-transition",(E||A)&&"gs-utl-top-0 gs-utl-left-0",O&&"gs-utl-top-0 gs-utl-right-0",_&&"gs-utl-bottom-0 gs-utl-left-0",B&&v&&(E||O?"gs-utl-h-full":"gs-utl-w-full"),!i&&B?"gs-utl-opacity-0":"gs-utl-opacity-100",!i&&E&&"-gs-utl-translate-x-full",!i&&O&&"gs-utl-translate-x-full",!i&&A&&"-gs-utl-translate-y-full",!i&&_&&"gs-utl-translate-y-full",S&&J.rnd,n.className,t);f.useEffect(()=>{const I=setTimeout(()=>a(!0));return()=>clearTimeout(I)},[]),f.useEffect(()=>{y&&m()},[y]);const F={...b,width:(b==null?void 0:b.width)||(E||O?240:void 0)};bm({current:c},{onTrigger:m,enabled:(S==null?void 0:S.closeOnClickAway)&&i});const R=l.jsxs(D,{className:L,style:F,col:!0,nowrap:!0,children:[p!==!1&&l.jsx(k,{className:re(`${as}__header`,p==null?void 0:p.className),style:p==null?void 0:p.style,children:l.jsx(rf,{onClose:m,className:H(_e.s),title:l.jsxs(D,{className:`${as}__title`,space:"s",items:"center",children:[!!(p!=null&&p.icon)&&l.jsx(Z,{icon:p.icon,size:ie.s}),!!(p!=null&&p.label)&&l.jsx(k,{grow:!0,children:p.label})]})})}),l.jsx(k,{className:re(`${as}__content`,"gs-utl-overflow-hidden gs-utl-flex gs-utl-flex-col"),grow:!0,children:h||d?vr({...g,id:d,...N}):r})]});return f.useEffect(()=>{if(i){if(C){const I=o.layoutsById.get(C.layoutId);if(I)return I.setState({children:R}),()=>{I.setState({children:null})}}else if(j)return s.open({content:()=>R,title:j.title,size:j.size,onClose:m}),()=>{s.close()}}},[i]),T?null:S?l.jsx("div",{className:H(as,`${as}-popover`,"gs-utl-z-20"),ref:u,style:M.styles.popper,...M.attributes.popper,children:l.jsx(In,{show:i,...Es,unmount:!1,children:R})}):R})),T4=le(function({className:t,...n}){const{layouts:r}=Ud();return l.jsx("div",{className:re("gs-layout-panel-container",t),...n,children:r.map(o=>l.jsx(P4,{layout:o},o.id))})});function Lb({open:e=!1,title:t,isDarkTheme:n,description:r,children:o,onClose:s,closable:i=!0,fullH:a,buttons:c=[],size:u}){const d=()=>i&&s(),p=P(["gs-cmp-modal relative w-full gjs-p-5 gjs-my-8 overflow-hidden shadow-xl gjs-rounded-xl flex flex-col",J.b,V.br,V.bg,V.txt,u==="lg"?"max-w-lg":u==="l"?"max-w-5xl":u==="s"?"max-w-sm":"max-w-md"]);return l.jsx(In,{show:e,as:f.Fragment,children:l.jsx($s,{onClose:d,className:P("fixed z-20 inset-0 overflow-y-auto",n&&Tu),children:l.jsxs("div",{className:P("flex justify-center min-h-screen",a?"items-stretch":"items-center"),children:[l.jsx(In.Child,{as:f.Fragment,...Es,children:l.jsx($s.Overlay,{className:P("fixed inset-0 gs-utl-bg-black/50 transition-opacity")})}),l.jsx(In.Child,{as:f.Fragment,...Nc,children:l.jsxs("div",{className:p,children:[i&&l.jsx("div",{className:P("absolute top-0 right-0 gjs-m-3"),children:l.jsx(Ct,{block:!0,border:!1,onClick:d,children:l.jsx(Z,{icon:Y.close,size:1})})}),l.jsx($s.Title,{as:"h3",className:P("text-lg font-medium leading-6"),children:t}),l.jsx($s.Description,{children:r}),l.jsx("div",{className:P("gjs-mt-4 h-full"),children:o}),c.length>0&&l.jsx(D,{className:P("gjs-mt-4"),space:"m",items:"center",justify:"end",children:c.map((h,g)=>l.jsx(ze,{...h},g))})]})}),l.jsx($s,{onClose:()=>{},open:!1})]})})})}const A4=le(function(){const{isOpen:t,close:n,content:r,modalProps:o}=Sn(),{isDarkTheme:s}=Wt();return l.jsx(Lb,{open:t,onClose:n,isDarkTheme:s,...o,children:xt(r)?r():r})}),M4="gs-panel-page-settings-cnt",k4=le(function(){const t=Te(),n=ve(),{panelPageSettings:r}=n,o=t.tScoped("pageManager.settings"),{isOpen:s,page:i,width:a}=r,c=P(M4,"absolute left-0 top-0 h-full transition-transform z-10",!s&&"-translate-x-full",J.br,V.br,V.bg),u=P(_e.s),d=()=>n.setPanelPageSettings({isOpen:!1});return l.jsxs(D,{className:c,style:{width:a},col:!0,nowrap:!0,children:[l.jsx(k,{children:l.jsx(rf,{title:o("title"),onClose:d,className:u})}),l.jsx(Lr,{children:l.jsx(k,{className:P("overflow-hidden"),grow:!0,children:r.isOpen&&l.jsx(Eb,{page:i,size:La.s,classNameHeader:u,classNameContent:u,classNameFooter:u})})})]})});function L4({children:e}){const t=Bu(),[n,r]=f.useState({enabled:!1,actions:[],Container:()=>null});f.useEffect(()=>{if(!t)return;const s=t.RichTextEditor,i=s.events.custom,a=c=>{const u=s.getAll().map(d=>({id:d.name,icon:d.icon,run:()=>s.run(d),state:d.currentState}));r({enabled:c.enabled,Container:Gv(c.container),actions:u})};return t.on(i,a),()=>{t.off(i,a)}},[t]);const{Container:o}=n;return t&&o?l.jsx(o,{children:e(n)}):null}function N4(){return l.jsx(L4,{children:({actions:e})=>l.jsx(D,{className:P(V.bg,J.b,J.rnd,V.br,"gjs-m-2"),nowrap:!0,children:e.map((t,n)=>l.jsx(ze,{border:!1,rounded:!1,active:t.state===1,disabled:t.state===-1,className:P("w-6",V.br,n!==0&&J.bl),dangerouslySetInnerHTML:{__html:t.icon},onClick:t.run},t.id))})})}const $4=le(function(){const t=ve(),{projectType:n,editorKey:r,setEditor:o,sdkProps:s,sdkOptions:i,sdkCurrentLayout:a}=t,{isDarkTheme:c}=Wt(),u=zd(),[d,p]=f.useMemo(()=>[c3(n,i),u.getPluginsToLoad(n,t)],[n,r]),h=b=>{var y,m;o(b),(y=s.onEditor)==null||y.call(s,b),(m=i.onEditor)==null||m.call(i,b),b.on("destroy",()=>{var x;(x=i.onDestroy)==null||x.call(i,b),t.setIsReady(!1)})},g=b=>{var y,m;(y=s.onReady)==null||y.call(s,b),(m=i.onReady)==null||m.call(i,b),t.setIsReady(!0)},v=(b,y)=>{var m,x;(m=s.onUpdate)==null||m.call(s,b,y),(x=i.onUpdate)==null||x.call(i,b,y)};return l.jsxs(n5,{className:P("gs-editor-gjs h-full w-full",J.b,V.br),grapesjs:i.gjsScript,grapesjsCss:i.gjsStyle,options:d,plugins:p,onEditor:h,onReady:g,onUpdate:v,children:[vr(a),l.jsx(T4,{}),l.jsx(tk,{}),l.jsx(k4,{}),l.jsx(qO,{children:({assets:b,select:y,close:m,Container:x})=>l.jsx(x,{children:l.jsx(Av,{assets:b,select:y,close:m})})}),l.jsx(r5,{children:({open:b,title:y,close:m,content:x})=>l.jsx(Lb,{open:b,onClose:m,title:y,isDarkTheme:c,size:"l",children:x})}),l.jsx(fk,{}),l.jsx(N4,{}),l.jsx(A4,{})]},r)}),Nb="0.22.3",D4=`https://unpkg.com/grapesjs@${Nb}/dist/grapes.min.js`,I4=`https://unpkg.com/grapesjs@${Nb}/dist/css/grapes.min.css`,V4=!1,H4=le(function(){const t=ve(),{updateAppShell:n}=Wt(),{editor:r,editorKey:o,sdkLicenseError:s,sdkMisconfigurationError:i}=t,a=Sn(),c=Te(),u=zd();return Au(),f.useEffect(()=>{n&&document.querySelector("body").classList.add(...H(V.bg,"overflow-hidden").split(" "));let d;return _c()||(d=setTimeout(()=>t.loadLicense(),100)),()=>{clearTimeout(d)}},[]),f.useEffect(()=>{i&&console.error(i)},[i]),f.useEffect(()=>{if(!r)return;"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(async h=>{if(!h.files.length)return;const b=await(await h.files[0].getFile()).text();t.loadProjectData(JSON.parse(b))});const{plg:d}=t.queryParams;d&&!u.selectedShown&&a.open({fullH:!0,title:c.t("pluginManager.plugins"),content:()=>l.jsx(Dv,{selectedId:d})});const p=Ws(()=>t.refreshEditorCanvas(),100);return window.addEventListener("scroll",p,!0),()=>window.removeEventListener("scroll",p,!0)},[r]),f.useEffect(()=>{},[]),l.jsxs(D,{className:H("relative transition-colors h-full",V.bg,V.txt),justify:"center",items:"center",col:!0,children:[!!o&&(s?l.jsxs(D,{col:!0,justify:"center",items:"center",children:[l.jsx("div",{children:"SDK License Error"}),l.jsx("span",{className:H("text-sm"),children:s})]}):i?l.jsx(D,{col:!0,justify:"center",items:"center",children:l.jsx("div",{children:"SDK Misconfiguration Error"})}):l.jsx($4,{})),l.jsx(In,{show:!o,as:f.Fragment,...Es,children:l.jsx(ji,{className:H("z-10",V.bg),abs:!0})})]})}),_f={licenseKey:"",settingsMenu:{about:!1,embed:!1,openProject:!1,saveProject:!1,loadProject:!1,installApp:!1}},B4=f.forwardRef(function(t,n){var c;const{options:r=_f}=t,o={theme:r.theme},s=r.localStorage,i=s?ig(s,o):o,a={localSettingsStore:{...i,key:s,updateAppShell:r.updateAppShell,rootEl:r.root},appEditorStore:{isDev:V4,isStage:!!r.stg,licenseKey:r.licenseKey,projectType:(i==null?void 0:i.lastProjectType)||((c=r.project)==null?void 0:c.type)||Ze.web,sdkProps:{...t,options:{..._f,gjsScript:D4,gjsStyle:I4,...r}}}};return l.jsx(P3,{initialState:a,children:l.jsx(FM,{ref:n,children:l.jsx(H4,{})})})}),Z4="",J4="",Q4="",$b=B4;$e.AssetStorageType=Pu,$e.BlockManagerAfter=of,$e.BlockManagerBefore=sf,$e.BuiltInActionButtons=tn,$e.DesignManagerTab=vb,$e.GlobalStyleFieldType=og,$e.IconNames=Y,$e.LayerManagerAfter=ff,$e.LayerManagerBefore=pf,$e.LayersProvider=zu,$e.LayoutPlacers=uo,$e.LayoutPosition=co,$e.PageManagerAfter=vf,$e.PageManagerBefore=bf,$e.PagesProvider=Fu,$e.ProjectStorageType=Sa,$e.SelectorsProvider=Ru,$e.StudioCommands=he,$e.StudioCustomLayout=il,$e.StudioEditor=$b,$e.StudioEvents=lo,$e.ThemeValue=ar,$e.ToastVariant=ao,$e.default=$b,$e.useEditor=ct,Object.defineProperties($e,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
